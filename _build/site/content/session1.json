{"version":3,"kind":"Article","sha256":"f05bea30c674bb6147fe407f3e614a4c9d9b094c048f6c489608ab0e99cfa622","slug":"session1","location":"/lectures/session1.md","dependencies":[],"frontmatter":{"title":"Session 1 : Les Fondamentaux de Python pour le Développement","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Roman Schwalek","given":"Roman","family":"Schwalek"},"name":"Roman Schwalek","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/romanschw/python-course-dauphine","numbering":{"title":{"offset":1}},"source_url":"https://github.com/romanschw/python-course-dauphine/blob/main/lectures/session1.md","edit_url":"https://github.com/romanschw/python-course-dauphine/edit/main/lectures/session1.md","exports":[{"format":"md","filename":"session1.md","url":"/session1-6b05ad126b98ca821de2c3fc52654ad5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Objectifs de la session","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EC4o5toXm5"}],"identifier":"objectifs-de-la-session","label":"Objectifs de la session","html_id":"objectifs-de-la-session","implicit":true,"key":"Rh1Jdx8i0k"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Créer une classe Python et comprendre les méthodes spéciales : ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZhzwAlxava"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uic6cSugl9"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JzzU5kTtxe"},{"type":"inlineCode","value":"__repr__","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Pox0J760aq"},{"type":"text","value":", ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YktWDo6PE7"},{"type":"inlineCode","value":"__str__","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UisuCLsX7k"},{"type":"text","value":" et ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Gsd4PcpHEk"},{"type":"inlineCode","value":"__len__","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kuZ5PinGp0"}],"key":"GCeQSilFmN"}],"key":"C8wEGipShT"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Comprendre la différence entre une classe et son instance","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QgtZSpcpDo"}],"key":"HCAtamRi2p"}],"key":"oVdxRg5sIU"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Utiliser les type hints et comprendre les types de données","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"EsEcvpHVPS"}],"key":"KVUEabdZOs"}],"key":"x6urHMZ4Ha"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Implémenter des fonctions et méthodes","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KoNoZLwhb9"}],"key":"ZUW1hsibL4"}],"key":"yOZTMHz3Bp"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Maîtriser les rudiments de Git","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pKJ9dbdqld"}],"key":"jRsq44nGPf"}],"key":"Y8xYl1vzch"}],"key":"kCh8BMQRBS"},{"type":"thematicBreak","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"U163hgiEqZ"},{"type":"heading","depth":2,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Contexte du projet","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"nUkOJMWKWG"}],"identifier":"contexte-du-projet","label":"Contexte du projet","html_id":"contexte-du-projet","implicit":true,"key":"seS4tSCjjX"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Nous allons utiliser un projet de création de librairie Python comme prétexte pour découvrir les concepts de développement pythoniques essentiels. Cette librairie sera basée sur des concepts classiques de gestion de portefeuille.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"OmVRRnmYeI"}],"key":"syTDTyokNi"},{"type":"thematicBreak","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"woMGnBzNdt"},{"type":"heading","depth":2,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Partie 1","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"HFEunVLYS0"}],"identifier":"partie-1","label":"Partie 1","html_id":"partie-1","implicit":true,"key":"RmP6cFy9rW"},{"type":"thematicBreak","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"fvSFXlx2Te"},{"type":"heading","depth":3,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Étape 1.0 : Configuration du projet avec Git","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"ptx5YshVB2"}],"identifier":"id-tape-1-0-configuration-du-projet-avec-git","label":"Étape 1.0 : Configuration du projet avec Git","html_id":"id-tape-1-0-configuration-du-projet-avec-git","implicit":true,"key":"EAobvRAyC8"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Avant de commencer à coder, configurons notre environnement de développement et initialisons notre dépôt Git.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"LsE8rItnaX"}],"key":"IuuHPEZUrt"},{"type":"code","lang":"bash","value":"# Initialiser le dépôt Git local\ngit init --initial-branch main\n\n# Configurer votre identité Git\ngit config --global user.name \"VotreNom\"\ngit config --global user.email \"votre.email@example.com\"\n\n# Vérifier la configuration\ngit config --global --list\n\n# Créer le premier commit\ngit add .\ngit commit -m \"Initial commit: project structure\"\n\n# Lier à un dépôt distant après création sur GitHub\ngit remote add origin https://github.com/username/pyvest.git\ngit push -u origin main #(ou --set-upstream)","position":{"start":{"line":27,"column":1},"end":{"line":45,"column":1}},"key":"WB4rZKWAhU"},{"type":"thematicBreak","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"rgvKxj9QcB"},{"type":"heading","depth":3,"position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"Étape 1.1 : L’objectif de cette session","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"GMRY7etq1i"}],"identifier":"id-tape-1-1-lobjectif-de-cette-session","label":"Étape 1.1 : L’objectif de cette session","html_id":"id-tape-1-1-lobjectif-de-cette-session","implicit":true,"key":"mbjdW9rU27"},{"type":"paragraph","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"La classe que l’on va construire au cours de cette session :","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"Q2Jnw6Kybu"}],"key":"K9NnzlAduG"},{"type":"code","lang":"python","value":"import math\n\nclass PriceSeries:\n    \"\"\"\n    Représentation d'une série temporelle de prix financiers.\n    \n    Attributes:\n        values: Liste de prix indexés par le temps\n        name: Identifiant de la série\n    \n    Class Attributes:\n        TRADING_DAYS_PER_YEAR: Constante d'annualisation \n        (convention US equities, peut varier selon l'actif)\n    \"\"\"\n    \n    TRADING_DAYS_PER_YEAR: int = 252\n    \n    def __init__(self, values: list[float], name: str = \"unnamed\") -> None:\n        self.values = list(values)  # Copie défensive\n        self.name = name\n    \n    def __repr__(self) -> str:\n        return f\"PriceSeries({self.name!r}, {len(self.values)} values)\"\n    \n    def __str__(self) -> str:\n        if self.values:\n            return f\"{self.name}: {self.values[-1]:.2f} (latest)\"\n        return f\"{self.name}: empty\"\n    \n    def __len__(self) -> int:\n        return len(self.values)\n    \n    def linear_return(self, t: int) -> float:\n        \"\"\"\n        Calcule le rendement linéaire (arithmétique) entre t-1 et t.\n        \n        - Non ajusté des dividendes (utiliser le prix ajusté pour cela)\n        - Additif entre actifs : r_portfolio = Σ(weight_i × r_i)\n        \n        Args:\n            t: Position temporelle (doit être >= 1)\n\n        Returns:\n            Rendement en décimal (0.05 = 5%)\n        \"\"\"\n        return (self.values[t] - self.values[t-1]) / self.values[t-1]\n    \n    def log_return(self, t: int) -> float:\n        \"\"\"\n        Calcule le log-rendement entre t-1 et t.\n        \n        - Additif dans le temps : Σ(log returns) = log(P_T / P_0)\n        - Permet d'approximer la variance multipériode par la somme des variances\n        \n        Args:\n            t: index temporel\n\n        Returns:\n            Log-rendement\n        \"\"\"\n        return math.log(self.values[t] / self.values[t-1])\n    \n    @property\n    def total_return(self) -> float:\n        \"\"\"\n        Rendement total (non annualisé) sur toute la période.\n        \"\"\"\n        if len(self.values) < 2:\n            return 0.0\n        return (self.values[-1] - self.values[0]) / self.values[0]","position":{"start":{"line":53,"column":1},"end":{"line":124,"column":1}},"key":"aNV9H6Mwcc"},{"type":"thematicBreak","position":{"start":{"line":126,"column":1},"end":{"line":126,"column":1}},"key":"IAa7pR224f"},{"type":"heading","depth":3,"position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Étape 1.2 : Structure du projet","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"wqf2xhBYSx"}],"identifier":"id-tape-1-2-structure-du-projet","label":"Étape 1.2 : Structure du projet","html_id":"id-tape-1-2-structure-du-projet","implicit":true,"key":"JfwizdIpiI"},{"type":"paragraph","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"Comment démarrer rapidement le projet ? Profitez de la puissance de uv et de ses commandes intégrées:","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"KRjbnvxEqG"}],"key":"d6cRaSPYTs"},{"type":"code","lang":"bash","value":"uv init pyvest --lib --package","position":{"start":{"line":132,"column":1},"end":{"line":134,"column":1}},"key":"DKnFIbqCy0"},{"type":"paragraph","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"text","value":"Cette commande crée la structure suivante :","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"CiQXx7aaR2"}],"key":"UXb1yPpQ4u"},{"type":"code","lang":"markdown","value":"pyvest/\n├── pyproject.toml      # Configuration du projet\n├── README.md           # fichier markdown pour présenter un repo git\n└── src/                # Dossier qui contient le code source de la librairie dans des modules / packages\n    └── pyvest/         \n        ├── __init__.py # Fait de pyvest un package\n        └── ...         # Nos modules iront ici","position":{"start":{"line":138,"column":1},"end":{"line":146,"column":1}},"key":"bvzpJzHyiW"},{"type":"paragraph","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Créons ensuite notre environnement virtuel :","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"kQNTYP4n1K"}],"key":"jtnKfEs9eJ"},{"type":"code","lang":"bash","value":"uv venv -p 3.12 .venv\nsource .venv/bin/activate","position":{"start":{"line":150,"column":1},"end":{"line":153,"column":1}},"key":"lMRydk9p8G"},{"type":"thematicBreak","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"atZoVz1cKg"},{"type":"heading","depth":3,"position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Module, Package et Librairie","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"n2HylX4DVN"}],"identifier":"module-package-et-librairie","label":"Module, Package et Librairie","html_id":"module-package-et-librairie","implicit":true,"key":"lecwX9QWPk"},{"type":"blockquote","position":{"start":{"line":159,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"strong","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"Module","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"ngvkxJu4Ki"}],"key":"qkMa1Wkfru"},{"type":"text","value":" : Un fichier Python (","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"KQRVGizy6E"},{"type":"inlineCode","value":".py","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"T93hvSwiyV"},{"type":"text","value":") contenant du code (fonctions, classes, variables) qui peut être importé par d’autres fichiers.","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"ovZ9JS20tU"}],"key":"dktCUejxl4"},{"type":"paragraph","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"strong","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"text","value":"Package","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"GN9tjx0DRD"}],"key":"pVLsQeQmsN"},{"type":"text","value":" : Un répertoire contenant un fichier ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"NJvBm6g0Oj"},{"type":"inlineCode","value":"__init__.py","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"b076uJMdrH"},{"type":"text","value":" et potentiellement d’autres modules ou sous-packages. Le ","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"GMmk4yI6bY"},{"type":"inlineCode","value":"__init__.py","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"Sk8iKK0S0y"},{"type":"text","value":" indique à Python que ce répertoire doit être traité comme un package importable.","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"key":"sRLtY6sSKO"}],"key":"NED1gHAgAR"},{"type":"paragraph","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"strong","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"text","value":"Librairie","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"nogZumRDIW"}],"key":"OLiw1geHMR"},{"type":"text","value":" : Une collection de code créée par un tiers, composée d’un ou plusieurs packages. L’utilisateur final n’a pas besoin de connaître le code interne ; il utilise simplement l’interface publique (API).","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"rVTHUxELcc"}],"key":"impH2KJ5QA"},{"type":"paragraph","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"strong","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"text","value":"API (Application Programming Interface)","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"Bx1j6y2ZSh"}],"key":"yN3kFwDVNt"},{"type":"text","value":" : L’interface publique d’une application. Elle définit comment d’autres programmes peuvent communiquer avec votre code (appeler des fonctions, instancier des classes, etc.).","position":{"start":{"line":165,"column":1},"end":{"line":165,"column":1}},"key":"RAdjZIcKeG"}],"key":"lbD6nfhgXu"}],"key":"jC0RC5IZlu"},{"type":"thematicBreak","position":{"start":{"line":167,"column":1},"end":{"line":167,"column":1}},"key":"jRly8jVAeB"},{"type":"heading","depth":3,"position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"Étape 1.3 : Création de la première classe","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"ULXj4npUPM"}],"identifier":"id-tape-1-3-cr-ation-de-la-premi-re-classe","label":"Étape 1.3 : Création de la première classe","html_id":"id-tape-1-3-cr-ation-de-la-premi-re-classe","implicit":true,"key":"zdNsWNKdcN"},{"type":"paragraph","position":{"start":{"line":171,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"text","value":"On peut créer notre premier fichier :\n(attention toutes les commandes sont en bash, demandez à votre LLM préféré pour les commandes en powershell)\n(Surtout essayez de comprendre les commandes et pas juste bêtement copier/coller)","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"Ytj4U7kL54"}],"key":"vOJHEEArmj"},{"type":"code","lang":"bash","value":"touch src/pyvest/priceseries.py","position":{"start":{"line":175,"column":1},"end":{"line":177,"column":1}},"key":"TQjjav3hxy"},{"type":"code","lang":"python","value":"# src/pyvest/priceseries.py\n\nclass PriceSeries:\n    pass","position":{"start":{"line":179,"column":1},"end":{"line":184,"column":1}},"key":"gvrVeOXyRD"},{"type":"paragraph","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"text","value":"On peut tester dans le REPL (read-eval-print-loop) :","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"EkZhLCeZgt"}],"key":"cFxrX6wm4q"},{"type":"code","lang":"python","value":">>> from pyvest.priceseries import PriceSeries\n>>> ps = PriceSeries()\n>>> ps\n<pyvest.priceseries.PriceSeries object at 0x...>\n>>> type(ps)\n<class 'pyvest.priceseries.PriceSeries'>","position":{"start":{"line":188,"column":1},"end":{"line":195,"column":1}},"key":"S1FOPEdLw6"},{"type":"thematicBreak","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"QSWOxpMs69"},{"type":"heading","depth":3,"position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"Qu’est-ce qu’une classe ?","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"ppMn8gS1Yy"}],"identifier":"quest-ce-quune-classe","label":"Qu’est-ce qu’une classe ?","html_id":"quest-ce-quune-classe","implicit":true,"key":"yBj2B6bMgk"},{"type":"paragraph","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"Une ","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"iJsmaWmaCj"},{"type":"strong","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"classe","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"OJBDngu00g"}],"key":"UW0JsT1VdB"},{"type":"text","value":" est un patron / template qui définit la structure et le comportement d’un type d’objet. On peut la concevoir comme une usine capable de fabriquer des objets selon un modèle défini.","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"LvStHJPwjy"}],"key":"ZFran2O9vM"},{"type":"paragraph","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"Les objets créés à partir d’une classe sont appelés ","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"Eo69uCi9gm"},{"type":"strong","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"instances","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"o5ZKE28GKo"}],"key":"tJiPjma3q0"},{"type":"text","value":". Chaque instance possède :","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"UwExQcy0oR"}],"key":"TzatWTQc5G"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":205,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Des ","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"SzuTotDM48"},{"type":"strong","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"attributs","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"jVRcy7NfcG"}],"key":"ZdL4GEYJFR"},{"type":"text","value":" : variables propres à l’instance","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"WmiPvjiwNB"}],"key":"kTVzgUUf5J"}],"key":"WDiYFzCM6W"},{"type":"listItem","spread":true,"position":{"start":{"line":206,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Des ","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"DtP58la0wm"},{"type":"strong","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"méthodes","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"XiVPAVpNCS"}],"key":"WsTQt568r2"},{"type":"text","value":" : fonctions ayant accès aux attributs de l’instance","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"EtNjHqhF95"}],"key":"CjCtR37Amj"}],"key":"zlUz0UGWfo"}],"key":"r9HBKs9vam"},{"type":"code","lang":"python","value":"# PriceSeries est la classe\n# ps1 et ps2 sont des instances (les objets créés)\nps1 = PriceSeries([100, 105, 110], \"close\")\nps2 = PriceSeries([50, 52, 51], \"close\")\n\n# Chaque instance a ses propres données\nps1.name\nps2.name","position":{"start":{"line":208,"column":1},"end":{"line":217,"column":1}},"key":"WXdxhcgU7f"},{"type":"blockquote","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"strong","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"text","value":"Note sur ","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"key":"jhDb3iKivW"},{"type":"inlineCode","value":"pass","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"key":"Ef67qsh2py"}],"key":"oUMjzHpNbb"},{"type":"text","value":" : C’est une instruction qui ne fait rien. Elle permet juste de définir des structures vides (classes, fonctions) sans casser le code définit après.","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"key":"GeC9CYhUql"}],"key":"V7K2pIKQeP"}],"key":"uk91gz3Jgh"},{"type":"thematicBreak","position":{"start":{"line":221,"column":1},"end":{"line":221,"column":1}},"key":"eQizyFeiCo"},{"type":"heading","depth":3,"position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"text","value":"Expression vs Statement (Instruction)","position":{"start":{"line":223,"column":1},"end":{"line":223,"column":1}},"key":"Ms9bYNscDW"}],"identifier":"expression-vs-statement-instruction","label":"Expression vs Statement (Instruction)","html_id":"expression-vs-statement-instruction","implicit":true,"key":"ihD0WqOBtC"},{"type":"paragraph","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"children":[{"type":"text","value":"Petite distinction importante.","position":{"start":{"line":225,"column":1},"end":{"line":225,"column":1}},"key":"mmrIvDEmSH"}],"key":"MitiJHUSSq"},{"type":"paragraph","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"Une ","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"Asz83IOXiK"},{"type":"strong","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"text","value":"expression","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"m79QNe9QZp"}],"key":"UGsmT9o7gU"},{"type":"text","value":" est une combinaison de valeurs, variables et opérateurs qui s’évalue pour produire une valeur :","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"J5Yh1g0sJl"}],"key":"DNMHjaCyjj"},{"type":"code","lang":"python","value":"# Expressions - chacune produit une valeur\n3 + 4              # → 7\nx * 2              # → valeur numérique\nlen(my_list)       # → int\na > b              # → booléen\n\"hello\".upper()    # → \"HELLO\"","position":{"start":{"line":229,"column":1},"end":{"line":236,"column":1}},"key":"eKrph5ctLW"},{"type":"paragraph","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"Un ","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"Nf9EACYZ30"},{"type":"strong","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"text","value":"statement","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"HJyrGru1Fr"}],"key":"ySC0dwXhAX"},{"type":"text","value":" (instruction) est une unité de code qui effectue une action mais ne produit pas de valeur utilisable :","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"fSQgScAZtt"}],"key":"hpT8VLI7bm"},{"type":"code","lang":"python","value":"# Statements - effectuent des actions\nif condition:      # Contrôle de flux\n    pass\nfor x in items:    # Boucle\n    pass\ndef ma_fonction(): # Définition de fonction\n    pass\nreturn valeur      # Retour de fonction (donc contrôle de flux)\nimport math        # Import\nx = 5              # Assignation","position":{"start":{"line":240,"column":1},"end":{"line":251,"column":1}},"key":"QHuMukCmja"},{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"strong","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Cas particulier","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"YAPcKyJHce"}],"key":"LM4ugaSTuf"},{"type":"text","value":" : L’opérateur morse ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"FG2yJIYaUe"},{"type":"inlineCode","value":":=","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"TVstIDI8cj"},{"type":"text","value":" (walrus operator) permet une assignation qui est aussi une expression :","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"RDubI4S8UN"}],"key":"Jr1u5lT981"},{"type":"blockquote","position":{"start":{"line":255,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"code","lang":"python","value":"# Assignation classique (statement)\nn = len(data)\nif n > 10:\n    print(n)\n\n# Avec walrus operator (statement + expression)\nif (n := len(data)) > 10:\n    print(n)","position":{"start":{"line":255,"column":1},"end":{"line":264,"column":1}},"key":"CA1N4Ek0Vp"}],"key":"pnj0ytrsvo"},{"type":"thematicBreak","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"B480RCcSc6"},{"type":"heading","depth":3,"position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"Étape 1.4 : La méthode ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"zRXynXR4Rh"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"sEku5vtG1D"}],"identifier":"id-tape-1-4-la-m-thode-init","label":"Étape 1.4 : La méthode __init__","html_id":"id-tape-1-4-la-m-thode-init","implicit":true,"key":"XhjO7RzRnr"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"La méthode ","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"qtNUBmVdVn"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"oR13lp7ILC"},{"type":"text","value":" est l’","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"shMXwLFpMu"},{"type":"strong","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"initialiseur","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"DAOfOcRGoT"}],"key":"gE3ATtv60X"},{"type":"text","value":" de la classe. Elle est appelée automatiquement après la création de l’instance pour initialiser ses attributs.","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"Y4kNzjoj4V"}],"key":"a8UiZYlF3i"},{"type":"blockquote","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"strong","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"Note (peu importante)","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"qCoy4qj7OM"}],"key":"EDQZqks5xu"},{"type":"text","value":" : On appelle souvent ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"nvshsvSadA"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"CEIP1nuMcX"},{"type":"text","value":" le “constructeur” par abus de langage mais le constructeur en Python est ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"JgG5rFeYKh"},{"type":"inlineCode","value":"__new__","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"iTBGAGUD2Q"},{"type":"text","value":", qui crée l’instance. ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"abQOEP8bW0"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"ms3Yd0sKxJ"},{"type":"text","value":" reçoit cette instance déjà créée et l’initialise.","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"ChZBIYFp9n"}],"key":"blGYaLnE2K"}],"key":"r6Klc2jCPl"},{"type":"code","lang":"python","value":"class PriceSeries:\n    \n    TRADING_DAYS_PER_YEAR: int = 252  # Attribut de classe\n    \n    def __init__(self, values: list[float], name: str = \"unnamed\") -> None:\n        self.values = values  # Attribut d'instance\n        self.name = name      # Attribut d'instance","position":{"start":{"line":274,"column":1},"end":{"line":282,"column":1}},"key":"MFfGmPGncy"},{"type":"paragraph","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"Le paramètre ","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"cdVOxg73G5"},{"type":"inlineCode","value":"self","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"HRRYXQDSmH"},{"type":"text","value":" est une référence à l’instance spécifique en cours de création. Python le passe automatiquement lors de l’appel.","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"iHvHubnrIH"}],"key":"T3RdnGq6cd"},{"type":"code","lang":"python","value":"# Ce que vous écrivez :\nps = PriceSeries([100, 105], \"close\")\n\n# Ce que Python exécute en coulisses (approximativement) :\ntype.__call__(PriceSeries, [[100, 105], \"close\"])\n# 1. Dans __call__, création de l'instance via __new__\ninstance = cls.__new__(PriceSeries)\n# 2. Initialisation via __init__\nPriceSeries.__init__(instance, [100, 105], \"close\")\n# 3. Assignation à la variable\nps = instance","position":{"start":{"line":286,"column":1},"end":{"line":298,"column":1}},"key":"Dzb4fMUWkp"},{"type":"paragraph","position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"children":[{"type":"strong","position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"children":[{"type":"text","value":"Test dans le REPL :","position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"key":"dtOlPpsUtk"}],"key":"VCuQ2s1Jwr"}],"key":"IEKEpAgaBm"},{"type":"code","lang":"python","value":">>> ps = PriceSeries([100.0, 102.5, 101.0, 105.0], \"close\")\n>>> ps.values\n[100.0, 102.5, 101.0, 105.0]\n>>> ps.name\n'close'\n>>> ps.TRADING_DAYS_PER_YEAR  # Accessible via l'instance\n252\n>>> PriceSeries.TRADING_DAYS_PER_YEAR  # Ou via la classe\n252","position":{"start":{"line":302,"column":1},"end":{"line":312,"column":1}},"key":"fbskxCKhMD"},{"type":"thematicBreak","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"xSoyquQBnH"},{"type":"heading","depth":3,"position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"text","value":"Attributs de classe vs Attributs d’instance","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"z5xzIRe510"}],"identifier":"attributs-de-classe-vs-attributs-dinstance","label":"Attributs de classe vs Attributs d’instance","html_id":"attributs-de-classe-vs-attributs-dinstance","implicit":true,"key":"Ypu5QopedG"},{"type":"table","position":{"start":{"line":318,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"Type","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"Oh5soQobVI"}],"key":"HAcby1ye9i"},{"type":"tableCell","header":true,"position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"Définition","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"VzyxmsGruK"}],"key":"TvGurW0iao"},{"type":"tableCell","header":true,"position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"Partage","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"BbG2w1XRPa"}],"key":"LoLQibSxDf"},{"type":"tableCell","header":true,"position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"Exemple","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"ghTWE05WKM"}],"key":"QtkQ8wEz1f"}],"key":"e25bKVlLc7"},{"type":"tableRow","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"strong","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"text","value":"Attribut de classe","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"Zzxy1H0IJn"}],"key":"INtzY2ZpYM"}],"key":"Wd3zjS3RNW"},{"type":"tableCell","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"text","value":"Défini directement dans la classe","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"LrLXcJOGEV"}],"key":"l9vjrS2HcW"},{"type":"tableCell","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"text","value":"Partagé par toutes les instances","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"UB0OInztve"}],"key":"vNHiWLWy9C"},{"type":"tableCell","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"children":[{"type":"inlineCode","value":"TRADING_DAYS_PER_YEAR = 252","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"o3LyhaMgqM"}],"key":"iworgxoFGY"}],"key":"ZdGkmewEhc"},{"type":"tableRow","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"strong","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Attribut d’instance","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"oIlppwgiAG"}],"key":"gAIWQLZoMZ"}],"key":"p7cBFyPGVj"},{"type":"tableCell","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Défini via ","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"RKvqzrOUZQ"},{"type":"inlineCode","value":"self.xxx","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"Q9Ps09KHAd"},{"type":"text","value":" dans ","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"eeAtZMavhj"},{"type":"inlineCode","value":"__init__","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"qzP8WwuGBF"}],"key":"JpZBXYukXe"},{"type":"tableCell","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Propre à chaque instance","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"fvxOn08aJO"}],"key":"thBX9FnJuF"},{"type":"tableCell","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"inlineCode","value":"self.values = values","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"XbQlXxBZjf"}],"key":"z7bngzaaOp"}],"key":"D6sIlZca2Z"}],"key":"QugYi3v2EQ"},{"type":"thematicBreak","position":{"start":{"line":323,"column":1},"end":{"line":323,"column":1}},"key":"avKbMM8feD"},{"type":"heading","depth":3,"position":{"start":{"line":325,"column":1},"end":{"line":325,"column":1}},"children":[{"type":"text","value":"Type Hints (Annotations de type)","position":{"start":{"line":325,"column":1},"end":{"line":325,"column":1}},"key":"bqBJe99whs"}],"identifier":"type-hints-annotations-de-type","label":"Type Hints (Annotations de type)","html_id":"type-hints-annotations-de-type","implicit":true,"key":"THCXMNZ9Os"},{"type":"paragraph","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"children":[{"type":"text","value":"Les ","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"irpmvNSyaC"},{"type":"strong","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"children":[{"type":"text","value":"type hints","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"Hx1SchtCQx"}],"key":"FOOrwG1zRb"},{"type":"text","value":" sont des annotations qui indiquent le type attendu des variables, paramètres et valeurs de retour :","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"Gp3KUSW8pg"}],"key":"Rv36IlCMKJ"},{"type":"code","lang":"python","value":"def __init__(self, values: list[float], name: str = \"unnamed\") -> None:\n#                  ↑               ↑              ↑              ↑\n#            paramètre      type attendu    valeur défaut   type retour","position":{"start":{"line":329,"column":1},"end":{"line":333,"column":1}},"key":"f4Y0WAozUr"},{"type":"paragraph","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"children":[{"type":"strong","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"children":[{"type":"text","value":"Points importants :","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"key":"wlX7u7es6j"}],"key":"ZmSvbXyLbG"}],"key":"IbgnNCkwZt"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":337,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":337,"column":1},"end":{"line":338,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"children":[{"type":"strong","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"children":[{"type":"text","value":"Pas d’effet à l’exécution","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"fy2Lf00kzp"}],"key":"Llxel3nUIO"},{"type":"text","value":" : Python n’applique pas les types au runtime. Ce code fonctionne même si on passe des types incorrects.","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"cZXZdNPrcm"}],"key":"Ta0HFw21hT"}],"key":"WRheKyFjRV"},{"type":"listItem","spread":true,"position":{"start":{"line":339,"column":1},"end":{"line":340,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"strong","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"text","value":"Vérification statique","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"xUCOCBe3zN"}],"key":"woLVm90W6R"},{"type":"text","value":" : Les outils comme ","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"rK1H4mgTdB"},{"type":"inlineCode","value":"mypy","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"qYgYyGobSR"},{"type":"text","value":", ","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"W4p3gzTLgq"},{"type":"inlineCode","value":"pyright","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"aFVgcxTpUO"},{"type":"text","value":" ou l’IDE (VS Code/PyCharm) analysent les types avant l’exécution.","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"FBhIiBmSj1"}],"key":"SnFGummxMr"}],"key":"gKJPoDRQUz"},{"type":"listItem","spread":true,"position":{"start":{"line":341,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"strong","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Documentation vivante","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"LtZX13NuBR"}],"key":"Q2UEPhK9Zl"},{"type":"text","value":" : Les types rendent le code plus lisible et auto-documenté.","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"S7Oa36m0hO"}],"key":"mIBlHzezKS"}],"key":"AS5kExf9r7"}],"key":"UOopU2K79A"},{"type":"code","lang":"python","value":"# Ce code s'exécute sans erreur malgré les types incorrects\nps = PriceSeries(\"pas une liste\", 12345)\n# Mais un type checker signalerait le problème","position":{"start":{"line":343,"column":1},"end":{"line":347,"column":1}},"key":"K5buA1i0AW"},{"type":"paragraph","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"strong","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"Principe de Postel","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"iQRJ9CXcXJ"}],"key":"nnqrNiQjSC"},{"type":"text","value":" (utile pour le typage) :","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"MDmZKHBw7B"}],"key":"oWvSdTgBdT"},{"type":"blockquote","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"“Soyez conservateur dans ce que vous envoyez, libéral dans ce que vous acceptez.”","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"uebnvdpCWU"}],"key":"sSO7MUG0To"}],"key":"pX3fD9nMsk"},{"type":"paragraph","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"children":[{"type":"strong","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"children":[{"type":"text","value":"Types courants :","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"XAfztZPQRN"}],"key":"lIlASUdwAh"}],"key":"WbPCDmYSpT"},{"type":"code","lang":"python","value":"# Types simples\nx: int = 5\ny: float = 3.14\ns: str = \"hello\"\nb: bool = True\n\n# Types composés\nnumbers: list[float] = [1.0, 2.0]\nmapping: dict[str, int] = {\"a\": 1}\noptional: str | None = None","position":{"start":{"line":354,"column":1},"end":{"line":365,"column":1}},"key":"nALhpt3QLj"},{"type":"thematicBreak","position":{"start":{"line":367,"column":1},"end":{"line":367,"column":1}},"key":"qbfjJcTXfw"},{"type":"heading","depth":3,"position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"text","value":"Étape 1.5 : Les méthodes ","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"kO0jlJaFea"},{"type":"inlineCode","value":"__repr__","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"K4p4ZJRugA"},{"type":"text","value":" et ","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"ug8UBve1QY"},{"type":"inlineCode","value":"__str__","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"FIPAFdoVoC"}],"identifier":"id-tape-1-5-les-m-thodes-repr-et-str","label":"Étape 1.5 : Les méthodes __repr__ et __str__","html_id":"id-tape-1-5-les-m-thodes-repr-et-str","implicit":true,"key":"icZeQDKqQc"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"Ces méthodes spéciales définissent comment votre objet est représenté sous forme de chaîne de caractères.","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"MGPqzbqZWE"}],"key":"KUu48p7mpY"},{"type":"code","lang":"python","value":"class PriceSeries:\n    # ... (code précédent)\n    \n    def __repr__(self) -> str:\n        \"\"\"Représentation pour les développeurs (debugging).\"\"\"\n        return f\"PriceSeries({self.name!r}, {len(self.values)} values)\"\n    \n    def __str__(self) -> str:\n        \"\"\"Représentation pour les utilisateurs.\"\"\"\n        if self.values:\n            return f\"{self.name}: {self.values[-1]:.2f} (latest)\"\n        return f\"{self.name}: empty\"","position":{"start":{"line":373,"column":1},"end":{"line":386,"column":1}},"key":"pMR5PmQ0iu"},{"type":"paragraph","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"children":[{"type":"strong","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"children":[{"type":"text","value":"Différence clé :","position":{"start":{"line":388,"column":1},"end":{"line":388,"column":1}},"key":"XlCIajbG1n"}],"key":"v4hIH3QUIj"}],"key":"XXC0MdKin1"},{"type":"table","position":{"start":{"line":390,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"text","value":"Méthode","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"vtgQ69WdoQ"}],"key":"eFsOPPqnfm"},{"type":"tableCell","header":true,"position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"text","value":"Appelée par","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"N9s9IHUXwx"}],"key":"zMBsT4Vhij"},{"type":"tableCell","header":true,"position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"text","value":"Usage","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"RJub3ilIMI"}],"key":"FHlw8uaoDR"},{"type":"tableCell","header":true,"position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"text","value":"Format","position":{"start":{"line":390,"column":1},"end":{"line":390,"column":1}},"key":"NZdCAw8FtT"}],"key":"ETBkeTl8i1"}],"key":"V7bXhtKO6r"},{"type":"tableRow","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"inlineCode","value":"__repr__","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"zSSSzhGp8R"}],"key":"VekyVA9fAC"},{"type":"tableCell","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"inlineCode","value":"repr(obj)","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"xyHOYgT3pJ"},{"type":"text","value":", REPL, debugger","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"NDssyxg2S8"}],"key":"xLHv1LWFSy"},{"type":"tableCell","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"text","value":"Développement","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"OAnBPuMRKK"}],"key":"gxUdXR8Q2A"},{"type":"tableCell","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"text","value":"Doit ressembler au code pour recréer l’objet","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"GvgxjjQ3Rh"}],"key":"wT9zA6PULA"}],"key":"OLkuKQk8PD"},{"type":"tableRow","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"inlineCode","value":"__str__","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"BTNGPV7LKN"}],"key":"Trq5YMQu7j"},{"type":"tableCell","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"inlineCode","value":"str(obj)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"rXxSC367h6"},{"type":"text","value":", ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"zZgN4ESwxH"},{"type":"inlineCode","value":"print(obj)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"hHJwSsLlHY"}],"key":"fVMbKwr35W"},{"type":"tableCell","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Utilisateur final","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"lJASPGz5pl"}],"key":"gtI8YxsOBu"},{"type":"tableCell","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Lisible et claire","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"UbTIOkzfzp"}],"key":"uNm6MJS5p7"}],"key":"dfWL9BFmdb"}],"key":"pH0iwMFbRQ"},{"type":"code","lang":"python","value":">>> ps = PriceSeries([100.0, 102.5, 105.0], \"adjusted\")\n>>> ps                    # REPL appelle __repr__\n>>> print(ps)             # print() appelle __str__\n>>> repr(ps)\n>>> str(ps)","position":{"start":{"line":395,"column":1},"end":{"line":401,"column":1}},"key":"seVVxzFVNS"},{"type":"blockquote","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"strong","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"text","value":"Astuce ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"IMs4izHGS5"},{"type":"inlineCode","value":"!r","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"eR8TIzjJIr"},{"type":"text","value":" dans les f-strings","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"OIp2J0iJaS"}],"key":"eXCFhTKDuo"},{"type":"text","value":" : L’expression ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"T17Hc94aA2"},{"type":"inlineCode","value":"{self.name!r}","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"ouVcwIO1TX"},{"type":"text","value":" applique ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"AI07Z3S4vP"},{"type":"inlineCode","value":"repr()","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"dp36TL8joi"},{"type":"text","value":" à la valeur, affichant les guillemets pour les strings. Cela aide à distinguer ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"YxxVLb0Uj9"},{"type":"inlineCode","value":"PriceSeries('AAPL', ...)","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"xmUsZmY46c"},{"type":"text","value":" de ","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"VYwFRg45ZV"},{"type":"inlineCode","value":"PriceSeries(AAPL, ...)","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"xgnowZFrNl"},{"type":"text","value":".","position":{"start":{"line":403,"column":1},"end":{"line":403,"column":1}},"key":"rKsHPmdNfr"}],"key":"Q5ROetwcrZ"}],"key":"c950jI5XXy"},{"type":"thematicBreak","position":{"start":{"line":405,"column":1},"end":{"line":405,"column":1}},"key":"xoscxB2mrR"},{"type":"heading","depth":3,"position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"children":[{"type":"text","value":"Le Python Data Model et les méthodes spéciales","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"vMrI3jtwqW"}],"identifier":"le-python-data-model-et-les-m-thodes-sp-ciales","label":"Le Python Data Model et les méthodes spéciales","html_id":"le-python-data-model-et-les-m-thodes-sp-ciales","implicit":true,"key":"cDdIkAGwXq"},{"type":"paragraph","position":{"start":{"line":409,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"text","value":"Le Python Data Model c’est l’API qu’on utilise pour que nos objets customisés intéragissent avec les fonctionnalités pré-intégrées à Python.","position":{"start":{"line":409,"column":1},"end":{"line":409,"column":1}},"key":"ACm3VkPv0X"}],"key":"iZK8drzLPZ"},{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Les ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"umMvP7hKjV"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"méthodes spéciales","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Zpl2yjc1EB"}],"key":"nxsuy5Wt7K"},{"type":"text","value":" (ou “dunder methods” pour “double underscore”) permettent à vos objets de s’intégrer naturellement avec les opérations Python :","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"qWGbxRMiu5"}],"key":"HbFkJo7qP2"},{"type":"code","lang":"python","value":"# Ce que vous écrivez          # Ce que Python appelle\nlen(obj)                       obj.__len__()\nstr(obj)                       obj.__str__()\nrepr(obj)                      obj.__repr__()\nobj[key]                       obj.__getitem__(key)\nobj1 + obj2                    obj1.__add__(obj2)\nfor x in obj:                  obj.__iter__()","position":{"start":{"line":413,"column":1},"end":{"line":421,"column":1}},"key":"fN4UKR1Y3D"},{"type":"paragraph","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"children":[{"type":"strong","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"children":[{"type":"text","value":"Règle importante","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"key":"otuqxls8qw"}],"key":"LcBEnkeUGF"},{"type":"text","value":" : Vous n’appelez généralement pas ces méthodes directement. C’est l’interpréteur Python qui les appelle pour vous. Écrivez ","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"key":"TZfaTjvGbv"},{"type":"inlineCode","value":"len(ts)","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"key":"eyfuTyaTRi"},{"type":"text","value":", pas ","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"key":"Yi9k66cXme"},{"type":"inlineCode","value":"ts.__len__()","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"key":"LJIp8W0PPS"},{"type":"text","value":".","position":{"start":{"line":423,"column":1},"end":{"line":423,"column":1}},"key":"yKQTNyxsJx"}],"key":"cfP54dwhrC"},{"type":"thematicBreak","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"S4Y7uzV1sk"},{"type":"heading","depth":3,"position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"children":[{"type":"text","value":"Étape 1.6 : Premier commit Git","position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"key":"HyuoRCl1wJ"}],"identifier":"id-tape-1-6-premier-commit-git","label":"Étape 1.6 : Premier commit Git","html_id":"id-tape-1-6-premier-commit-git","implicit":true,"key":"a3wrDEqvjR"},{"type":"paragraph","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"text","value":"Sauvegardons notre progression :","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"key":"WYNaUmNo9Z"}],"key":"hFg0GHbDgm"},{"type":"code","lang":"bash","value":"# Voir les fichiers modifiés\ngit status\n\n# Ajouter les fichiers\ngit add src/pyvest/priceseries.py\n\n# Créer un commit avec un message descriptif\ngit commit -m \"feat: add PriceSeries class with __init__, __repr__, __str__\"\n\n# Vérifier l'historique\ngit log --oneline","position":{"start":{"line":431,"column":1},"end":{"line":443,"column":1}},"key":"GiInenaL7V"},{"type":"paragraph","position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"strong","position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"text","value":"Convention de commit","position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"key":"NhzLw9aeY6"}],"key":"HN1BGu5MFa"},{"type":"text","value":" : Utilisez des messages clairs, par exemple suivant le format : ","position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"key":"Jx2aeNaHL5"},{"type":"inlineCode","value":"type: description","position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"key":"L68fsO5YUf"}],"key":"Obua1FzNkT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":447,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":447,"column":1},"end":{"line":447,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"feat","position":{"start":{"line":447,"column":1},"end":{"line":447,"column":1}},"key":"rnInrapKMn"},{"type":"text","value":": nouvelle fonctionnalité","position":{"start":{"line":447,"column":1},"end":{"line":447,"column":1}},"key":"ccHwXLbJ2d"}],"key":"ApJCwMFlV9"}],"key":"sIzzqM79FB"},{"type":"listItem","spread":true,"position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"fix","position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"key":"gA6CGhQyUW"},{"type":"text","value":": correction de bug","position":{"start":{"line":448,"column":1},"end":{"line":448,"column":1}},"key":"rtxO5n6hiy"}],"key":"LgrTksuiAJ"}],"key":"frLuD8hWmm"},{"type":"listItem","spread":true,"position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"docs","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"qLpryd7Xwv"},{"type":"text","value":": documentation","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"nJoyzKaiqg"}],"key":"DNBA1ir565"}],"key":"AXadeQbYsy"},{"type":"listItem","spread":true,"position":{"start":{"line":450,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"refactor","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"abzgGbY2wM"},{"type":"text","value":": refactorisation sans changement fonctionnel","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"idBqz7kUNg"}],"key":"UmMWW94Iwx"}],"key":"tDlQhxZcZ2"}],"key":"PHRSQvVjsx"},{"type":"thematicBreak","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"BdtWjdhjmc"},{"type":"heading","depth":3,"position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"children":[{"type":"text","value":"Étape 1.7 : Implémentation des méthodes de calcul de rendement","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"IzaDrczBh8"}],"identifier":"id-tape-1-7-impl-mentation-des-m-thodes-de-calcul-de-rendement","label":"Étape 1.7 : Implémentation des méthodes de calcul de rendement","html_id":"id-tape-1-7-impl-mentation-des-m-thodes-de-calcul-de-rendement","implicit":true,"key":"pQgcocYV9Z"},{"type":"code","lang":"python","value":"import math\n\nclass PriceSeries:\n    # ... (code précédent)\n    \n    def linear_return(self, t: int) -> float:\n        \"\"\"Rendement linéaire (arithmétique) entre t-1 et t.\"\"\"\n        return (self.values[t] - self.values[t-1]) / self.values[t-1]\n    \n    def log_return(self, t: int) -> float:\n        \"\"\"Log-rendement entre t-1 et t.\"\"\"\n        return math.log(self.values[t] / self.values[t-1])","position":{"start":{"line":456,"column":1},"end":{"line":469,"column":1}},"key":"z77LoLQLNw"},{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Test dans le REPL :","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"zOnrnfLhXe"}],"key":"aISXRT1Vcj"}],"key":"EnqakxzhyP"},{"type":"code","lang":"python","value":">>> ps = PriceSeries([100.0, 105.0, 103.0, 110.0], \"TEST\")\n>>> ps.linear_return(1)  # (105 - 100) / 100\n>>> ps.log_return(1)\n\n# On peut vérifier l'additivité des log-rendements\n>>> sum(ps.log_return(t) for t in range(1, len(ps.values)))\n>>> math.log(110 / 100)","position":{"start":{"line":473,"column":1},"end":{"line":481,"column":1}},"key":"rkB55SFCfc"},{"type":"paragraph","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Propriétés des rendements :","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"EntG2I9obx"}],"key":"QdVn2VnNFW"}],"key":"lReJs7BehS"},{"type":"table","position":{"start":{"line":485,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"text","value":"Type","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"key":"cbMnvXOOnC"}],"key":"J6HKrjUxlA"},{"type":"tableCell","header":true,"position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"text","value":"Additivité","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"key":"kXkJ8uVvgx"}],"key":"GCU854BwbG"},{"type":"tableCell","header":true,"position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"text","value":"Usage principal","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"key":"UnkiYC8FZb"}],"key":"VFZoPVfDID"}],"key":"eOpkjNSTyP"},{"type":"tableRow","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Linéaire (arithmétique)","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"o2cIAUeANX"}],"key":"c6WFUWeSMR"}],"key":"q2zyDhZMRX"},{"type":"tableCell","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Entre actifs : ","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"J92SuD1rLj"},{"type":"inlineCode","value":"r_p = Σ(w_i × r_i)","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"ZuqVJ0l6de"}],"key":"jjJOYIjIVu"},{"type":"tableCell","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Portefeuille, cross-section","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Ub7CxOSzdF"}],"key":"emPrG90frf"}],"key":"iXLPQzGfr2"},{"type":"tableRow","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"strong","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"text","value":"Logarithmique","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"WpIplLc2zV"}],"key":"yArViqiAww"}],"key":"jNMaEYNnR1"},{"type":"tableCell","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"text","value":"Dans le temps : ","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"C35UfAobh8"},{"type":"inlineCode","value":"r_total = Σ(r_t)","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"RRNMSp09jy"}],"key":"tqF0d8dlSd"},{"type":"tableCell","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"children":[{"type":"text","value":"Série temporelle, volatilité","position":{"start":{"line":488,"column":1},"end":{"line":488,"column":1}},"key":"hD0uEWE9un"}],"key":"kGgNUnSqRK"}],"key":"r1ZVXfOyK7"}],"key":"nvkdId06Go"},{"type":"thematicBreak","position":{"start":{"line":490,"column":1},"end":{"line":490,"column":1}},"key":"nmV0TOjYaj"},{"type":"heading","depth":3,"position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"children":[{"type":"text","value":"Les fonctions en Python","position":{"start":{"line":492,"column":1},"end":{"line":492,"column":1}},"key":"AtrdJz3FTA"}],"identifier":"les-fonctions-en-python","label":"Les fonctions en Python","html_id":"les-fonctions-en-python","implicit":true,"key":"K2GRScM8Fb"},{"type":"paragraph","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"text","value":"Une ","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"U0KwCoHvCQ"},{"type":"strong","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"text","value":"fonction","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"nTQ8slez0Z"}],"key":"KK5DAcjnSp"},{"type":"text","value":" est un bloc de code réutilisable qui effectue une tâche spécifique.","position":{"start":{"line":494,"column":1},"end":{"line":494,"column":1}},"key":"obcitJ7f0h"}],"key":"csDOElOFTg"},{"type":"code","lang":"python","value":"def nom_de_fonction(param1: type1, param2: type2 = valeur_defaut) -> type_retour:\n    \"\"\"Docstring décrivant la fonction.\"\"\"\n    # Corps de la fonction\n    resultat = param1 + param2\n    return resultat #optionnel","position":{"start":{"line":496,"column":1},"end":{"line":502,"column":1}},"key":"ew4OWm0c5D"},{"type":"paragraph","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"children":[{"type":"strong","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"children":[{"type":"text","value":"Composants :","position":{"start":{"line":504,"column":1},"end":{"line":504,"column":1}},"key":"Y6njaYsyuX"}],"key":"H4YqBeFFoW"}],"key":"pqyMjdjmbb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":506,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":506,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"def","position":{"start":{"line":506,"column":1},"end":{"line":506,"column":1}},"key":"cOb3xS7Xgp"},{"type":"text","value":" : mot-clé introduisant la définition","position":{"start":{"line":506,"column":1},"end":{"line":506,"column":1}},"key":"pLDIPEi0QN"}],"key":"KI5EQBBgqC"}],"key":"mDHdEWx2FA"},{"type":"listItem","spread":true,"position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"nom_de_fonction","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"iCNdcWrXS3"},{"type":"text","value":" : identifiant (convention : ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"vkPgkhxuwF"},{"type":"inlineCode","value":"snake_case","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"YlszVTF3WS"},{"type":"text","value":", à la différence du ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"FdLy17WoLX"},{"type":"inlineCode","value":"camelCase","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"wCUStSjTfo"},{"type":"text","value":" par exemple)","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"dnfiN4rYDf"}],"key":"hTv8IJTzTw"}],"key":"HLFNOHXoyD"},{"type":"listItem","spread":true,"position":{"start":{"line":508,"column":1},"end":{"line":508,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"param1, param2","position":{"start":{"line":508,"column":1},"end":{"line":508,"column":1}},"key":"Hskxgrckl7"},{"type":"text","value":" : paramètres recevant des valeurs à l’appel","position":{"start":{"line":508,"column":1},"end":{"line":508,"column":1}},"key":"k1HdC7AWDk"}],"key":"klYlRsxpzh"}],"key":"lnpFniPYLR"},{"type":"listItem","spread":true,"position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"-> type_retour","position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"key":"Xl8puh8nlM"},{"type":"text","value":" : annotation du type de retour","position":{"start":{"line":509,"column":1},"end":{"line":509,"column":1}},"key":"zAFaAdQdME"}],"key":"Ayj49gBgmH"}],"key":"x0o3W1TXZT"},{"type":"listItem","spread":true,"position":{"start":{"line":510,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"return","position":{"start":{"line":510,"column":1},"end":{"line":510,"column":1}},"key":"ftIgMvuXPp"},{"type":"text","value":" : instruction optionnelle renvoyant une valeur","position":{"start":{"line":510,"column":1},"end":{"line":510,"column":1}},"key":"qU9ZTGQK2f"}],"key":"gOfIkRvu8f"}],"key":"V3genruHgz"}],"key":"gt9bFeEab3"},{"type":"paragraph","position":{"start":{"line":512,"column":1},"end":{"line":512,"column":1}},"children":[{"type":"strong","position":{"start":{"line":512,"column":1},"end":{"line":512,"column":1}},"children":[{"type":"text","value":"Appel de fonction :","position":{"start":{"line":512,"column":1},"end":{"line":512,"column":1}},"key":"sEOpGEJdqM"}],"key":"msxD3Qi15h"}],"key":"QYpEHQdI6e"},{"type":"code","lang":"python","value":"# Appel positionnel\nresultat = nom_de_fonction(10, 20)\n\n# Appel avec arguments nommés (ordre modifiable)\nresultat = nom_de_fonction(param2=20, param1=10)\n\n# Mix des deux (positionnels d'abord)\nresultat = nom_de_fonction(10, param2=20)","position":{"start":{"line":514,"column":1},"end":{"line":523,"column":1}},"key":"eqj326PFGQ"},{"type":"thematicBreak","position":{"start":{"line":525,"column":1},"end":{"line":525,"column":1}},"key":"LQS1vMPKyf"},{"type":"heading","depth":3,"position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Portée des variables (Scope)","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"pV0i33Kb4i"}],"identifier":"port-e-des-variables-scope","label":"Portée des variables (Scope)","html_id":"port-e-des-variables-scope","implicit":true,"key":"sfQB8t4VNP"},{"type":"paragraph","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"text","value":"Python résout les noms de variables selon la règle ","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"iAzHxduAsQ"},{"type":"strong","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"text","value":"LEGB","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"EXvcl63mMQ"}],"key":"MvfbjihBeO"},{"type":"text","value":" :","position":{"start":{"line":529,"column":1},"end":{"line":529,"column":1}},"key":"js45WFHt3y"}],"key":"RS4NiTbw94"},{"type":"code","lang":"markdown","value":"L - Local      : Variables définies dans la fonction courante\nE - Enclosing  : Variables des fonctions englobantes (closures)\nG - Global     : Variables au niveau du module\nB - Built-in   : Fonctions et constantes intégrées (len, print, True, ...)","position":{"start":{"line":531,"column":1},"end":{"line":536,"column":1}},"key":"eB5VxaKgTG"},{"type":"code","lang":"python","value":"# GLOBAL\nx = \"global\"\n\ndef externe():\n    # ENCLOSING (pour interne)\n    y = \"enclosing\"\n    \n    def interne():\n        # LOCAL\n        z = \"local\"\n        print(z)  # → \"local\"\n        print(y)  # → \"enclosing\" (trouvé dans Enclosing)\n        print(x)  # → \"global\" (trouvé dans Global)\n        print(len)  # → <built-in function len> (Built-in)\n    \n    interne()\n\nexterne()","position":{"start":{"line":538,"column":1},"end":{"line":557,"column":1}},"key":"nolqBoTLBS"},{"type":"paragraph","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"strong","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"children":[{"type":"text","value":"Piège classique","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"T0gT0KTPIe"}],"key":"vjxBbAWKuY"},{"type":"text","value":": Modifier une variable globale :","position":{"start":{"line":559,"column":1},"end":{"line":559,"column":1}},"key":"GDhmR59BCx"}],"key":"wgfydoDo1F"},{"type":"code","lang":"python","value":"compteur = 0\n\ndef incrementer():\n    compteur = compteur + 1  # UnboundLocalError\n    # Python crée une variable locale 'compteur' qui n'est pas encore définie\n\ndef incrementer_correct():\n    global compteur  # Déclare qu'on utilise la variable globale\n    compteur = compteur + 1","position":{"start":{"line":561,"column":1},"end":{"line":571,"column":1}},"key":"RwdZhHPutz"},{"type":"thematicBreak","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"RaeCIQACFX"},{"type":"heading","depth":3,"position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"children":[{"type":"text","value":"Différence entre fonction Python et fonction mathématique","position":{"start":{"line":575,"column":1},"end":{"line":575,"column":1}},"key":"FeQo3d0Pit"}],"identifier":"diff-rence-entre-fonction-python-et-fonction-math-matique","label":"Différence entre fonction Python et fonction mathématique","html_id":"diff-rence-entre-fonction-python-et-fonction-math-matique","implicit":true,"key":"gWt26MlqRS"},{"type":"table","position":{"start":{"line":577,"column":1},"end":{"line":581,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"children":[{"type":"text","value":"Aspect","position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"key":"AH9JbID4qM"}],"key":"RSHvXbYYCO"},{"type":"tableCell","header":true,"position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"children":[{"type":"text","value":"Fonction mathématique","position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"key":"wHIvIEKCqF"}],"key":"tfWdo34k6t"},{"type":"tableCell","header":true,"position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"children":[{"type":"text","value":"Fonction Python","position":{"start":{"line":577,"column":1},"end":{"line":577,"column":1}},"key":"kKnrtreB1b"}],"key":"JNcxUuix6K"}],"key":"GmGmXfGTgP"},{"type":"tableRow","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"children":[{"type":"strong","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"children":[{"type":"text","value":"Mapping","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"p6W96vVFQd"}],"key":"OEExi8ruRV"}],"key":"lzN6YRFoh9"},{"type":"tableCell","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"children":[{"type":"text","value":"Un élément de A → un unique élément de B","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"FNTP4AHRxp"}],"key":"JqWkhBPyfy"},{"type":"tableCell","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"children":[{"type":"text","value":"Peut ne rien retourner (","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"ReoMclyo84"},{"type":"inlineCode","value":"None","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"oWfSgpWjKt"},{"type":"text","value":")","position":{"start":{"line":579,"column":1},"end":{"line":579,"column":1}},"key":"mfQPXaU3KR"}],"key":"lqHMozO036"}],"key":"PlOqJRIVku"},{"type":"tableRow","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"strong","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"text","value":"Déterminisme","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"key":"H7sd3u48SV"}],"key":"t7gQnIeQ2g"}],"key":"lEXbOoC4M5"},{"type":"tableCell","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"text","value":"Même input → même output (toujours)","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"key":"m12tYAmCAM"}],"key":"Q1SuusNBbs"},{"type":"tableCell","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"children":[{"type":"text","value":"Peut dépendre d’état externe","position":{"start":{"line":580,"column":1},"end":{"line":580,"column":1}},"key":"R7BoH00X29"}],"key":"q7z56UdqbL"}],"key":"q6fSlndLAE"},{"type":"tableRow","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"children":[{"type":"strong","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"children":[{"type":"text","value":"Effets de bord","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"key":"XrKpd7bSDs"}],"key":"bBwF1EzAgt"}],"key":"gzRlbURZbI"},{"type":"tableCell","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"children":[{"type":"text","value":"Aucun","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"key":"FUTDsVCglZ"}],"key":"ptLT4pApBp"},{"type":"tableCell","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"children":[{"type":"text","value":"Peut modifier l’environnement","position":{"start":{"line":581,"column":1},"end":{"line":581,"column":1}},"key":"aLdrVW9WFY"}],"key":"Cfvscz2sp4"}],"key":"Xjv4LQ5LMk"}],"key":"h28GJoR2KO"},{"type":"thematicBreak","position":{"start":{"line":583,"column":1},"end":{"line":583,"column":1}},"key":"zO8CYjNwZQ"},{"type":"heading","depth":3,"position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"children":[{"type":"text","value":"Étape 1.8 : La méthode ","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"ZRzoOnlbLy"},{"type":"inlineCode","value":"__len__","position":{"start":{"line":585,"column":1},"end":{"line":585,"column":1}},"key":"ZBfWE0m2Gb"}],"identifier":"id-tape-1-8-la-m-thode-len","label":"Étape 1.8 : La méthode __len__","html_id":"id-tape-1-8-la-m-thode-len","implicit":true,"key":"lxd4Fc6hMO"},{"type":"code","lang":"python","value":"class PriceSeries:\n    # ... (code précédent)\n    \n    def __len__(self) -> int:\n        return len(self.values)","position":{"start":{"line":587,"column":1},"end":{"line":593,"column":1}},"key":"ePUNx3JghQ"},{"type":"paragraph","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"children":[{"type":"text","value":"Cette méthode permet à nos instances de fonctionner avec la fonction built-in ","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"jXSvxM0fqX"},{"type":"inlineCode","value":"len()","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"ABT9UqxzXT"},{"type":"text","value":" :","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"XInzKCJp2h"}],"key":"qSuryutoiQ"},{"type":"code","lang":"python","value":">>> ps = PriceSeries([100.0, 105.0, 103.0, 110.0], \"TEST\")\n>>> len(ps)\n4\n>>> empty = PriceSeries([], \"EMPTY\")\n>>> len(empty)","position":{"start":{"line":597,"column":1},"end":{"line":603,"column":1}},"key":"YztPOudFed"},{"type":"blockquote","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"children":[{"type":"strong","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"children":[{"type":"text","value":"Duck Typing en action","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"Q9R1gQLkuC"}],"key":"HYVpGMvNgT"},{"type":"text","value":" : Python ne vérifie pas le type ; il vérifie la présence de la méthode. Tout objet avec ","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"U3TZi617op"},{"type":"inlineCode","value":"__len__","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"VgoWeDU4d0"},{"type":"text","value":" fonctionne avec ","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"TnyBv6MzfK"},{"type":"inlineCode","value":"len()","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"rh3F2PszIH"},{"type":"text","value":". Pas besoin de type particulier.","position":{"start":{"line":605,"column":1},"end":{"line":605,"column":1}},"key":"x4rtsUWqNj"}],"key":"KGMOPk2pnb"}],"key":"j0BclPjxTe"},{"type":"thematicBreak","position":{"start":{"line":607,"column":1},"end":{"line":607,"column":1}},"key":"cCft3PRi80"},{"type":"heading","depth":3,"position":{"start":{"line":609,"column":1},"end":{"line":609,"column":1}},"children":[{"type":"text","value":"Concept fondamental : Duck Typing","position":{"start":{"line":609,"column":1},"end":{"line":609,"column":1}},"key":"BIA3rv7UHr"}],"identifier":"concept-fondamental-duck-typing","label":"Concept fondamental : Duck Typing","html_id":"concept-fondamental-duck-typing","implicit":true,"key":"OegjRYMQvu"},{"type":"blockquote","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"children":[{"type":"text","value":"“If it walks like a duck and quacks like a duck, it’s a duck.”","position":{"start":{"line":611,"column":1},"end":{"line":611,"column":1}},"key":"Hdnq2Y1D1U"}],"key":"TeMweXSnCv"}],"key":"DKPFNlCF7p"},{"type":"paragraph","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"Le ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"d6uGRjASnI"},{"type":"strong","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"duck typing","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"BV01lp5Ivx"}],"key":"LCleeRzThQ"},{"type":"text","value":" signifie que Python se soucie des ","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"TIFqZ3W0vn"},{"type":"strong","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"children":[{"type":"text","value":"comportements","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"WxXPBUdUKO"}],"key":"vcMIg0LX1E"},{"type":"text","value":" (méthodes/attributs) plutôt que des types. Un objet est compatible avec une opération s’il implémente les méthodes nécessaires.","position":{"start":{"line":613,"column":1},"end":{"line":613,"column":1}},"key":"uwuYYM0QhS"}],"key":"Tx872Yjp9N"},{"type":"code","lang":"python","value":"def afficher_longueur(obj):\n    \"\"\"Fonctionne avec TOUT objet ayant __len__.\"\"\"\n    print(f\"Longueur: {len(obj)}\")\n\n# Tous ces appels fonctionnent !\nafficher_longueur([1, 2, 3])           # list\nafficher_longueur(\"hello\")              # str\nafficher_longueur({\"a\": 1, \"b\": 2})     # dict\nafficher_longueur(PriceSeries([100, 101, 102], \"X\"))  # notre classe !","position":{"start":{"line":615,"column":1},"end":{"line":625,"column":1}},"key":"X4GAsplYDx"},{"type":"paragraph","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"children":[{"type":"text","value":"C’est pourquoi implémenter ","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"X61P5p5tQg"},{"type":"inlineCode","value":"__len__","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"wnCeqYCKT3"},{"type":"text","value":" permet à ","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"GClNCziQgT"},{"type":"inlineCode","value":"PriceSeries","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"hMwVlD1guZ"},{"type":"text","value":" de s’intégrer naturellement avec tout code utilisant ","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"IYroAVrSou"},{"type":"inlineCode","value":"len()","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"AxpBfJQB1M"},{"type":"text","value":".","position":{"start":{"line":627,"column":1},"end":{"line":627,"column":1}},"key":"pNGTNnLvOj"}],"key":"nutdxZvWtF"},{"type":"thematicBreak","position":{"start":{"line":629,"column":1},"end":{"line":629,"column":1}},"key":"wCDnT3vGZ9"},{"type":"heading","depth":3,"position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"children":[{"type":"text","value":"Étape 1.9 : Le décorateur ","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"SBQbRArkjt"},{"type":"inlineCode","value":"@property","position":{"start":{"line":631,"column":1},"end":{"line":631,"column":1}},"key":"s6g3K37FEB"}],"identifier":"id-tape-1-9-le-d-corateur-property","label":"Étape 1.9 : Le décorateur @property","html_id":"id-tape-1-9-le-d-corateur-property","implicit":true,"key":"qZ9XXmR5ql"},{"type":"code","lang":"python","value":"class PriceSeries:\n    # ... (code précédent)\n    \n    @property\n    def total_return(self) -> float:\n        \"\"\"Rendement total sur toute la période.\"\"\"\n        if len(self.values) < 2:\n            return 0.0\n        return (self.values[-1] - self.values[0]) / self.values[0]","position":{"start":{"line":633,"column":1},"end":{"line":643,"column":1}},"key":"NwjGf9alCV"},{"type":"paragraph","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"children":[{"type":"text","value":"Le décorateur ","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"hy1BUYdNZE"},{"type":"inlineCode","value":"@property","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"uIssT2DU3C"},{"type":"text","value":" transforme une méthode en ","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"vQDAmAPbd1"},{"type":"strong","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"children":[{"type":"text","value":"attribut calculé","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"dD3ZT3TCBB"}],"key":"hocm79MvXY"},{"type":"text","value":" :","position":{"start":{"line":645,"column":1},"end":{"line":645,"column":1}},"key":"o8nUBoM4J5"}],"key":"EovlcpyOsw"},{"type":"code","lang":"python","value":">>> ps = PriceSeries([100.0, 105.0, 103.0, 110.0], \"TEST\")\n>>> ps.total_return  # Pas de parenthèses car la méthode est accessible comme un attribut\n>>> f\"Rendement total: {ps.total_return:.2%}\"\n'Rendement total: 10.00%'","position":{"start":{"line":647,"column":1},"end":{"line":652,"column":1}},"key":"B3g4Ae77as"},{"type":"paragraph","position":{"start":{"line":654,"column":1},"end":{"line":654,"column":1}},"children":[{"type":"strong","position":{"start":{"line":654,"column":1},"end":{"line":654,"column":1}},"children":[{"type":"text","value":"Avantages de ","position":{"start":{"line":654,"column":1},"end":{"line":654,"column":1}},"key":"Zkfd5hkbPV"},{"type":"inlineCode","value":"@property","position":{"start":{"line":654,"column":1},"end":{"line":654,"column":1}},"key":"G1n1pCxymk"},{"type":"text","value":" :","position":{"start":{"line":654,"column":1},"end":{"line":654,"column":1}},"key":"PzbdgUCn6b"}],"key":"hcJtZrY0J9"}],"key":"GmcLEKiEji"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":656,"column":1},"end":{"line":659,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"children":[{"type":"text","value":"Syntaxe propre","position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"key":"wQlLifSTnk"}],"key":"H611hLXHbU"},{"type":"text","value":" : ","position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"key":"l8DF0JzKvw"},{"type":"inlineCode","value":"ps.total_return","position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"key":"G57BXGLeZM"},{"type":"text","value":" au lieu de ","position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"key":"Z0EGAhcJck"},{"type":"inlineCode","value":"ps.total_return()","position":{"start":{"line":656,"column":1},"end":{"line":656,"column":1}},"key":"d6aBIDgznl"}],"key":"VpwD7yaezv"}],"key":"UKxWDaDGg0"},{"type":"listItem","spread":true,"position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"children":[{"type":"text","value":"Encapsulation","position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"key":"akVQNDfmOL"}],"key":"SdLR4xbjLS"},{"type":"text","value":" : Le calcul est caché derrière une interface simple","position":{"start":{"line":657,"column":1},"end":{"line":657,"column":1}},"key":"SIEW0SVm4s"}],"key":"JsuXKQSzrK"}],"key":"r7DVxIjd1R"},{"type":"listItem","spread":true,"position":{"start":{"line":658,"column":1},"end":{"line":659,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":658,"column":1},"end":{"line":658,"column":1}},"children":[{"type":"text","value":"Lazy evaluation","position":{"start":{"line":658,"column":1},"end":{"line":658,"column":1}},"key":"cNSlCBcsJG"}],"key":"hYehtcSwHh"},{"type":"text","value":" : Calculé uniquement quand on y accède","position":{"start":{"line":658,"column":1},"end":{"line":658,"column":1}},"key":"xyfB8xAST3"}],"key":"oYRXLL6LnD"}],"key":"vkk3AueckJ"}],"key":"LK7LWZP0Sp"},{"type":"paragraph","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"children":[{"type":"strong","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"children":[{"type":"text","value":"Quand utiliser ","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"fNqYQNmqFK"},{"type":"inlineCode","value":"@property","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"tK0m07hNVt"},{"type":"text","value":" :","position":{"start":{"line":660,"column":1},"end":{"line":660,"column":1}},"key":"fuT5PS0pqZ"}],"key":"f32Q8Vblt9"}],"key":"eTUIoLprLk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":662,"column":1},"end":{"line":665,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Valeur dérivée d’autres attributs","position":{"start":{"line":662,"column":1},"end":{"line":662,"column":1}},"key":"F49DQqnimk"}],"key":"mJkWbSNCUI"}],"key":"XizLKyLmha"},{"type":"listItem","spread":true,"position":{"start":{"line":663,"column":1},"end":{"line":663,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Pas d’effets de bord sur son environnement","position":{"start":{"line":663,"column":1},"end":{"line":663,"column":1}},"key":"I9v2nQcZGF"}],"key":"OnUGj0xebp"}],"key":"AuduRzHFkw"},{"type":"listItem","spread":true,"position":{"start":{"line":664,"column":1},"end":{"line":665,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Calcul relativement léger","position":{"start":{"line":664,"column":1},"end":{"line":664,"column":1}},"key":"q85BQdBtn1"}],"key":"nO8TDAi4AI"}],"key":"FJOa3wxqI6"}],"key":"cuhXicsywi"},{"type":"paragraph","position":{"start":{"line":666,"column":1},"end":{"line":666,"column":1}},"children":[{"type":"text","value":"On verra plus en détails le concept de décorateur et son fonctionnement un peu plus tard dans le cours.","position":{"start":{"line":666,"column":1},"end":{"line":666,"column":1}},"key":"u3Xwkqdi4S"}],"key":"LYAT7cmp9n"},{"type":"thematicBreak","position":{"start":{"line":668,"column":1},"end":{"line":668,"column":1}},"key":"uzH0HZVjmz"},{"type":"heading","depth":3,"position":{"start":{"line":670,"column":1},"end":{"line":670,"column":1}},"children":[{"type":"text","value":"Les variables ne sont pas des boîtes","position":{"start":{"line":670,"column":1},"end":{"line":670,"column":1}},"key":"SrUjEHHw03"}],"identifier":"les-variables-ne-sont-pas-des-bo-tes","label":"Les variables ne sont pas des boîtes","html_id":"les-variables-ne-sont-pas-des-bo-tes","implicit":true,"key":"hxlnVQVRJ5"},{"type":"paragraph","position":{"start":{"line":672,"column":1},"end":{"line":672,"column":1}},"children":[{"type":"text","value":"Il faut penser les variables comme des étiquettes et non des boîtes.","position":{"start":{"line":672,"column":1},"end":{"line":672,"column":1}},"key":"EaVJDnC3wZ"}],"key":"GALMkkyZEf"},{"type":"code","lang":"python","value":"# On pourrait croire que b contient une COPIE de a\n# En réalité, a et b sont des étiquettes pointant vers le MÊME objet\n\na = [1, 2, 3]\nb = a           # b est une autre étiquette sur le même objet\na.append(4)\nprint(b)        # [1, 2, 3, 4] - b voit le changement !","position":{"start":{"line":674,"column":1},"end":{"line":682,"column":1}},"key":"sxg6czUdQX"},{"type":"thematicBreak","position":{"start":{"line":684,"column":1},"end":{"line":684,"column":1}},"key":"Hu6JdFCk7A"},{"type":"heading","depth":3,"position":{"start":{"line":686,"column":1},"end":{"line":686,"column":1}},"children":[{"type":"text","value":"Concept fondamental : Objets mutables vs immutables","position":{"start":{"line":686,"column":1},"end":{"line":686,"column":1}},"key":"OAM2Xa6UQY"}],"identifier":"concept-fondamental-objets-mutables-vs-immutables","label":"Concept fondamental : Objets mutables vs immutables","html_id":"concept-fondamental-objets-mutables-vs-immutables","implicit":true,"key":"MfGG1G23K8"},{"type":"table","position":{"start":{"line":688,"column":1},"end":{"line":691,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"children":[{"type":"text","value":"Type","position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"key":"gJXqOf8m5F"}],"key":"jlRS0cD32m"},{"type":"tableCell","header":true,"position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"children":[{"type":"text","value":"Mutabilité","position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"key":"R83pXKOlnd"}],"key":"kAfU0EbKF6"},{"type":"tableCell","header":true,"position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"children":[{"type":"text","value":"Exemples","position":{"start":{"line":688,"column":1},"end":{"line":688,"column":1}},"key":"eWQ0zURxtB"}],"key":"QnfdaRvM86"}],"key":"l1DGh6ZIie"},{"type":"tableRow","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"children":[{"type":"strong","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"children":[{"type":"text","value":"Immutable","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"Ot1RwChH7Q"}],"key":"ox3rOv0McX"}],"key":"zFF0nsf8fH"},{"type":"tableCell","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"children":[{"type":"text","value":"Ne peut pas être modifié après création","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"oEfjQ1Nn94"}],"key":"vZpRnH6Ync"},{"type":"tableCell","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"children":[{"type":"inlineCode","value":"int","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"FYQEIiNU60"},{"type":"text","value":", ","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"rX5GKCqhQH"},{"type":"inlineCode","value":"float","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"kfoNj8wTNc"},{"type":"text","value":", ","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"j2k6TZGAYF"},{"type":"inlineCode","value":"str","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"OqrLDBt08M"},{"type":"text","value":", ","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"aENSeKudu2"},{"type":"inlineCode","value":"tuple","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"tKarzmq257"},{"type":"text","value":", ","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"MZN4Rldgv2"},{"type":"inlineCode","value":"frozenset","position":{"start":{"line":690,"column":1},"end":{"line":690,"column":1}},"key":"A6jlg2S7fh"}],"key":"Ycrd4LrZ5r"}],"key":"KLmj7tv54K"},{"type":"tableRow","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"children":[{"type":"strong","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"children":[{"type":"text","value":"Mutable","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"Llyw5vxqQQ"}],"key":"Xnx1EbkzLx"}],"key":"R3ghhnCXb0"},{"type":"tableCell","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"children":[{"type":"text","value":"Peut être modifié après création","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"KS6MNiOXlb"}],"key":"tfwxUKSGPj"},{"type":"tableCell","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"children":[{"type":"inlineCode","value":"list","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"Hmc04YdHlg"},{"type":"text","value":", ","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"YGwZ6MRy7j"},{"type":"inlineCode","value":"dict","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"yP2DOklqfF"},{"type":"text","value":", ","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"fRISHmn19C"},{"type":"inlineCode","value":"set","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"cOUpi4NYkA"},{"type":"text","value":", objets personnalisés","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"I79alX4Ss9"}],"key":"fmQleY8B6E"}],"key":"rjWiID2wpq"}],"key":"ZKXxLk97xT"},{"type":"code","lang":"python","value":"# Immutable: l'objet original n'est pas modifié\nx = 5\ny = x\nx = x + 1  # Crée un NOUVEL objet int\nprint(y)   # 5 car y pointe toujours vers l'ancien objet car immutable\n\n# Mutable: l'objet original EST modifié\n# Voir l'exemple précédent de la liste pour démontré\n# qu'une variable n'est pas une boîte","position":{"start":{"line":693,"column":1},"end":{"line":703,"column":1}},"key":"xVZGcZ2rhS"},{"type":"paragraph","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"children":[{"type":"strong","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"children":[{"type":"text","value":"Implication pour ","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"key":"WBNbdF0vk9"},{"type":"inlineCode","value":"PriceSeries","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"key":"tKSfM2N8Ep"},{"type":"text","value":" :","position":{"start":{"line":705,"column":1},"end":{"line":705,"column":1}},"key":"AgqipjVseL"}],"key":"x6zAK34MV7"}],"key":"XqJNK1ZW4u"},{"type":"code","lang":"python","value":"# Danger potentiel\nprices = [100, 105, 110]\nps = PriceSeries(prices, \"TEST\")\nprices.append(115)  # Modifie aussi ps.values\nprint(ps.values)    # [100, 105, 110, 115]\n\n# Solution : copie défensive dans __init__\ndef __init__(self, values: list[float], name: str = \"unnamed\") -> None:\n    self.values = list(values)  # Crée une COPIE de la liste\n    self.name = name","position":{"start":{"line":707,"column":1},"end":{"line":718,"column":1}},"key":"JOnTm3Y4nM"},{"type":"thematicBreak","position":{"start":{"line":720,"column":1},"end":{"line":720,"column":1}},"key":"IkrTpPk75C"},{"type":"heading","depth":3,"position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"children":[{"type":"text","value":"Disinction d’opérateur: ","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"key":"lY5DwK3XLV"},{"type":"inlineCode","value":"is","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"key":"v3YrhoukUq"},{"type":"text","value":" vs ","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"key":"cKxgWIQdam"},{"type":"inlineCode","value":"==","position":{"start":{"line":722,"column":1},"end":{"line":722,"column":1}},"key":"stdBYGDV9H"}],"identifier":"disinction-dop-rateur-is-vs","label":"Disinction d’opérateur: is vs ==","html_id":"disinction-dop-rateur-is-vs","implicit":true,"key":"mIbqO9prVJ"},{"type":"table","position":{"start":{"line":724,"column":1},"end":{"line":727,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"children":[{"type":"text","value":"Opérateur","position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"key":"TadrPPzefo"}],"key":"xxJFMzq4r4"},{"type":"tableCell","header":true,"position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"children":[{"type":"text","value":"Compare","position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"key":"KHPRxEdv7R"}],"key":"NfPJnznEQC"},{"type":"tableCell","header":true,"position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"children":[{"type":"text","value":"Question posée","position":{"start":{"line":724,"column":1},"end":{"line":724,"column":1}},"key":"cpbmmmkI0t"}],"key":"PinHHC2T7S"}],"key":"mV0WGCiJ03"},{"type":"tableRow","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"children":[{"type":"inlineCode","value":"==","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"key":"NYXemiUERo"}],"key":"A95p7hWDn1"},{"type":"tableCell","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"children":[{"type":"text","value":"Les ","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"key":"wemPoUgSy2"},{"type":"strong","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"children":[{"type":"text","value":"valeurs","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"key":"G62oWfVP48"}],"key":"oQR03ADhsj"}],"key":"XL7PiKJNND"},{"type":"tableCell","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"children":[{"type":"text","value":"“Est ce que les variables pointent vers des objets avec la même valeur ?”","position":{"start":{"line":726,"column":1},"end":{"line":726,"column":1}},"key":"OhihNHVXGg"}],"key":"zZCThZ9T4v"}],"key":"hJG9yITtxu"},{"type":"tableRow","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"children":[{"type":"inlineCode","value":"is","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"key":"ezYUqxmIBU"}],"key":"MbUqa0IzfB"},{"type":"tableCell","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"children":[{"type":"text","value":"L’","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"key":"SMHpi8hdQK"},{"type":"strong","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"children":[{"type":"text","value":"identité","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"key":"MUy50SddkW"}],"key":"NtEcAYfYMB"},{"type":"text","value":" (adresse mémoire)","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"key":"N07eGrSOBI"}],"key":"Da3fIwtLMT"},{"type":"tableCell","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"children":[{"type":"text","value":"“Sont-ils le même objet en mémoire ?”","position":{"start":{"line":727,"column":1},"end":{"line":727,"column":1}},"key":"IhfjmEg5aE"}],"key":"M7RfseIQc2"}],"key":"MJw7s0tCQ1"}],"key":"wFKQhyopIe"},{"type":"code","lang":"python","value":"a = [1, 2, 3]\nb = [1, 2, 3]\nc = a\n\na == b   # True  - mêmes valeurs\na is b   # False - objets différents\na == c   # True  - mêmes valeurs\na is c   # True  - même objet\n\n# Vérification avec id()\nid(a)    # 140234567890\nid(b)    # 140234567891 - différent !\nid(c)    # 140234567890 - identique à a","position":{"start":{"line":729,"column":1},"end":{"line":743,"column":1}},"key":"QnkVtzH34R"},{"type":"thematicBreak","position":{"start":{"line":745,"column":1},"end":{"line":745,"column":1}},"key":"bBVYcZNs8L"},{"type":"heading","depth":3,"position":{"start":{"line":747,"column":1},"end":{"line":747,"column":1}},"children":[{"type":"text","value":"Slicing (découpage)","position":{"start":{"line":747,"column":1},"end":{"line":747,"column":1}},"key":"qgN3drg6Nl"}],"identifier":"slicing-d-coupage","label":"Slicing (découpage)","html_id":"slicing-d-coupage","implicit":true,"key":"g6JXxtfYTe"},{"type":"paragraph","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"children":[{"type":"text","value":"Le slicing permet d’extraire des sous-séquences avec la syntaxe ","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"key":"WjHb79JjO5"},{"type":"inlineCode","value":"sequence[start:stop:step]","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"key":"p38CQTbfK2"},{"type":"text","value":" :","position":{"start":{"line":749,"column":1},"end":{"line":749,"column":1}},"key":"TEXdSPVmMO"}],"key":"K9rQ9ve9HX"},{"type":"code","lang":"python","value":"prices = [100, 105, 103, 110, 108, 112]\n#          0    1    2    3    4    5   (indices positifs)\n#         -6   -5   -4   -3   -2   -1   (indices négatifs)\n\n# Quelques exemples d'extraction de base\nprices[0]       # 100 - premier élément\nprices[-1]      # 112 - dernier élément\nprices[1:4]     # [105, 103, 110] - indices 1, 2, 3\nprices[:3]      # [100, 105, 103] - du début à l'indice 2\nprices[3:]      # [110, 108, 112] - de l'indice 3 à la fin\nprices[::2]     # [100, 103, 108] - un élément sur deux\nprices[::-1]    # [112, 108, 110, 103, 105, 100] - inversé\n\n# Utilisé dans notre code\npeak = max(self.values[:t+1])  # Maximum du début jusqu'à t (inclus)\nlast_price = self.values[-1]   # Dernier prix","position":{"start":{"line":751,"column":1},"end":{"line":768,"column":1}},"key":"VUujhy00Or"},{"type":"thematicBreak","position":{"start":{"line":770,"column":1},"end":{"line":770,"column":1}},"key":"rzcbYVuiw7"},{"type":"heading","depth":3,"position":{"start":{"line":772,"column":1},"end":{"line":772,"column":1}},"children":[{"type":"text","value":"Gestion des erreurs (Exceptions)","position":{"start":{"line":772,"column":1},"end":{"line":772,"column":1}},"key":"MBTYXeqsuL"}],"identifier":"gestion-des-erreurs-exceptions","label":"Gestion des erreurs (Exceptions)","html_id":"gestion-des-erreurs-exceptions","implicit":true,"key":"Hdcw3L6Zdt"},{"type":"paragraph","position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"children":[{"type":"text","value":"Les ","position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"key":"d8nTZDrIQP"},{"type":"strong","position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"children":[{"type":"text","value":"exceptions","position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"key":"VcO2lSuhmd"}],"key":"BxIRGBefRS"},{"type":"text","value":" signalent des conditions anormales. Sans gestion, elles arrêtent le programme.","position":{"start":{"line":774,"column":1},"end":{"line":774,"column":1}},"key":"Kdn64A3Zwk"}],"key":"I02sVZANAK"},{"type":"code","lang":"python","value":"# peut planter\ndef linear_return(self, t: int) -> float:\n    return (self.values[t] - self.values[t-1]) / self.values[t-1]\n    # si t=0 ? → values[-1] donc calcul faussé\n    # si t=100 et len(values)=50 on aura une IndexError\n\n# robuste avec validation\ndef linear_return(self, t: int) -> float:\n    if t < 1:\n        raise ValueError(f\"t doit être >= 1, reçu: {t}\")\n    if t >= len(self.values):\n        raise IndexError(f\"t={t} hors limites (max: {len(self.values)-1})\")\n    return (self.values[t] - self.values[t-1]) / self.values[t-1]","position":{"start":{"line":776,"column":1},"end":{"line":790,"column":1}},"key":"FNdgStFhSK"},{"type":"paragraph","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"children":[{"type":"strong","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"children":[{"type":"text","value":"Gestion avec ","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"key":"PfReMA28P0"},{"type":"inlineCode","value":"try/except","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"key":"Y4itKH3Ijr"},{"type":"text","value":" :","position":{"start":{"line":792,"column":1},"end":{"line":792,"column":1}},"key":"vFZ7peyOsD"}],"key":"gUg5y7NDYe"}],"key":"uL7TnPf8Wv"},{"type":"code","lang":"python","value":"try:\n    ret = ts.linear_return(0)\nexcept ValueError as e:\n    print(f\"Erreur de valeur: {e}\")\nexcept IndexError as e:\n    print(f\"Index hors limites: {e}\")","position":{"start":{"line":794,"column":1},"end":{"line":801,"column":1}},"key":"U7jJfBNnir"},{"type":"paragraph","position":{"start":{"line":803,"column":1},"end":{"line":803,"column":1}},"children":[{"type":"text","value":"On peut également conclure un statement ","position":{"start":{"line":803,"column":1},"end":{"line":803,"column":1}},"key":"bur97NHW8U"},{"type":"inlineCode","value":"try/except","position":{"start":{"line":803,"column":1},"end":{"line":803,"column":1}},"key":"V0vG1OGNrd"},{"type":"text","value":" par un ","position":{"start":{"line":803,"column":1},"end":{"line":803,"column":1}},"key":"lxgbCiu2jq"},{"type":"inlineCode","value":"finally","position":{"start":{"line":803,"column":1},"end":{"line":803,"column":1}},"key":"SfdvxaZqKU"},{"type":"text","value":" pour exécuter une instruction dans tous les cas, qu’une exception soit catch ou pas.","position":{"start":{"line":803,"column":1},"end":{"line":803,"column":1}},"key":"ktcuuqb4IM"}],"key":"GVihSe8abL"},{"type":"paragraph","position":{"start":{"line":805,"column":1},"end":{"line":805,"column":1}},"children":[{"type":"strong","position":{"start":{"line":805,"column":1},"end":{"line":805,"column":1}},"children":[{"type":"text","value":"Exceptions courantes :","position":{"start":{"line":805,"column":1},"end":{"line":805,"column":1}},"key":"SpVO8YIimV"}],"key":"sAfWXGLb54"}],"key":"lhbiVYluS1"},{"type":"table","position":{"start":{"line":807,"column":1},"end":{"line":814,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":807,"column":1},"end":{"line":807,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":807,"column":1},"end":{"line":807,"column":1}},"children":[{"type":"text","value":"Exception","position":{"start":{"line":807,"column":1},"end":{"line":807,"column":1}},"key":"DtpQTN43dh"}],"key":"XTfywXaOBe"},{"type":"tableCell","header":true,"position":{"start":{"line":807,"column":1},"end":{"line":807,"column":1}},"children":[{"type":"text","value":"Cause typique","position":{"start":{"line":807,"column":1},"end":{"line":807,"column":1}},"key":"ZOz2qtBpjC"}],"key":"kATTKhj5oS"}],"key":"k2WE0VNwHh"},{"type":"tableRow","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"children":[{"type":"inlineCode","value":"ValueError","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"EU71fa1y18"}],"key":"xzK66fPfNN"},{"type":"tableCell","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"children":[{"type":"text","value":"Valeur incorrecte mais type correct","position":{"start":{"line":809,"column":1},"end":{"line":809,"column":1}},"key":"ZZRZJktPiE"}],"key":"R6YXUknNoj"}],"key":"WOjGPvO2gh"},{"type":"tableRow","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"children":[{"type":"inlineCode","value":"TypeError","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"K0uugHOszp"}],"key":"AgGdncUTEf"},{"type":"tableCell","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"children":[{"type":"text","value":"Type incorrect","position":{"start":{"line":810,"column":1},"end":{"line":810,"column":1}},"key":"NeI97E3zac"}],"key":"jqp2R428uO"}],"key":"FSzzy6pcue"},{"type":"tableRow","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"inlineCode","value":"IndexError","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"key":"DHCCUgkPy8"}],"key":"bzil9sylrF"},{"type":"tableCell","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"children":[{"type":"text","value":"Index hors limites d’une séquence","position":{"start":{"line":811,"column":1},"end":{"line":811,"column":1}},"key":"VMrFiPYNZv"}],"key":"RYMtDNlHGf"}],"key":"AUY09afveM"},{"type":"tableRow","position":{"start":{"line":812,"column":1},"end":{"line":812,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":812,"column":1},"end":{"line":812,"column":1}},"children":[{"type":"inlineCode","value":"KeyError","position":{"start":{"line":812,"column":1},"end":{"line":812,"column":1}},"key":"rrYVntYirb"}],"key":"knurQYghRB"},{"type":"tableCell","position":{"start":{"line":812,"column":1},"end":{"line":812,"column":1}},"children":[{"type":"text","value":"Clé absente d’un dictionnaire","position":{"start":{"line":812,"column":1},"end":{"line":812,"column":1}},"key":"cvQooUIPcl"}],"key":"BoCUp3mgYn"}],"key":"iuLtFq0Y3j"},{"type":"tableRow","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"children":[{"type":"inlineCode","value":"ZeroDivisionError","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"key":"k4gd4OTeSP"}],"key":"xBExbgM7tZ"},{"type":"tableCell","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"children":[{"type":"text","value":"Division par zéro","position":{"start":{"line":813,"column":1},"end":{"line":813,"column":1}},"key":"MRYz9lxQUu"}],"key":"AxVJdb6kTO"}],"key":"rN9J3jFfSf"},{"type":"tableRow","position":{"start":{"line":814,"column":1},"end":{"line":814,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":814,"column":1},"end":{"line":814,"column":1}},"children":[{"type":"inlineCode","value":"FileNotFoundError","position":{"start":{"line":814,"column":1},"end":{"line":814,"column":1}},"key":"zJi3HkajB4"}],"key":"LMrrcVNlxM"},{"type":"tableCell","position":{"start":{"line":814,"column":1},"end":{"line":814,"column":1}},"children":[{"type":"text","value":"Fichier introuvable","position":{"start":{"line":814,"column":1},"end":{"line":814,"column":1}},"key":"b3QdnqEbsd"}],"key":"uWeHi7cV9z"}],"key":"q2hi6gbjHD"}],"key":"PKRxaECdIp"},{"type":"thematicBreak","position":{"start":{"line":816,"column":1},"end":{"line":816,"column":1}},"key":"SzHGiLZLIS"},{"type":"heading","depth":3,"position":{"start":{"line":818,"column":1},"end":{"line":818,"column":1}},"children":[{"type":"text","value":"Étape 1.10 : Deuxième commit","position":{"start":{"line":818,"column":1},"end":{"line":818,"column":1}},"key":"kDpqOdf25C"}],"identifier":"id-tape-1-10-deuxi-me-commit","label":"Étape 1.10 : Deuxième commit","html_id":"id-tape-1-10-deuxi-me-commit","implicit":true,"key":"igFHMYefLT"},{"type":"code","lang":"bash","value":"git add .\ngit commit -m \"feat(core): add return calculations and __len__ to PriceSeries\"","position":{"start":{"line":820,"column":1},"end":{"line":823,"column":1}},"key":"bYW99O6g3U"},{"type":"thematicBreak","position":{"start":{"line":825,"column":1},"end":{"line":825,"column":1}},"key":"e7cI0qwC5c"},{"type":"heading","depth":2,"position":{"start":{"line":827,"column":1},"end":{"line":827,"column":1}},"children":[{"type":"text","value":"Partie 2 : Exercices Pratiques","position":{"start":{"line":827,"column":1},"end":{"line":827,"column":1}},"key":"YWtkRcVInY"}],"identifier":"partie-2-exercices-pratiques","label":"Partie 2 : Exercices Pratiques","html_id":"partie-2-exercices-pratiques","implicit":true,"key":"BOQCIxGVN2"},{"type":"thematicBreak","position":{"start":{"line":829,"column":1},"end":{"line":829,"column":1}},"key":"mE3B5ljrk9"},{"type":"heading","depth":3,"position":{"start":{"line":831,"column":1},"end":{"line":831,"column":1}},"children":[{"type":"text","value":"Exercice 1 : Calcul du vecteur de rendements","position":{"start":{"line":831,"column":1},"end":{"line":831,"column":1}},"key":"RreMccrG9X"}],"identifier":"exercice-1-calcul-du-vecteur-de-rendements","label":"Exercice 1 : Calcul du vecteur de rendements","html_id":"exercice-1-calcul-du-vecteur-de-rendements","implicit":true,"key":"H3V7q91yds"},{"type":"paragraph","position":{"start":{"line":833,"column":1},"end":{"line":833,"column":1}},"children":[{"type":"text","value":"Implémentez deux méthodes retournant la liste de tous les rendements :","position":{"start":{"line":833,"column":1},"end":{"line":833,"column":1}},"key":"H6tniV2efJ"}],"key":"J5GCOrAJNW"},{"type":"code","lang":"python","value":"def get_all_linear_returns(self) -> list[float]:\n    \"\"\"Retourne la liste de tous les rendements linéaires.\n\n    Returns:\n        Liste de n-1 rendements pour n prix.\n    \"\"\"\n    # Votre code ici\n    pass\n\ndef get_all_log_returns(self) -> list[float]:\n    \"\"\"Retourne la liste de tous les log-rendements.\"\"\"\n    # Votre code ici\n    pass","position":{"start":{"line":835,"column":1},"end":{"line":849,"column":1}},"key":"l2ng75fIQ7"},{"type":"thematicBreak","position":{"start":{"line":851,"column":1},"end":{"line":851,"column":1}},"key":"HxP9pbeHLD"},{"type":"heading","depth":3,"position":{"start":{"line":853,"column":1},"end":{"line":853,"column":1}},"children":[{"type":"text","value":"Exercice 2 : Volatilité annualisée","position":{"start":{"line":853,"column":1},"end":{"line":853,"column":1}},"key":"ZVGCSI3l3d"}],"identifier":"exercice-2-volatilit-annualis-e","label":"Exercice 2 : Volatilité annualisée","html_id":"exercice-2-volatilit-annualis-e","implicit":true,"key":"xaWPo7bGMG"},{"type":"code","lang":"python","value":"def annualized_volatility(self) -> float:\n    \"\"\"\n    Volatilité annualisée à partir des log-rendements.\n    \n    Formule: σ_annual = σ_daily × √252\n    \n    Note: Le scaling √252 suppose des rendements i.i.d\n    Cette hypothèse est rarement vérifiée en pratique \n    (clustering de volatilité).\n    \n    Pour une meilleure estimation, considérer:\n    - Modèles GARCH\n    - Moyenne mobile exponentielle (EWMA)\n    \"\"\"\n    # Étapes:\n    # 1. Obtenir tous les log-rendements\n    # 2. Calculer la moyenne\n    # 3. Calculer la variance d'échantillon (diviser par n-1)\n    # 4. Prendre la racine carrée pour la volatilité quotidienne\n    # 5. Annualiser: × √252\n    pass","position":{"start":{"line":855,"column":1},"end":{"line":877,"column":1}},"key":"PRmvI6D07L"},{"type":"thematicBreak","position":{"start":{"line":879,"column":1},"end":{"line":879,"column":1}},"key":"ZRIKHyH3VY"},{"type":"heading","depth":3,"position":{"start":{"line":881,"column":1},"end":{"line":881,"column":1}},"children":[{"type":"text","value":"Exercice 3 : Ratio de Sharpe","position":{"start":{"line":881,"column":1},"end":{"line":881,"column":1}},"key":"Uk0ygU5voa"}],"identifier":"exercice-3-ratio-de-sharpe","label":"Exercice 3 : Ratio de Sharpe","html_id":"exercice-3-ratio-de-sharpe","implicit":true,"key":"VvlDr3HzxF"},{"type":"code","lang":"python","value":"def annualized_return(self) -> float:\n    \"\"\"\n    Rendement annuel moyen à partir des log-rendements.\n    Formule: μ_annual = μ_daily × 252\n    \"\"\"\n    pass\n\ndef sharpe_ratio(self, risk_free_rate: float = 0.0) -> float:\n    \"\"\"\n    Ratio de sharpe annualisé : \n            - ratio entre les rendements esperés d'une stratégie et sa volatilité\n            - rendement par unité de risque\n        \n        Formule: SR = (μ - r_f) / σ\n        \n        Args:\n            risk_free_rate: taux sans risque annuel\n    \"\"\"\n    pass","position":{"start":{"line":883,"column":1},"end":{"line":903,"column":1}},"key":"XGpm4Fh32z"},{"type":"thematicBreak","position":{"start":{"line":905,"column":1},"end":{"line":905,"column":1}},"key":"WqSZ5FY5MA"},{"type":"heading","depth":3,"position":{"start":{"line":907,"column":1},"end":{"line":907,"column":1}},"children":[{"type":"text","value":"Exercice 4 : Max drawdown","position":{"start":{"line":907,"column":1},"end":{"line":907,"column":1}},"key":"cRY4dMiF2r"}],"identifier":"exercice-4-max-drawdown","label":"Exercice 4 : Max drawdown","html_id":"exercice-4-max-drawdown","implicit":true,"key":"eIX40UdSvK"},{"type":"code","lang":"python","value":"def drawdown_at(self, t: int) -> float:\n    \"\"\"\n    Retourne le drawdown à l'instant t depuis le début de la série.\n    Mesure le déclin par rapport à un pique historique.\n\n    Args:\n        t (int): index de position de la valeur supérieure de l'intervalle considéré.\n\n    Returns:\n        float: drawdown\n    \"\"\"\n    pass\n\ndef max_drawdown(self) -> float:\n    \"\"\"\n    Drawdown maximum sur toute la série.\n    \n    Returns:\n        Drawdown maximum (valeur négative ou zéro)\n    \"\"\"\n    pass","position":{"start":{"line":909,"column":1},"end":{"line":931,"column":1}},"key":"JkNPnC12DB"},{"type":"heading","depth":3,"position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"children":[{"type":"text","value":"Commit final","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"key":"rszXKfAJXQ"}],"identifier":"commit-final","label":"Commit final","html_id":"commit-final","implicit":true,"key":"NdWx9cQc4a"},{"type":"code","lang":"bash","value":"git add .\ngit commit -m \"features: add volatility, sharpe, drawdown to PriceSeries\"","position":{"start":{"line":935,"column":1},"end":{"line":938,"column":1}},"key":"fPq37M69FB"},{"type":"thematicBreak","position":{"start":{"line":940,"column":1},"end":{"line":940,"column":1}},"key":"mFFnod5eZt"},{"type":"heading","depth":2,"position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"children":[{"type":"text","value":"Solutions","position":{"start":{"line":942,"column":1},"end":{"line":942,"column":1}},"key":"FROypxAitD"}],"identifier":"solutions","label":"Solutions","html_id":"solutions","implicit":true,"key":"agCjzfHMmq"},{"type":"heading","depth":3,"position":{"start":{"line":944,"column":1},"end":{"line":944,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 1","position":{"start":{"line":944,"column":1},"end":{"line":944,"column":1}},"key":"QUmth5U2dm"}],"identifier":"solution-exercice-1","label":"Solution - Exercice 1","html_id":"solution-exercice-1","implicit":true,"key":"GMhbdQOSD3"},{"type":"code","lang":"python","value":"def get_all_linear_returns(self) -> list[float]:\n    \"\"\"Retourne la liste de tous les rendements linéaires.\"\"\"\n    return [self.linear_return(t) for t in range(1, len(self.values))]\n\ndef get_all_log_returns(self) -> list[float]:\n    \"\"\"Retourne la liste de tous les log-rendements.\"\"\"\n    return [self.log_return(t) for t in range(1, len(self.values))]","position":{"start":{"line":946,"column":1},"end":{"line":954,"column":1}},"key":"wBVPgpb0sQ"},{"type":"thematicBreak","position":{"start":{"line":956,"column":1},"end":{"line":956,"column":1}},"key":"ocDrPZYSbS"},{"type":"heading","depth":3,"position":{"start":{"line":958,"column":1},"end":{"line":958,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 2","position":{"start":{"line":958,"column":1},"end":{"line":958,"column":1}},"key":"Kun3UtjgLl"}],"identifier":"solution-exercice-2","label":"Solution - Exercice 2","html_id":"solution-exercice-2","implicit":true,"key":"FCcF1gbQWq"},{"type":"code","lang":"python","value":"def annualized_volatility(self) -> float:\n    if len(self.values) < 3:\n            raise ValueError(\"Not enough data points\")\n            \n    log_returns = self.get_all_log_returns()\n    n = len(log_returns)\n    mean = sum(log_returns) / n\n    var = sum((l_r - mean)**2 for l_r in log_returns) / (n - 1)\n    daily_vol = math.sqrt(var)\n\n    return daily_vol * math.sqrt(self.TRADING_DAYS_PER_YEAR)","position":{"start":{"line":960,"column":1},"end":{"line":972,"column":1}},"key":"cvLvdGQdSw"},{"type":"thematicBreak","position":{"start":{"line":974,"column":1},"end":{"line":974,"column":1}},"key":"vIcu1CKlsX"},{"type":"heading","depth":3,"position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 3","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"IWslY3V3cp"}],"identifier":"solution-exercice-3","label":"Solution - Exercice 3","html_id":"solution-exercice-3","implicit":true,"key":"Vh3TelQfTx"},{"type":"code","lang":"python","value":"def annualized_return(self) -> float:\n    \"\"\"\n    Retourne le rendement annualisé sur toute la période.\n    \"\"\"\n    if len(self) < 2:\n        raise ValueError(\"Not enough data points\")\n    r = self.get_all_log_returns()\n    return (sum(r) / len(r)) * self.TRADING_DAYS_PER_YEAR\n\ndef sharpe_ratio(self, risk_free_rate: float = 0.0) -> float:\n    \"\"\"\n    Ratio de sharpe annualisé : \n        - ratio entre les rendements esperés d'une stratégie et sa vol\n        - rendement par unité de risque\n    \n    Formule: SR = (μ - r_f) / σ\n    \n    Args:\n        risk_free_rate: taux sans risque annuel\n    \n    \"\"\"\n    vol = self.annualized_volatility()\n    if vol == 0:\n        return 0.0\n    excess_return = self.annualized_return() - risk_free_rate\n    return excess_return / vol","position":{"start":{"line":978,"column":1},"end":{"line":1005,"column":1}},"key":"PDUcE5BDpa"},{"type":"thematicBreak","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"key":"sfxbfPcLIK"},{"type":"heading","depth":3,"position":{"start":{"line":1009,"column":1},"end":{"line":1009,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 4","position":{"start":{"line":1009,"column":1},"end":{"line":1009,"column":1}},"key":"Q98ZGPdz7J"}],"identifier":"solution-exercice-4","label":"Solution - Exercice 4","html_id":"solution-exercice-4","implicit":true,"key":"i57hJAXTAF"},{"type":"code","lang":"python","value":"def drawdown_at(self, t: int) -> float:\n    \"\"\"Drawdown au temps t.\"\"\"\n    if t < 0 or t >= len(self.values):\n        raise IndexError(f\"index {t} is out of range for series of length {len(self.values)}\")\n\n    peak = max(self.values[:t+1])\n    if peak == 0:\n        return 0.0\n    return (self.values[t] - peak) / peak\n\ndef max_drawdown(self) -> float:\n    \"\"\"Drawdown maximum sur toute la série.\"\"\"\n    max_dd = 0.0\n    peak = self.values[0]\n\n    for value in self.values[1:]:\n        peak = max(peak, value)\n        if peak > 0:\n            dd = (value - peak) / peak\n            max_dd = min(max_dd, dd)\n\n    return max_dd","position":{"start":{"line":1011,"column":1},"end":{"line":1034,"column":1}},"key":"HNrO4G95mJ"}],"key":"zYmWXWED3D"}],"key":"s03lQ1TgJ9"},"references":{"cite":{"order":[],"data":{}}}}