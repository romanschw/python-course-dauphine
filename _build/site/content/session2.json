{"version":3,"kind":"Article","sha256":"a4e44dd2640fdb223a946faef9b200f0cbd674669d219a4891da9ee177f448a2","slug":"session2","location":"/lectures/session2.md","dependencies":[],"frontmatter":{"title":"Session 2 : Composition de Classes et Chargement de Données","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Roman Schwalek","given":"Roman","family":"Schwalek"},"name":"Roman Schwalek","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/romanschw/python-course-dauphine","numbering":{"title":{"offset":1}},"source_url":"https://github.com/romanschw/python-course-dauphine/blob/main/lectures/session2.md","edit_url":"https://github.com/romanschw/python-course-dauphine/edit/main/lectures/session2.md","exports":[{"format":"md","filename":"session2.md","url":"/session2-c32aa35bb8ff1a42184f68a4558d75a2.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Objectifs de la session","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uFVfMqfDjN"}],"identifier":"objectifs-de-la-session","label":"Objectifs de la session","html_id":"objectifs-de-la-session","implicit":true,"key":"wiJBy1O3Q1"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Introduire la programmation orientée-objet et les principes fondamentaux de conception de classes","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iVi0vr37YT"}],"key":"GQMXwSh2BZ"}],"key":"eNijihxo4j"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Utiliser les types de collections intégrés à Python (listes, dictionnaires, ensembles)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RRS0hP755m"}],"key":"hYbQdqoMTM"}],"key":"fRWirv1DTx"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Maîtriser la syntaxe des expressions de compréhension","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SOeClcftFJ"}],"key":"tAtMx6kjc7"}],"key":"iq9niz2kSJ"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Récupérer des données à partir d’APIs publiques","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EDhlAFtoCa"}],"key":"tg8F9Q7aui"}],"key":"JRJbu7yfvh"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Implémenter un système de cache avec gestion des chevauchements temporels","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"DBXQ0PJFxW"}],"key":"GZuD5zGgRI"}],"key":"Cj9FewdZlA"}],"key":"HWE6QlS0No"},{"type":"thematicBreak","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"g0KiOAps2g"},{"type":"heading","depth":2,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Contexte du projet","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dP5Wic7d19"}],"identifier":"contexte-du-projet","label":"Contexte du projet","html_id":"contexte-du-projet","implicit":true,"key":"ZEgqiIwhk7"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Dans la Session 1, nous avons créé notre classe ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"tmjRwXXAPn"},{"type":"inlineCode","value":"PriceSeries","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Q4AAuBNeWa"},{"type":"text","value":" pour représenter et manipuler des séries de prix. Nous pouvons maintenant construire des abstractions de plus haut niveau :","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"dvCWiXGLOJ"}],"key":"Qr9TCbY8l8"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Une classe ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"oBJnPZiLkV"},{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Asset","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"vojTYqqTx8"}],"key":"rBJKhv7DHF"},{"type":"text","value":" qui ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"X5RJu9mayy"},{"type":"emphasis","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"contient","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"H1AIjbI6bW"}],"key":"OtjqNzY4m1"},{"type":"text","value":" une ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"TJG4BnywMH"},{"type":"inlineCode","value":"PriceSeries","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"JxNVJtIAaz"},{"type":"text","value":" (composition)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"DmiZ1xOeTV"}],"key":"U0jVEN4WS5"}],"key":"jr0bzBXpjo"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Une classe ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"V1J9uRF6Uj"},{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"DataLoader","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"XWDw8YSJqQ"}],"key":"M29wc287UV"},{"type":"text","value":" pour récupérer des données de marché avec cache intelligent","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"v5KWTYn3iJ"}],"key":"s9zKksFMNC"}],"key":"GO4rrbRgq0"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Une classe ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"zm6ZLihEtE"},{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Universe","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"LG6v4BlQtj"}],"key":"TgVZJHOmPX"},{"type":"text","value":" pour gérer une collection d’actifs","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ImGkeu42Td"}],"key":"lvV2BpHu5P"}],"key":"PuHNC9pqvA"}],"key":"JuZMgGHLoE"},{"type":"heading","depth":3,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Architecture cible","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"qt9wvOxATI"}],"identifier":"architecture-cible","label":"Architecture cible","html_id":"architecture-cible","implicit":true,"key":"HRpSiw8U1j"},{"type":"code","lang":"","value":"┌─────────────────────────────────────────────────────────────┐\n│                        Universe                              │\n│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐        │\n│  │  Asset  │  │  Asset  │  │  Asset  │  │  Asset  │  ...   │\n│  │  AAPL   │  │  MSFT   │  │  GOOGL  │  │  AMZN   │        │\n│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘        │\n│       │            │            │            │              │\n│  ┌────▼────┐  ┌────▼────┐  ┌────▼────┐  ┌────▼────┐        │\n│  │  Price  │  │  Price  │  │  Price  │  │  Price  │        │\n│  │  Series │  │  Series │  │  Series │  │  Series │        │\n│  └─────────┘  └─────────┘  └─────────┘  └─────────┘        │\n└─────────────────────────────────────────────────────────────┘\n                            ▲\n                            │ fetch\n                    ┌───────┴───────┐\n                    │  DataLoader   │\n                    │  (+ cache)    │\n                    └───────────────┘","position":{"start":{"line":23,"column":1},"end":{"line":42,"column":1}},"key":"ypHzs2gq1h"},{"type":"heading","depth":3,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"Exemple d’utilisation finale","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"EY5dOYpOl9"}],"identifier":"exemple-dutilisation-finale","label":"Exemple d’utilisation finale","html_id":"exemple-dutilisation-finale","implicit":true,"key":"OpakpszdT6"},{"type":"code","lang":"python","value":"from pyvest.core.priceseries import PriceSeries\nfrom pyvest.core.asset import Asset\nfrom pyvest.data.loader import DataLoader\nfrom pyvest.core.universe import Universe\n\n# Instanciation du DataLoader avec système de cache\nloader = DataLoader(cache_dir=\".cache\")\n\n# Récupération des données pour un actif via l'API Yahoo Finance\napple_ts = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-12-01\"))\n\n# Test du système de cache (le second appel devrait être instantané)\napple_ts = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-12-01\"))\n\n# Création de nos objets Asset\napple = Asset(\"AAPL\", apple_ts, sector=\"Technology\")\nmsft = Asset(\"MSFT\", loader.fetch_single_ticker(\"MSFT\", \"Close\", (\"2024-01-01\", \"2024-12-01\")), sector=\"Technology\")\n\n# Communication entre Asset et son interface PriceSeries\nprint(f\"Volatilité AAPL: {apple.volatility:.2%}\")\n\n# Corrélation entre deux actifs\ncorrelation = apple.correlation_with(msft)\nprint(f\"Corrélation AAPL-MSFT: {correlation:.2f}\")\n\n# Agrégation dans un objet Universe\nuniverse = Universe([apple, msft])\nfor asset in universe:\n    print(f\"{asset.ticker}: {asset.total_return:.2%}\")","position":{"start":{"line":46,"column":1},"end":{"line":76,"column":1}},"key":"Uj3IZJSmKQ"},{"type":"thematicBreak","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"dKOyfQG7cb"},{"type":"heading","depth":2,"position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"Partie 1 : Développement Guidé","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"OPke2mzcAO"}],"identifier":"partie-1-d-veloppement-guid","label":"Partie 1 : Développement Guidé","html_id":"partie-1-d-veloppement-guid","implicit":true,"key":"NiA8SAb3Cp"},{"type":"thematicBreak","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"mw3ivCnlSe"},{"type":"heading","depth":3,"position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Étape 2.1 : La classe Asset et le pattern Composition","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"AnzXK4G2R7"}],"identifier":"id-tape-2-1-la-classe-asset-et-le-pattern-composition","label":"Étape 2.1 : La classe Asset et le pattern Composition","html_id":"id-tape-2-1-la-classe-asset-et-le-pattern-composition","implicit":true,"key":"JsYNBrQSRa"},{"type":"heading","depth":4,"position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"children":[{"type":"text","value":"Introduction à la Programmation Orientée Objet","position":{"start":{"line":86,"column":1},"end":{"line":86,"column":1}},"key":"GnIg746UQu"}],"identifier":"introduction-la-programmation-orient-e-objet","label":"Introduction à la Programmation Orientée Objet","html_id":"introduction-la-programmation-orient-e-objet","implicit":true,"key":"XuZIclISuW"},{"type":"paragraph","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"La ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"zFNYaJdbSG"},{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"programmation orientée-objet (POO)","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"SGIDsdDocP"}],"key":"YvV4q8YrhU"},{"type":"text","value":" est un paradigme qui permet de structurer le code autour d’","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"sJ4a8KSUsN"},{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"objets","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"m2Qz32pOH4"}],"key":"GgiYk2EmCc"},{"type":"text","value":" — des entités définies par leurs caractéristiques (attributs) et leurs comportements (méthodes). Une ","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"LbrYJo3oWJ"},{"type":"strong","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"children":[{"type":"text","value":"classe","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"jQfG2ni3bd"}],"key":"beaVclZAT1"},{"type":"text","value":" agit comme un patron (ou usine) capable de produire des objets d’un type donné.","position":{"start":{"line":88,"column":1},"end":{"line":88,"column":1}},"key":"WXC0F7xZZu"}],"key":"FXmSM1gbup"},{"type":"paragraph","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"strong","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"text","value":"Les trois piliers de la POO :","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"EwzFL3nCyR"}],"key":"EDK36bKc0h"}],"key":"xPzvWQp3yg"},{"type":"table","position":{"start":{"line":92,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Pilier","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"qUlfPuf49w"}],"key":"WDgvAXPiud"},{"type":"tableCell","header":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"oKJ176AcH0"}],"key":"U8kDoM0VLp"},{"type":"tableCell","header":true,"position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"text","value":"Exemple","position":{"start":{"line":92,"column":1},"end":{"line":92,"column":1}},"key":"ZhxYmEUhb3"}],"key":"cPHosjBKaZ"}],"key":"G1DazPdwlK"},{"type":"tableRow","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"strong","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Encapsulation","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"Na8PXdXG5v"}],"key":"fIg8dJBVvB"}],"key":"pgLGCyEKrN"},{"type":"tableCell","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"text","value":"Regrouper données et comportements dans une même unité","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"CjyQIdS653"}],"key":"jLEUmywVJi"},{"type":"tableCell","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"children":[{"type":"inlineCode","value":"Asset","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"BbaHcZjFLU"},{"type":"text","value":" encapsule ticker, prix, secteur","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"dlxFqFVQLH"}],"key":"QEdPrSrEj2"}],"key":"GrqwdJsuPr"},{"type":"tableRow","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"strong","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Abstraction","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"oMCpxql6DK"}],"key":"cIMjHEUiq1"}],"key":"uDcepJj1Gd"},{"type":"tableCell","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Exposer une interface simple, cacher la complexité","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"vgpFBocmgc"}],"key":"nwL7JZ6jrV"},{"type":"tableCell","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"inlineCode","value":"asset.volatility","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"i6UsBikOuh"},{"type":"text","value":" cache le calcul sous-jacent","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"jc8INS7F5L"}],"key":"bXGkqd6RbF"}],"key":"cQowtogb1W"},{"type":"tableRow","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"strong","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Polymorphisme","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"zp8Y0SMCXm"}],"key":"jIVtlQiYBR"}],"key":"Ov7LDUcKbs"},{"type":"tableCell","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Objets de types différents répondant à la même interface","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"nGdowicLMD"}],"key":"JY5mXafDnX"},{"type":"tableCell","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"text","value":"Tout objet avec ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"XBLTysSnCl"},{"type":"inlineCode","value":"__len__","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"Nd6BqvKx6z"},{"type":"text","value":" fonctionne avec ","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"VV7ha8XCdd"},{"type":"inlineCode","value":"len()","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"maUeHjIES1"}],"key":"Xf9ALnqSou"}],"key":"LwnkjAub2g"}],"key":"YNJKQb6NIF"},{"type":"blockquote","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"strong","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"text","value":"Note importante","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"f8CTasVPC4"}],"key":"x8RtmAZbEQ"},{"type":"text","value":" : La POO n’est pas toujours nécessaire. Un programme simple peut fonctionner plus clairement comme une combinaison de fonctions. Voir la présentation de Jack Diederich “Stop Writing Classes” (PyCon 2012). Cependant, pour une librairie structurée comme la nôtre, la POO apporte une organisation claire et maintenable.","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"p0CUsOQw0Z"}],"key":"MNigCf4ToN"}],"key":"byXxRMdCj1"},{"type":"heading","depth":4,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"text","value":"Analyse des besoins","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"VFJilNZXlw"}],"identifier":"analyse-des-besoins","label":"Analyse des besoins","html_id":"analyse-des-besoins","implicit":true,"key":"u2pejKXj6x"},{"type":"paragraph","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"text","value":"Avant de coder, identifions les classes principales et leurs responsabilités :","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"FtrAjgPSPb"}],"key":"MVM0yvVlL8"},{"type":"table","position":{"start":{"line":104,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Classe","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"QjpYkG6RHZ"}],"key":"J2P3036JjU"},{"type":"tableCell","header":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Responsabilité","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"hSzrBS0bmf"}],"key":"oYpYmQNMfK"},{"type":"tableCell","header":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Attributs","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"VR7bf3fzwO"}],"key":"ob1CrHkS69"},{"type":"tableCell","header":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"text","value":"Méthodes","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"njnisg8gQ2"}],"key":"tD5PQg97XM"}],"key":"rPbwyDdwqz"},{"type":"tableRow","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"strong","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"PriceSeries","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"xuBPILN4hl"}],"key":"CjMDQjqnm7"}],"key":"arVcUUUl9v"},{"type":"tableCell","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"text","value":"Stocke et opère sur une série de prix","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"gCuRAtGiYh"}],"key":"aNaUQfm3pK"},{"type":"tableCell","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"inlineCode","value":"values","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"s15v3cnT4Y"},{"type":"text","value":", ","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"spx2GbYLSj"},{"type":"inlineCode","value":"name","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"T3gCFWzI1p"}],"key":"Af4n32oMoL"},{"type":"tableCell","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"inlineCode","value":"log_return()","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"kYJULguJyr"},{"type":"text","value":", ","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"jPGVPjOKGr"},{"type":"inlineCode","value":"volatility()","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"JVzzLANZlE"}],"key":"hqiGL3CNAX"}],"key":"BhYDXgZPBG"},{"type":"tableRow","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"strong","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Asset","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"M7gLxsC22n"}],"key":"HIsFX8J1nI"}],"key":"DES2tNSE29"},{"type":"tableCell","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Représente un actif financier et ses métadonnées","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"GdHnMhV1QX"}],"key":"FkndHdAn9R"},{"type":"tableCell","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"inlineCode","value":"ticker","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"LY5VMhNage"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"kN4XRGeWYB"},{"type":"inlineCode","value":"prices","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"iVjWcCPZ6t"},{"type":"text","value":", ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"gOmedOg0x5"},{"type":"inlineCode","value":"sector","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Q4hmUlu19G"}],"key":"jRkTYWjmQR"},{"type":"tableCell","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"inlineCode","value":"correlation_with()","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"U5urZoqPu9"},{"type":"text","value":", propriétés métriques","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"ioOPJNMB1i"}],"key":"Im07OZg8Q6"}],"key":"kO8RnNinyK"},{"type":"tableRow","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"strong","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"DataLoader","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"JfsGFAAgie"}],"key":"PxqY483B4F"}],"key":"W3mmXDTkAa"},{"type":"tableCell","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Récupère et met en cache les données de marché","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"CeHZytl0ql"}],"key":"zbBYLBrpFV"},{"type":"tableCell","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"inlineCode","value":"cache_dir","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"MuHnJ2QJTv"}],"key":"fkkldcQknS"},{"type":"tableCell","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"inlineCode","value":"fetch_single_ticker()","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"CfZg1keQ9L"},{"type":"text","value":", ","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"vH0RnGy3Mu"},{"type":"inlineCode","value":"fetch_multiple_tickers()","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"YMCsotwc7x"}],"key":"fWFlqSeHSD"}],"key":"Y3JmUgaPug"},{"type":"tableRow","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"strong","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Universe","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"lJ8B7102ep"}],"key":"O17HuZCcHC"}],"key":"w8wlRShqRo"},{"type":"tableCell","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Gère une collection d’actifs","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"MqpjJo0OMn"}],"key":"l5Y7trOKAZ"},{"type":"tableCell","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"inlineCode","value":"_assets","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"CdwHAfve8e"}],"key":"Vha2l6aKgZ"},{"type":"tableCell","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"inlineCode","value":"add()","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"RQe4O5HuaM"},{"type":"text","value":", ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"xJtXlM4cPM"},{"type":"inlineCode","value":"get()","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"hL1KoQiB9Y"},{"type":"text","value":", ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"HFYNSXDCNc"},{"type":"inlineCode","value":"filter_by_sector()","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"qbpANKXLE3"}],"key":"LEubxssboe"}],"key":"d2j10QHBe5"}],"key":"TTXtOGZvjd"},{"type":"heading","depth":4,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Les principes SOLID","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"kR0h8tTInm"}],"identifier":"les-principes-solid","label":"Les principes SOLID","html_id":"les-principes-solid","implicit":true,"key":"GzTEV9yfcA"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"Ces principes guident la conception de classes robustes et maintenables :","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"FkArBnPMoU"}],"key":"JAeFe36iLh"},{"type":"table","position":{"start":{"line":115,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Principe","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"tCazYeyYsv"}],"key":"w695kTpT8F"},{"type":"tableCell","header":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"fFyDyz2HdL"}],"key":"tPP4ARcrCi"},{"type":"tableCell","header":true,"position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"Application","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"E3FlDsF0Uu"}],"key":"DlftxFpbSQ"}],"key":"iKGybO3z5g"},{"type":"tableRow","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"strong","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"S","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"TtiPoMCdZd"}],"key":"ZDcvevmbnu"},{"type":"text","value":"ingle Responsibility","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"GfNz70EdMu"}],"key":"BzXTA79Pj0"},{"type":"tableCell","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Une classe = une responsabilité claire","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"neBwrshmNd"}],"key":"ISYohEE7cY"},{"type":"tableCell","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"inlineCode","value":"DataLoader","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"SxjGbMYmGN"},{"type":"text","value":" ne fait que charger des données","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"ujA87SWqQb"}],"key":"uoKc7PViqB"}],"key":"Yl0dUB9Te2"},{"type":"tableRow","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"strong","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"O","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"irMzxqCSss"}],"key":"bX2eMKlyUp"},{"type":"text","value":"pen/Closed","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"t2siLPp32N"}],"key":"RXVhrLbrO8"},{"type":"tableCell","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"Extensible sans modification interne","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"jsT0lpp4qT"}],"key":"QafjObRLly"},{"type":"tableCell","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"text","value":"Héritage pour spécialiser ","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"FyyYGc5TGR"},{"type":"inlineCode","value":"Asset","position":{"start":{"line":118,"column":1},"end":{"line":118,"column":1}},"key":"Vsdc5w35re"}],"key":"RG3wPLA1u8"}],"key":"jzVAZaMtkO"},{"type":"tableRow","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"strong","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"L","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"BtKQKhapGL"}],"key":"hnnCBGlt6E"},{"type":"text","value":"iskov Substitution","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"PXk2xMbSh6"}],"key":"kql0cFvM0k"},{"type":"tableCell","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Sous-classes substituables aux parents","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"J68BliFnLP"}],"key":"r5Bdxz1DMl"},{"type":"tableCell","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Polymorphisme","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"Jm2b7kiyXp"}],"key":"jGjC7COjRQ"}],"key":"WPcEHJgNoO"},{"type":"tableRow","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"strong","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"I","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"M0yhSLf5QY"}],"key":"Bp4XZLtLu3"},{"type":"text","value":"nterface Segregation","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"iPzTNxb5xq"}],"key":"SgCflJ8IHb"},{"type":"tableCell","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Interfaces minimales et ciblées","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"CaDUsDcj91"}],"key":"f5FAwDGT0j"},{"type":"tableCell","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"Méthodes publiques essentielles uniquement","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"RbVfwCoJrO"}],"key":"x61vYoHggS"}],"key":"oVyAOFiOlQ"},{"type":"tableRow","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"strong","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"D","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"ZB0fSpkOqw"}],"key":"irgS2x1LDm"},{"type":"text","value":"ependency Inversion","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"pQAc20IF8U"}],"key":"XjHoTdKWV8"},{"type":"tableCell","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Dépendre d’abstractions, pas d’implémentations","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"piwAGpJ1Im"}],"key":"WzeGwKgyvF"},{"type":"tableCell","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Injection de dépendances","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"tvQ9MHgGEu"}],"key":"MMUiopdD8F"}],"key":"Jsa0cADIPW"}],"key":"O2gg3SeRM0"},{"type":"heading","depth":4,"position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Types de relations entre classes","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"p28GeSWfGQ"}],"identifier":"types-de-relations-entre-classes","label":"Types de relations entre classes","html_id":"types-de-relations-entre-classes","implicit":true,"key":"bKhvQCTVyf"},{"type":"table","position":{"start":{"line":125,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Relation","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"a9cvKRlPr9"}],"key":"SnRgVlr3fc"},{"type":"tableCell","header":true,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Question à se poser","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"UZD6N5U2Lw"}],"key":"pHC4A2E1Lb"},{"type":"tableCell","header":true,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Exemple","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"FVVZEWZO3M"}],"key":"xdnYxB7QBI"}],"key":"fGeC4xdlA9"},{"type":"tableRow","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"strong","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Composition","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"HEVMsE2IlW"}],"key":"y9J5ubDINd"}],"key":"PRppfqeGRc"},{"type":"tableCell","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"“B appartient-il à A ? Le cycle de vie de B dépend-il de A ?”","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"xDxjAArBlp"}],"key":"gzyoZcFF4v"},{"type":"tableCell","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"inlineCode","value":"Asset","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"LknlEcBCPH"},{"type":"text","value":" ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"Q4dtM9asnx"},{"type":"emphasis","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"contient","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"bDauoYdwIO"}],"key":"PTUXQ7ZwyD"},{"type":"text","value":" une ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"bJlbQSoWK3"},{"type":"inlineCode","value":"PriceSeries","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"AyYdoDkaqO"}],"key":"du97XJcHTM"}],"key":"UDmOAfIXhY"},{"type":"tableRow","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"strong","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Agrégation","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"fhzIVMcPNg"}],"key":"QrFMTCsdNO"}],"key":"TQAj35FbWM"},{"type":"tableCell","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"“A contient-il B alors que B peut exister indépendamment ?”","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"CG5JmFkoVX"}],"key":"QtjKlp5dhx"},{"type":"tableCell","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"inlineCode","value":"Universe","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"ANkBdo5Wjd"},{"type":"text","value":" ","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"C06jEgk3nR"},{"type":"emphasis","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"contient","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"vSBMNY4POH"}],"key":"tZDXaYGjSx"},{"type":"text","value":" des ","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"TFhfFsFlpX"},{"type":"inlineCode","value":"Asset","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"CkwflUaejt"}],"key":"T2huniOZVK"}],"key":"j7STx4nC1s"},{"type":"tableRow","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"strong","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Héritage","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"KxpV34dWxq"}],"key":"pczwLLlfaZ"}],"key":"bGPhan5TcU"},{"type":"tableCell","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"“A est-il un type spécialisé de B ?”","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"YuE8BdjAOx"}],"key":"qQoOk4uPer"},{"type":"tableCell","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Non utilisé pour l’instant","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"CTPcFtRILR"}],"key":"DOjKqAfkpq"}],"key":"reqpFbSurh"}],"key":"Ty1L1kW8Ov"},{"type":"thematicBreak","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"vKmxWM7yp6"},{"type":"heading","depth":4,"position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Implémentation de la classe Asset","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"zV4vu3l22z"}],"identifier":"impl-mentation-de-la-classe-asset","label":"Implémentation de la classe Asset","html_id":"impl-mentation-de-la-classe-asset","implicit":true,"key":"G0lRqvZ4R1"},{"type":"code","lang":"python","value":"# Fichier: pyvest/core/asset.py\n\nfrom pyvest.core.priceseries import PriceSeries\nfrom enum import Enum\n\n\nclass CurrencyEnum(Enum):\n    \"\"\"Énumération des devises supportées.\"\"\"\n    USD = \"USD\"\n    EUR = \"EUR\"\n    GBP = \"GBP\"\n    JPY = \"JPY\"\n\n\nclass Asset:\n    \"\"\"\n    Représente un actif financier avec son historique de prix.\n    \n    Pattern de conception : COMPOSITION\n    ───────────────────────────────────\n    Asset POSSÈDE une PriceSeries (relation HAS-A, pas IS-A).\n    \n    D'après 'Python OOP' (Lott & Phillips):\n    \"La composition est généralement le bon choix quand un objet \n    fait partie d'un autre objet.\"\n    \n    Le cycle de vie de PriceSeries est lié à celui de Asset :\n    - Créé quand Asset est créé\n    - Détruit quand Asset est détruit\n    \n    Attributes:\n        ticker: Symbole boursier (ex: 'AAPL')\n        prices: Instance PriceSeries contenant l'historique (COMPOSÉE)\n        sector: Classification sectorielle optionnelle\n        currency: Devise des prix (défaut: USD)\n    \n    Example:\n        >>> ts = PriceSeries([100.0, 105.0, 110.0], \"AAPL_prices\")\n        >>> apple = Asset(\"AAPL\", ts, sector=\"Technology\")\n        >>> apple.volatility\n        0.1587...\n    \"\"\"\n    \n    def __init__(\n        self, \n        ticker: str, \n        prices: PriceSeries,\n        sector: str | None = None,\n        currency: CurrencyEnum = CurrencyEnum.USD\n    ) -> None:\n        \"\"\"\n        Initialise un Asset.\n        \n        Args:\n            ticker: Symbole boursier (ne peut pas être vide)\n            prices: Série de prix (ne peut pas être vide)\n            sector: Secteur d'activité (optionnel)\n            currency: Devise (défaut: USD)\n        \n        Raises:\n            ValueError: Si ticker est vide ou prices est vide\n        \"\"\"\n        # Validation des entrées dans le constructeur\n        if not ticker or not ticker.strip():\n            raise ValueError(\"Le ticker ne peut pas être vide\")\n        if len(prices) == 0:\n            raise ValueError(\"La série de prix ne peut pas être vide\")\n        \n        self.ticker = ticker.upper()  # Normalisation en majuscules\n        self.prices = prices  # Composition : Asset POSSÈDE une PriceSeries\n        self.sector = sector\n        self.currency = currency\n    \n    def __repr__(self) -> str:\n        \"\"\"Représentation pour le développement.\"\"\"\n        return f\"Asset({self.ticker!r}, {len(self.prices)} prices)\"\n    \n    def __str__(self) -> str:\n        \"\"\"Représentation pour l'utilisateur.\"\"\"\n        return f\"{self.ticker}: ${self.current_price:.2f}\"","position":{"start":{"line":135,"column":1},"end":{"line":216,"column":1}},"key":"tfHEUZyUnV"},{"type":"paragraph","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"children":[{"type":"strong","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"children":[{"type":"text","value":"Test dans le REPL :","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"juEJpMJwzg"}],"key":"UZxj24uFg0"}],"key":"aOiH24TDHa"},{"type":"code","lang":"python","value":">>> from pyvest.core.priceseries import PriceSeries\n>>> from pyvest.core.asset import Asset\n>>> ts = PriceSeries([100.0, 105.0, 103.0, 110.0], \"AAPL_prices\")\n>>> apple = Asset(\"AAPL\", ts, sector=\"Technology\")\n>>> apple\nAsset('AAPL', 4 prices)\n>>> apple.ticker\n'AAPL'\n>>> apple.prices.total_return\n0.1","position":{"start":{"line":220,"column":1},"end":{"line":231,"column":1}},"key":"WNE9aJPGk9"},{"type":"thematicBreak","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"CE8AT9CKh3"},{"type":"heading","depth":3,"position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"children":[{"type":"text","value":"Étape 2.2 : Propriétés et délégation vers PriceSeries","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"yJQTKoSoxN"}],"identifier":"id-tape-2-2-propri-t-s-et-d-l-gation-vers-priceseries","label":"Étape 2.2 : Propriétés et délégation vers PriceSeries","html_id":"id-tape-2-2-propri-t-s-et-d-l-gation-vers-priceseries","implicit":true,"key":"UOfelQtTvu"},{"type":"heading","depth":4,"position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"text","value":"Le décorateur ","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"QEX2EXjSeW"},{"type":"cite","identifier":"property","label":"property","kind":"narrative","position":{"start":{"line":237,"column":15},"end":{"line":237,"column":24}},"error":"not found","key":"d5zl55bnsY"}],"identifier":"le-d-corateur","label":"Le décorateur ","html_id":"le-d-corateur","implicit":true,"key":"mFaHXZS93K"},{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"Une ","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"tzfhUhS2YI"},{"type":"strong","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"propriété","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"Lw0yZlnt2J"}],"key":"m5enoeHk7D"},{"type":"text","value":" est un hybride entre un attribut et une méthode. Elle permet d’accéder à une valeur calculée avec la syntaxe d’un attribut (sans parenthèses), tout en exécutant du code derrière.","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"ETCQBTafPb"}],"key":"wIUthUGu9s"},{"type":"paragraph","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"strong","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"text","value":"Avantages des propriétés :","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"jLzKKPTb6f"}],"key":"kle8OIUAcY"}],"key":"qMVDNaxhBb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":242,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Syntaxe propre : ","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"AxBpoCGx54"},{"type":"inlineCode","value":"asset.volatility","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"SIFiDqRMdl"},{"type":"text","value":" au lieu de ","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"rO1UB63OVh"},{"type":"inlineCode","value":"asset.get_volatility()","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"GqB6vQNpuw"}],"key":"tgKLkPI8J3"}],"key":"vjMbnRuX3E"},{"type":"listItem","spread":true,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Lecture seule par défaut (protection des données)","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"G2YXJjrRjZ"}],"key":"wcGvCebPPK"}],"key":"IYZ1Yr5mO1"},{"type":"listItem","spread":true,"position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Calcul à la demande (lazy evaluation)","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"N9pyiJWdKK"}],"key":"LnxUY3xkV6"}],"key":"HMWoa3ND9Y"},{"type":"listItem","spread":true,"position":{"start":{"line":245,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Possibilité d’ajouter de la validation via un setter","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"ExMCqxSlPB"}],"key":"O5FUp2mqe8"}],"key":"AqFl0wMSPr"}],"key":"AeF8RO0KSy"},{"type":"code","lang":"python","value":"# Ajout des propriétés à la classe Asset\n\nclass Asset:\n    # ... (code précédent) ...\n    \n    @property\n    def current_price(self) -> float:\n        \"\"\"Dernier prix connu.\"\"\"\n        return self.prices.values[-1]\n    \n    @property\n    def volatility(self) -> float:\n        \"\"\"Volatilité annualisée (délègue à PriceSeries).\"\"\"\n        return self.prices.annualized_volatility()\n    \n    @property\n    def total_return(self) -> float:\n        \"\"\"Rendement total (délègue à PriceSeries).\"\"\"\n        return self.prices.total_return\n    \n    @property\n    def sharpe_ratio(self) -> float:\n        \"\"\"Ratio de Sharpe (délègue à PriceSeries).\"\"\"\n        return self.prices.sharpe_ratio()\n    \n    @property\n    def max_drawdown(self) -> float:\n        \"\"\"Drawdown maximum (délègue à PriceSeries).\"\"\"\n        return self.prices.max_drawdown()","position":{"start":{"line":247,"column":1},"end":{"line":277,"column":1}},"key":"BkBushmkM0"},{"type":"paragraph","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"children":[{"type":"strong","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"children":[{"type":"text","value":"Test de la délégation :","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"key":"w9yFa5SuWJ"}],"key":"AnsQsUClyd"}],"key":"fakhuztqDo"},{"type":"code","lang":"python","value":">>> apple = Asset(\"AAPL\", PriceSeries([100.0, 105.0, 110.0], \"AAPL\"))\n>>> apple.volatility        # Délègue à self.prices.annualized_volatility()\n>>> apple.total_return      # Délègue à self.prices.total_return\n0.1","position":{"start":{"line":281,"column":1},"end":{"line":286,"column":1}},"key":"VM91tgMdaE"},{"type":"thematicBreak","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"KUbgBjvxWP"},{"type":"heading","depth":4,"position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"Comprendre les décorateurs","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"M4nEscoUzk"}],"identifier":"comprendre-les-d-corateurs","label":"Comprendre les décorateurs","html_id":"comprendre-les-d-corateurs","implicit":true,"key":"jn5Y0nmoz0"},{"type":"paragraph","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"Un ","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"xdwfVraOsP"},{"type":"strong","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"décorateur","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"c79kK1AwFk"}],"key":"nhoPEq49Ep"},{"type":"text","value":" est une fonction qui prend une autre fonction en argument et retourne une version modifiée de celle-ci. La syntaxe ","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"bXqUTfOv3R"},{"type":"inlineCode","value":"@decorator","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"el0fo2RLU2"},{"type":"text","value":" est un sucre syntaxique :","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"lMCYTkzaKk"}],"key":"vIfi18BFnK"},{"type":"code","lang":"python","value":"@decorator\ndef ma_fonction():\n    print(\"Ceci est ma fonction\")\n\n# Est équivalent à :\ndef ma_fonction():\n    print(\"Ceci est ma fonction\")\nma_fonction = decorator(ma_fonction)","position":{"start":{"line":294,"column":1},"end":{"line":303,"column":1}},"key":"WPfJinZHwL"},{"type":"paragraph","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"children":[{"type":"strong","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"children":[{"type":"text","value":"Points clés :","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"key":"rB8CLROa33"}],"key":"lgUaTNVWBL"}],"key":"UaprM4WMXW"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":307,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"Exécution à l’import","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"p9hF9kCCH3"}],"key":"AREZRuFJoW"},{"type":"text","value":" : Le décorateur s’exécute quand le module est chargé, pas quand la fonction est appelée","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"kud8V4vBN7"}],"key":"kfz6F4iwNE"}],"key":"CNrpOJx5Ux"},{"type":"listItem","spread":true,"position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"text","value":"Closure","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"bU6NRVzM4d"}],"key":"d32Yu9cAJe"},{"type":"text","value":" : La fonction interne du décorateur a accès aux variables de la fonction externe (scope ","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"oX6vocFcIR"},{"type":"inlineCode","value":"nonlocal","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"za7De6AARb"},{"type":"text","value":")","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"jdeBtKww9w"}],"key":"TZMYFprvPJ"}],"key":"HgZHtRNAhv"},{"type":"listItem","spread":true,"position":{"start":{"line":309,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Préservation des métadonnées","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"Dv0M3RNn6g"}],"key":"PXdBceozCZ"},{"type":"text","value":" : Utiliser ","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"i4LXPGvP5U"},{"type":"inlineCode","value":"@functools.wraps","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"RzXL5AM0Pe"},{"type":"text","value":" pour conserver ","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"rXug3bI6nl"},{"type":"inlineCode","value":"__name__","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"jQv4dwFFNu"},{"type":"text","value":" et ","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"RAmVTHofaw"},{"type":"inlineCode","value":"__doc__","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"Gywcb5qW7I"}],"key":"ULQ9nMc9wZ"}],"key":"wam3gus3JF"}],"key":"ukJMCMWzrS"},{"type":"paragraph","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"strong","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"children":[{"type":"text","value":"Exemple : décorateur de chronométrage","position":{"start":{"line":311,"column":1},"end":{"line":311,"column":1}},"key":"XN6XTqecEM"}],"key":"hO3Emur5JX"}],"key":"HPBxVzfvOB"},{"type":"code","lang":"python","value":"import time\nimport functools\n\ndef chronometre(func):\n    \"\"\"Décorateur qui mesure le temps d'exécution d'une fonction.\"\"\"\n    @functools.wraps(func)  # Préserve __name__ et __doc__\n    def wrapper(*args, **kwargs):\n        debut = time.perf_counter()\n        resultat = func(*args, **kwargs)\n        duree = time.perf_counter() - debut\n        print(f\"[{duree:.4f}s] {func.__name__}\")\n        return resultat\n    return wrapper\n\n@chronometre\ndef calcul_lent():\n    time.sleep(1)\n    return 42\n\n>>> calcul_lent()\n[1.0012s] calcul_lent\n42","position":{"start":{"line":313,"column":1},"end":{"line":336,"column":1}},"key":"z1rGq0kI3r"},{"type":"thematicBreak","position":{"start":{"line":338,"column":1},"end":{"line":338,"column":1}},"key":"LtD032GHrw"},{"type":"heading","depth":3,"position":{"start":{"line":340,"column":1},"end":{"line":340,"column":1}},"children":[{"type":"text","value":"Étape 2.3 : Méthode de corrélation entre actifs","position":{"start":{"line":340,"column":1},"end":{"line":340,"column":1}},"key":"jAfOfv6b0Y"}],"identifier":"id-tape-2-3-m-thode-de-corr-lation-entre-actifs","label":"Étape 2.3 : Méthode de corrélation entre actifs","html_id":"id-tape-2-3-m-thode-de-corr-lation-entre-actifs","implicit":true,"key":"Plt9DQSMIr"},{"type":"heading","depth":4,"position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"text","value":"Contexte en finance quantitative","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"key":"pLutYR7tL4"}],"identifier":"contexte-en-finance-quantitative","label":"Contexte en finance quantitative","html_id":"contexte-en-finance-quantitative","implicit":true,"key":"G1oveOji1i"},{"type":"paragraph","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"La corrélation est une mesure fondamentale en finance quantitative. D’après ","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"hnMc1YnAkC"},{"type":"emphasis","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"Portfolio Optimization: Theory and Application","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"wIsv8TWSZs"}],"key":"RMQAFhAA4A"},{"type":"text","value":" (Palomar, 2025) :","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"XCAv8MP5T5"}],"key":"c4GZZwhUUd"},{"type":"blockquote","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"children":[{"type":"text","value":"“Il existe une structure le long de la dimension des actifs (également appelée structure transversale). Cela signifie que plutôt que de considérer les actifs un par un de manière indépendante, ils doivent être modélisés conjointement. C’est particulièrement important pour évaluer le risque d’un portefeuille, car différentes actions peuvent avoir différentes corrélations.”","position":{"start":{"line":346,"column":1},"end":{"line":346,"column":1}},"key":"SmFGH3rTQV"}],"key":"p9YjotEyoB"}],"key":"NMlX8rTyzI"},{"type":"paragraph","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"children":[{"type":"text","value":"Et d’après ","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"key":"IU3I3DC5m5"},{"type":"emphasis","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"children":[{"type":"text","value":"The Elements of Quantitative Investing","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"key":"oucmKNyqt1"}],"key":"dkDh2mndvP"},{"type":"text","value":" (Paleologo) :","position":{"start":{"line":348,"column":1},"end":{"line":348,"column":1}},"key":"o9jRGxbdi3"}],"key":"wugcDQibxt"},{"type":"blockquote","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"“Les rendements ont généralement une corrélation positive car les actifs tendent à évoluer ensemble avec le marché.”","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"YH52NFGFQA"}],"key":"VOhvf6zJa1"}],"key":"EUsjCXrFWj"},{"type":"paragraph","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"children":[{"type":"text","value":"La corrélation de Pearson mesure la relation linéaire entre deux variables. Pour deux actifs, nous calculons la corrélation de leurs log-rendements.","position":{"start":{"line":352,"column":1},"end":{"line":352,"column":1}},"key":"UZ08vh18ZT"}],"key":"CDbwSERkEt"},{"type":"paragraph","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"strong","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Formule de Pearson :","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"Dpp0gZTSzp"}],"key":"Q0hPSY8LAh"}],"key":"idD3x1lMY6"},{"type":"math","value":"\\rho_{X,Y} = \\frac{\\text{Cov}(X, Y)}{\\sigma_X \\cdot \\sigma_Y} = \\frac{\\sum_{i=1}^{n} (x_i - \\bar{x})(y_i - \\bar{y})}{\\sqrt{\\sum_{i=1}^{n} (x_i - \\bar{x})^2} \\cdot \\sqrt{\\sum_{i=1}^{n} (y_i - \\bar{y})^2}}","position":{"start":{"line":356,"column":1},"end":{"line":356,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>ρ</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi></mrow></msub><mo>=</mo><mfrac><mrow><mtext>Cov</mtext><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">)</mo></mrow><mrow><msub><mi>σ</mi><mi>X</mi></msub><mo>⋅</mo><msub><mi>σ</mi><mi>Y</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><mover accent=\"true\"><mi>y</mi><mo>ˉ</mo></mover><mo stretchy=\"false\">)</mo></mrow><mrow><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent=\"true\"><mi>x</mi><mo>ˉ</mo></mover><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt><mo>⋅</mo><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><mover accent=\"true\"><mi>y</mi><mo>ˉ</mo></mover><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\rho_{X,Y} = \\frac{\\text{Cov}(X, Y)}{\\sigma_X \\cdot \\sigma_Y} = \\frac{\\sum_{i=1}^{n} (x_i - \\bar{x})(y_i - \\bar{y})}{\\sqrt{\\sum_{i=1}^{n} (x_i - \\bar{x})^2} \\cdot \\sqrt{\\sum_{i=1}^{n} (y_i - \\bar{y})^2}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7167em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">Y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.263em;vertical-align:-0.836em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.22222em;\">Y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">Cov</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.836em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.624em;vertical-align:-1.13em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.494em;\"><span style=\"top:-2.1727em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9373em;\"><span class=\"svg-align\" style=\"top:-3.2em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7401em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.8973em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3027em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9373em;\"><span class=\"svg-align\" style=\"top:-3.2em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7401em;\"><span style=\"top:-2.989em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-2.8973em;\"><span class=\"pstrut\" style=\"height:3.2em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3027em;\"><span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.6897em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord accent\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\">x</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.2222em;\"><span class=\"mord\">ˉ</span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.5678em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.1944em;\"><span class=\"mord\">ˉ</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.13em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"1","key":"ntsKW9vdNM"},{"type":"paragraph","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"children":[{"type":"strong","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"children":[{"type":"text","value":"Interprétation :","position":{"start":{"line":358,"column":1},"end":{"line":358,"column":1}},"key":"n2Daav8QvL"}],"key":"C1YvITQgMA"}],"key":"eFehwlbt1M"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":359,"column":1},"end":{"line":362,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"text","value":"ρ = +1","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"ue3gi2jQeX"}],"key":"fehftJxVGW"},{"type":"text","value":" : Corrélation positive parfaite (les actifs bougent ensemble)","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"YN8ob4rR7G"}],"key":"epLvt3ICmF"}],"key":"Uk0Kx3CQgB"},{"type":"listItem","spread":true,"position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"children":[{"type":"text","value":"ρ = 0","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"DgQirrYcn1"}],"key":"z5H8hTsHpZ"},{"type":"text","value":" : Pas de corrélation linéaire","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"paU3w6arj3"}],"key":"bJvuj6NyST"}],"key":"t0Pprqooh0"},{"type":"listItem","spread":true,"position":{"start":{"line":361,"column":1},"end":{"line":362,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"text","value":"ρ = -1","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"gd5iUMFcJL"}],"key":"NRTtESQp5n"},{"type":"text","value":" : Corrélation négative parfaite (les actifs bougent en sens opposé)","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"GdIdDFvG3j"}],"key":"MeZTcoiyfO"}],"key":"rOHlW8ZtYM"}],"key":"SNTYbTIs2u"},{"type":"code","lang":"python","value":"import numpy as np\n\nclass Asset:\n    # ... (code précédent) ...\n    \n    def correlation_with(self, other: \"Asset\") -> float:\n        \"\"\"\n        Calcule la corrélation de Pearson des log-rendements avec un autre actif.\n        \n        La corrélation mesure la relation linéaire entre deux séries.\n        En finance, elle est cruciale pour :\n        - Évaluer les bénéfices de diversification\n        - Construire des portefeuilles optimaux\n        - Identifier les paires de trading\n        \n        Args:\n            other: Un autre Asset avec lequel calculer la corrélation\n        \n        Returns:\n            Coefficient de corrélation entre -1 et 1\n        \n        Raises:\n            ValueError: Si les séries ont moins de 2 observations communes\n                        ou si une série a une variance nulle\n        \n        Note:\n            Les séries sont alignées sur la longueur minimale.\n            En production, on alignerait plutôt sur les dates.\n        \"\"\"\n        # Récupération des log-rendements\n        x = np.array(self.prices.all_log_returns())\n        y = np.array(other.prices.all_log_returns())\n        \n        # Alignement des longueurs (gestion des séries de tailles différentes)\n        n = min(len(x), len(y))\n        if n < 2:\n            raise ValueError(\n                f\"Pas assez d'observations communes: {n}. \"\n                \"Minimum requis: 2.\"\n            )\n        \n        x = x[:n]\n        y = y[:n]\n        \n        # Centrage des valeurs (soustraction de la moyenne)\n        x_centered = x - np.mean(x)\n        y_centered = y - np.mean(y)\n        \n        # Covariance (numérateur)\n        covariance = np.dot(x_centered, y_centered)\n        \n        # Variances pour le dénominateur\n        var_x = np.dot(x_centered, x_centered)\n        var_y = np.dot(y_centered, y_centered)\n        \n        # Vérification de la variance nulle\n        if var_x == 0 or var_y == 0:\n            raise ValueError(\n                \"Variance nulle détectée. \"\n                \"La corrélation n'est pas définie pour une série constante.\"\n            )\n        \n        # Formule de Pearson : cov(x,y) / (std(x) * std(y))\n        return covariance / np.sqrt(var_x * var_y)","position":{"start":{"line":363,"column":1},"end":{"line":428,"column":1}},"key":"Aqn8NFZ1g4"},{"type":"blockquote","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"strong","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"text","value":"⚠️ Note de correction","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"nofmIddRPY"}],"key":"aam1pdvWnJ"},{"type":"text","value":" : La version originale retournait ","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"oh6RWxvfFU"},{"type":"inlineCode","value":"0.0","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"EQnScMoRGI"},{"type":"text","value":" silencieusement en cas de variance nulle ou de données insuffisantes. C’est problématique car une corrélation de 0 a une signification réelle (absence de relation linéaire). La version corrigée lève une ","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"fePC5Rz69T"},{"type":"inlineCode","value":"ValueError","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"nNizqkDxcW"},{"type":"text","value":" explicite pour éviter les erreurs silencieuses.","position":{"start":{"line":430,"column":1},"end":{"line":430,"column":1}},"key":"ouWCaC9PrL"}],"key":"SqhWYCBgR1"}],"key":"VggQrYu6p9"},{"type":"thematicBreak","position":{"start":{"line":432,"column":1},"end":{"line":432,"column":1}},"key":"pc1ZGNJSQf"},{"type":"heading","depth":3,"position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"text","value":"Étape 2.4 : Git Commit","position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"key":"aXkskM0S6H"}],"identifier":"id-tape-2-4-git-commit","label":"Étape 2.4 : Git Commit","html_id":"id-tape-2-4-git-commit","implicit":true,"key":"QQNektOeNl"},{"type":"code","lang":"bash","value":"git add pyvest/core/asset.py\ngit commit -m \"feat(core): add Asset class with composition over PriceSeries\"","position":{"start":{"line":436,"column":1},"end":{"line":439,"column":1}},"key":"khOcfceGUP"},{"type":"thematicBreak","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"Of7JjSvff5"},{"type":"heading","depth":3,"position":{"start":{"line":443,"column":1},"end":{"line":443,"column":1}},"children":[{"type":"text","value":"Étape 3 : DataLoader avec système de cache intelligent","position":{"start":{"line":443,"column":1},"end":{"line":443,"column":1}},"key":"jUry0rAxc2"}],"identifier":"id-tape-3-dataloader-avec-syst-me-de-cache-intelligent","label":"Étape 3 : DataLoader avec système de cache intelligent","html_id":"id-tape-3-dataloader-avec-syst-me-de-cache-intelligent","implicit":true,"key":"nLZAeUzraK"},{"type":"heading","depth":4,"position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"text","value":"Installation de yfinance","position":{"start":{"line":445,"column":1},"end":{"line":445,"column":1}},"key":"EY8HmgATJq"}],"identifier":"installation-de-yfinance","label":"Installation de yfinance","html_id":"installation-de-yfinance","implicit":true,"key":"xDIxZaGbNR"},{"type":"code","lang":"bash","value":"# Dans le terminal :\nuv add yfinance\n\n# Test dans le REPL :\n>>> import yfinance as yf\n>>> msft = yf.Ticker(\"MSFT\")\n>>> msft.info['shortName']\n'Microsoft Corporation'","position":{"start":{"line":447,"column":1},"end":{"line":456,"column":1}},"key":"z2xVwDekzI"},{"type":"paragraph","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"children":[{"type":"inlineCode","value":"yfinance","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"jV0vQaiRM0"},{"type":"text","value":" est une librairie open-source non officielle qui simplifie l’accès à l’API Yahoo Finance. Elle supporte les prix historiques, les données fondamentales et les données d’options.","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"XFrouV1rTF"}],"key":"hcbDj4TznE"},{"type":"blockquote","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"strong","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"text","value":"⚠️ Avertissement légal","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"key":"w9xshwE0Wf"}],"key":"DUj0tZ76lt"},{"type":"text","value":" : yfinance ≠ permission d’utiliser les données Yahoo comme bon vous semble. Pour tout usage au-delà de la recherche personnelle légère, obtenez une licence appropriée.","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"key":"ChsP3mvsUN"}],"key":"uMXQRbr0cA"}],"key":"XdeQsOpunJ"},{"type":"thematicBreak","position":{"start":{"line":462,"column":1},"end":{"line":462,"column":1}},"key":"L4WJw7xG3I"},{"type":"heading","depth":4,"position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"text","value":"Conception de l’interface du DataLoader","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"zIO2WJeLuH"}],"identifier":"conception-de-linterface-du-dataloader","label":"Conception de l’interface du DataLoader","html_id":"conception-de-linterface-du-dataloader","implicit":true,"key":"xQf8W4PRby"},{"type":"code","lang":"","value":"Interface publique :\n├── fetch_single_ticker(ticker, price_col, dates) -> PriceSeries\n├── fetch_multiple_tickers(tickers, price_col, dates) -> dict[str, PriceSeries]\n└── clear_cache() -> int\n\nInterface privée :\n├── _get_cache_path(ticker, price_col, dates) -> Path\n├── _check_date_overlap(...) -> tuple[str, Timestamp, Timestamp]\n├── _load_from_cache(...) -> tuple[DataFrame, str, tuple]\n└── _save_to_cache(...) -> None","position":{"start":{"line":466,"column":1},"end":{"line":477,"column":1}},"key":"dhbGCNqQPZ"},{"type":"paragraph","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Pourquoi un système de cache intelligent ?","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"iyaxG2f5R5"}],"key":"HtPU5TERZu"}],"key":"pKxHGcD8h2"},{"type":"table","position":{"start":{"line":481,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"text","value":"Raison","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"key":"XtJb9CM7af"}],"key":"LQ8s94KfMq"},{"type":"tableCell","header":true,"position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"text","value":"Explication","position":{"start":{"line":481,"column":1},"end":{"line":481,"column":1}},"key":"kNNaETS16k"}],"key":"WBtTjk5Zwj"}],"key":"aHlHjBH2sx"},{"type":"tableRow","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Performance","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"s7pcEehnxL"}],"key":"ZlLeyo7Cdm"}],"key":"bOsweUc3v2"},{"type":"tableCell","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Éviter les appels API redondants, chargement local rapide","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"gTlV408P6V"}],"key":"aSzrOtsWT9"}],"key":"zxd6GFmiDh"},{"type":"tableRow","position":{"start":{"line":484,"column":1},"end":{"line":484,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":484,"column":1},"end":{"line":484,"column":1}},"children":[{"type":"strong","position":{"start":{"line":484,"column":1},"end":{"line":484,"column":1}},"children":[{"type":"text","value":"Rate limiting","position":{"start":{"line":484,"column":1},"end":{"line":484,"column":1}},"key":"ojCfcqjeCt"}],"key":"TnRv02JYhO"}],"key":"x48AdqN6fv"},{"type":"tableCell","position":{"start":{"line":484,"column":1},"end":{"line":484,"column":1}},"children":[{"type":"text","value":"Les APIs ont souvent des limites de requêtes","position":{"start":{"line":484,"column":1},"end":{"line":484,"column":1}},"key":"FTcChdJ6cJ"}],"key":"LsrL4QdrGo"}],"key":"FafKjgn3hh"},{"type":"tableRow","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"strong","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"text","value":"Reproductibilité","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"key":"B3qnh2PmLP"}],"key":"g8QTAROGZ0"}],"key":"INtpSopWhe"},{"type":"tableCell","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"text","value":"Garantir l’utilisation du même dataset en recherche","position":{"start":{"line":485,"column":1},"end":{"line":485,"column":1}},"key":"kcFd4SZmAF"}],"key":"Vgvebh20ed"}],"key":"vOYrafZoQC"},{"type":"tableRow","position":{"start":{"line":486,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":486,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"strong","position":{"start":{"line":486,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"text","value":"Mode hors-ligne","position":{"start":{"line":486,"column":1},"end":{"line":486,"column":1}},"key":"Vx272FMVCm"}],"key":"YQRuc6q4EO"}],"key":"YESHEyojXu"},{"type":"tableCell","position":{"start":{"line":486,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"text","value":"Travailler sans connexion internet","position":{"start":{"line":486,"column":1},"end":{"line":486,"column":1}},"key":"f6gjkfLsdB"}],"key":"PwK3AhdNGA"}],"key":"KTODyzeWKU"},{"type":"tableRow","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Économie de bande passante","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"yzhwS4NYCK"}],"key":"AzaZDzLiQ4"}],"key":"TuTle7YLy0"},{"type":"tableCell","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Ne télécharger que les données manquantes","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"yPPVqTywMs"}],"key":"zE9r7WXP0m"}],"key":"Qzu717oZyT"}],"key":"V5bBb0lNay"},{"type":"heading","depth":4,"position":{"start":{"line":489,"column":1},"end":{"line":489,"column":1}},"children":[{"type":"text","value":"Architecture du cache avec gestion des chevauchements","position":{"start":{"line":489,"column":1},"end":{"line":489,"column":1}},"key":"MHRATIZCqg"}],"identifier":"architecture-du-cache-avec-gestion-des-chevauchements","label":"Architecture du cache avec gestion des chevauchements","html_id":"architecture-du-cache-avec-gestion-des-chevauchements","implicit":true,"key":"drtxQ3J59m"},{"type":"paragraph","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Le système de cache gère quatre scénarios de correspondance temporelle :","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"yvtKTSMZPR"}],"key":"wYYXjrDlT5"},{"type":"code","lang":"","value":"Cas 1: EXACT - La requête correspond exactement au cache\nCache:    |-------------|\nRequête:  |-------------|\n→ Retourner directement les données en cache\n\nCas 2: CONTAINS - Le cache contient la période demandée\nCache:    |-----------------|\nRequête:      |---------|\n→ Découper (slice) les données en cache\n\nCas 3: OVERLAP_AFTER - Chevauchement à droite\nCache:    |---------|\nRequête:      |-----------|\n→ Fusionner cache + nouvelles données à droite\n\nCas 4: OVERLAP_BEFORE - Chevauchement à gauche\nCache:          |---------|\nRequête:   |-----------|\n→ Fusionner nouvelles données à gauche + cache\n\nCas 5: MISS - Aucun chevauchement\nCache:    |-----|\nRequête:              |-----|\n→ Télécharger toutes les données","position":{"start":{"line":493,"column":1},"end":{"line":518,"column":1}},"key":"gt0FuNgfBV"},{"type":"thematicBreak","position":{"start":{"line":520,"column":1},"end":{"line":520,"column":1}},"key":"pgjEAHmJ3h"},{"type":"heading","depth":4,"position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"text","value":"Implémentation du DataLoader","position":{"start":{"line":522,"column":1},"end":{"line":522,"column":1}},"key":"WY8BomMt9S"}],"identifier":"impl-mentation-du-dataloader","label":"Implémentation du DataLoader","html_id":"impl-mentation-du-dataloader","implicit":true,"key":"jAzoCHJs2Y"},{"type":"code","lang":"python","value":"# Fichier: pyvest/data/loader.py\n\nfrom pathlib import Path\nfrom datetime import datetime\nimport logging\nimport pickle\nfrom typing import Sequence\n\nimport yfinance as yf\nimport pandas as pd\n\nfrom pyvest.core.priceseries import PriceSeries\n\n\nclass DataLoader:\n    \"\"\"\n    Charge des données de marché depuis Yahoo Finance avec mise en cache intelligente.\n    \n    Le système de cache gère cinq scénarios de correspondance temporelle :\n    1. EXACT : La requête correspond exactement aux données en cache\n    2. CONTAINS : La requête est un sous-ensemble du cache\n    3. OVERLAP_AFTER : Intersection partielle, fetch complémentaire à droite\n    4. OVERLAP_BEFORE : Intersection partielle, fetch complémentaire à gauche\n    5. MISS : Aucune donnée en cache, fetch complet nécessaire\n    \n    Attributes:\n        cache_dir: Répertoire de stockage du cache\n        logger: Logger pour le suivi des opérations\n    \n    Example:\n        >>> loader = DataLoader(cache_dir=\".cache\")\n        >>> ts = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-06-01\"))\n        >>> len(ts)\n        125\n    \"\"\"\n    \n    def __init__(self, cache_dir: str = \".cache\") -> None:\n        \"\"\"\n        Initialise le DataLoader.\n        \n        Args:\n            cache_dir: Chemin du répertoire de cache (créé si inexistant)\n        \"\"\"\n        self.cache_dir = Path(cache_dir)\n        self.cache_dir.mkdir(exist_ok=True)\n        self.logger = logging.getLogger(self.__class__.__name__)\n\n    def _get_cache_path(\n        self, \n        ticker: str, \n        price_col: str, \n        dates: tuple[str, str]\n    ) -> Path:\n        \"\"\"\n        Génère le chemin du fichier cache pour une requête donnée.\n        \n        Format: {ticker}_{price_col}_{start}_{end}.pkl\n        \"\"\"\n        return self.cache_dir / f\"{ticker}_{price_col}_{dates[0]}_{dates[1]}.pkl\"\n\n    def _check_date_overlap(\n        self,\n        cached_start: pd.Timestamp,\n        cached_end: pd.Timestamp,\n        req_start: pd.Timestamp,\n        req_end: pd.Timestamp\n    ) -> tuple[str, pd.Timestamp | None, pd.Timestamp | None]:\n        \"\"\"\n        Détermine le type de chevauchement entre le cache et la requête.\n        \n        Args:\n            cached_start: Date de début des données en cache\n            cached_end: Date de fin des données en cache\n            req_start: Date de début de la requête\n            req_end: Date de fin de la requête\n        \n        Returns:\n            tuple: (status, gap_start, gap_end)\n            - status: \"exact\" | \"contains\" | \"overlap_before\" | \"overlap_after\" | \"miss\"\n            - gap_start: Début de la période manquante (si overlap)\n            - gap_end: Fin de la période manquante (si overlap)\n        \"\"\"\n        # Cas MISS: Aucune intersection\n        if cached_end < req_start or cached_start > req_end:\n            return (\"miss\", None, None)\n\n        # Cas EXACT: Correspondance parfaite\n        if cached_start == req_start and cached_end == req_end:\n            return (\"exact\", None, None)\n\n        # Cas CONTAINS: Le cache englobe la requête\n        if cached_start <= req_start and cached_end >= req_end:\n            return (\"contains\", None, None)\n\n        # Cas OVERLAP_AFTER: Le cache commence avant/au début mais finit avant la fin\n        if cached_start <= req_start and cached_end < req_end:\n            gap_start = cached_end + pd.Timedelta(days=1)\n            gap_end = req_end\n            return (\"overlap_after\", gap_start, gap_end)\n\n        # Cas OVERLAP_BEFORE: Le cache commence après le début mais finit après/à la fin\n        if cached_start > req_start and cached_end >= req_end:\n            gap_start = req_start\n            gap_end = cached_start - pd.Timedelta(days=1)\n            return (\"overlap_before\", gap_start, gap_end)\n\n        # Cas non couvert (le cache est un sous-ensemble strict de la requête)\n        # Traité comme MISS pour simplicité - on refetch tout\n        return (\"miss\", None, None)\n\n    def _load_from_cache(\n        self,\n        ticker: str,\n        price_col: str,\n        start_date: pd.Timestamp,\n        end_date: pd.Timestamp\n    ) -> tuple[pd.DataFrame | None, str, tuple | None]:\n        \"\"\"\n        Recherche et charge les données disponibles en cache.\n        \n        Parcourt les fichiers du répertoire cache pour trouver une correspondance\n        avec le couple (ticker, price_col) et détermine le type de chevauchement.\n        \n        Args:\n            ticker: Symbole boursier\n            price_col: Nom de la colonne prix ('Close', 'Open', etc.)\n            start_date: Date de début de la requête\n            end_date: Date de fin de la requête\n        \n        Returns:\n            tuple: (dataframe, status, gap_range)\n            - dataframe: Données en cache ou None\n            - status: Type de correspondance\n            - gap_range: (gap_start, gap_end) si overlap, sinon None\n        \"\"\"\n        if not self.cache_dir.exists():\n            return (None, \"miss\", None)\n\n        # Itération sur les fichiers du cache pour match (ticker, price_col)\n        for file_path in self.cache_dir.iterdir():\n            if not file_path.is_file() or file_path.suffix != '.pkl':\n                continue\n\n            try:\n                # Parse le nom du fichier: ticker_pricecol_startdate_enddate.pkl\n                name_parts = file_path.stem.split('_')\n                \n                # Vérification du format attendu (4 parties minimum)\n                if len(name_parts) < 4:\n                    continue\n                \n                cached_ticker = name_parts[0]\n                cached_col = name_parts[1]\n                cached_start_str = name_parts[2]\n                cached_end_str = name_parts[3]\n\n                # Vérifier la correspondance ticker et price_col\n                if cached_ticker != ticker or cached_col != price_col:\n                    continue\n\n                # Parser les dates\n                cached_start = pd.to_datetime(cached_start_str)\n                cached_end = pd.to_datetime(cached_end_str)\n\n                # Déterminer le type de chevauchement\n                status, gap_start, gap_end = self._check_date_overlap(\n                    cached_start, cached_end, start_date, end_date\n                )\n\n                # Charger les données si le statut n'est pas 'miss'\n                if status != \"miss\":\n                    with open(file_path, 'rb') as f:\n                        data = pickle.load(f)\n\n                    # Reconstruire le DataFrame avec les dates\n                    prices_list = data['prices']\n                    dates_list = data.get('dates')  # Nouveau: stocker les dates réelles\n                    \n                    df = pd.DataFrame({price_col: prices_list})\n                    \n                    if dates_list is not None:\n                        # Utiliser les dates réelles stockées\n                        df.index = pd.to_datetime(dates_list)\n                    else:\n                        # Fallback: utiliser les jours ouvrés (moins précis)\n                        date_range = pd.bdate_range(\n                            start=cached_start, \n                            periods=len(df)\n                        )\n                        df.index = date_range\n\n                    if status == \"exact\":\n                        return (df, \"exact\", None)\n                    elif status == \"contains\":\n                        return (df, \"contains\", None)\n                    elif status.startswith(\"overlap\"):\n                        return (df, status, (gap_start, gap_end))\n\n            except (ValueError, KeyError, pickle.UnpicklingError) as e:\n                # Ignorer les fichiers cache corrompus\n                self.logger.warning(f\"Fichier cache corrompu {file_path}: {e}\")\n                continue\n\n        return (None, \"miss\", None)\n    \n    def _save_to_cache(\n        self, \n        cache_path: Path, \n        prices: list[float],\n        dates: list,\n        ticker: str, \n        start: str, \n        end: str\n    ) -> None:\n        \"\"\"\n        Sauvegarde les prix dans un fichier cache avec métadonnées.\n        \n        Args:\n            cache_path: Chemin du fichier cache\n            prices: Liste des prix\n            dates: Liste des dates correspondantes (index du DataFrame)\n            ticker: Symbole boursier\n            start: Date de début (string)\n            end: Date de fin (string)\n        \"\"\"\n        data = {\n            \"ticker\": ticker,\n            \"start\": start,\n            \"end\": end,\n            \"fetched_at\": datetime.now().isoformat(),\n            \"n_prices\": len(prices),\n            \"prices\": prices,\n            \"dates\": dates  # Stocker les dates réelles pour reconstruction précise\n        }\n        with open(cache_path, 'wb') as f:\n            pickle.dump(data, f)\n        self.logger.debug(f\"Cache sauvegardé: {cache_path}\")\n    \n    def fetch_single_ticker(\n        self, \n        ticker: str, \n        price_col: str, \n        dates: tuple[str, str]\n    ) -> PriceSeries | None:\n        \"\"\"\n        Récupère les données de prix d'un ticker unique avec système de cache.\n        \n        Gère automatiquement les 5 cas de correspondance temporelle avec le cache.\n        \n        Args:\n            ticker: Symbole boursier (ex: 'AAPL')\n            price_col: Nom de la colonne prix (ex: 'Close', 'Open')\n            dates: Tuple (start_date, end_date) au format 'YYYY-MM-DD'\n        \n        Returns:\n            Instance de PriceSeries ou None si échec\n        \n        Example:\n            >>> loader = DataLoader()\n            >>> ts = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-06-01\"))\n        \"\"\"\n        # Conversion des dates en Timestamp\n        start_date = pd.to_datetime(dates[0], format=\"%Y-%m-%d\")\n        end_date = pd.to_datetime(dates[1], format=\"%Y-%m-%d\")\n\n        self.logger.info(f\"Fetching {ticker} {price_col} from {dates[0]} to {dates[1]}\")\n\n        # Vérifier le cache\n        cached_df, status, gap_range = self._load_from_cache(\n            ticker, price_col, start_date, end_date\n        )\n\n        if status == \"exact\":\n            self.logger.info(f\"Cache HIT (exact): {ticker}\")\n            prices = cached_df[price_col].tolist()\n            return PriceSeries(values=prices, name=price_col)\n\n        elif status == \"contains\":\n            self.logger.info(f\"Cache HIT (slicing): {ticker}\")\n            # Découper le DataFrame cache pour obtenir le sous-ensemble demandé\n            mask = (cached_df.index >= start_date) & (cached_df.index <= end_date)\n            sliced_df = cached_df[mask]\n            prices = sliced_df[price_col].tolist()\n            return PriceSeries(values=prices, name=price_col)\n\n        elif status.startswith(\"overlap\"):\n            self.logger.info(f\"Cache PARTIAL (extending): {ticker}\")\n            gap_start, gap_end = gap_range\n\n            # Fetch la partie manquante\n            ticker_instance = yf.Ticker(ticker)\n            gap_df = ticker_instance.history(start=gap_start, end=gap_end)\n\n            if gap_df.empty:\n                self.logger.warning(f\"Échec du fetch des données manquantes pour {ticker}\")\n                return None\n\n            # Fusionner le cache avec les nouvelles données\n            if status == \"overlap_after\":\n                # Concaténation à droite\n                merged_df = pd.concat([cached_df[[price_col]], gap_df[[price_col]]])\n            else:\n                # Concaténation à gauche\n                merged_df = pd.concat([gap_df[[price_col]], cached_df[[price_col]]])\n\n            # Supprimer les doublons et trier par date\n            merged_df = merged_df[~merged_df.index.duplicated(keep='first')].sort_index()\n\n            # Sauvegarder le cache étendu\n            cache_path = self._get_cache_path(ticker, price_col, dates)\n            prices_list = merged_df[price_col].tolist()\n            dates_list = merged_df.index.tolist()\n            \n            self._save_to_cache(\n                cache_path=cache_path,\n                prices=prices_list,\n                dates=dates_list,\n                ticker=ticker,\n                start=dates[0],\n                end=dates[1]\n            )\n\n            return PriceSeries(values=prices_list, name=price_col)\n\n        else:  # miss: pas de données en cache correspondantes\n            self.logger.info(f\"Cache MISS: fetching from Yahoo Finance for {ticker}\")\n\n            ticker_instance = yf.Ticker(ticker)\n            df = ticker_instance.history(start=start_date, end=end_date)\n\n            if df.empty:\n                self.logger.warning(f\"DataFrame vide retourné pour {ticker}\")\n                return None\n\n            if price_col not in df.columns:\n                self.logger.error(f\"Colonne '{price_col}' non trouvée dans les données\")\n                raise KeyError(f\"Colonne '{price_col}' non disponible\")\n\n            prices = df[price_col].tolist()\n            dates_list = df.index.tolist()\n\n            if not prices:\n                self.logger.warning(f\"Liste de prix vide pour {ticker}[{price_col}]\")\n                return None\n\n            # Sauvegarder dans le cache\n            cache_path = self._get_cache_path(ticker, price_col, dates)\n            self._save_to_cache(\n                cache_path=cache_path,\n                prices=prices,\n                dates=dates_list,\n                ticker=ticker,\n                start=dates[0],\n                end=dates[1]\n            )\n\n            return PriceSeries(values=prices, name=price_col)\n    \n    def fetch_multiple_tickers(\n        self,\n        tickers: Sequence[str],\n        price_col: str,\n        dates: tuple[str, str]\n    ) -> dict[str, PriceSeries]:\n        \"\"\"\n        Récupère les données de prix pour plusieurs tickers.\n        \n        Args:\n            tickers: Liste de symboles boursiers\n            price_col: Nom de la colonne prix\n            dates: Tuple (start_date, end_date)\n        \n        Returns:\n            Dictionnaire {ticker: PriceSeries}\n            Les tickers en échec sont omis du résultat.\n        \"\"\"\n        results = {}\n        for ticker in tickers:\n            ps = self.fetch_single_ticker(ticker, price_col, dates)\n            if ps is not None:\n                results[ticker] = ps\n        return results\n    \n    def clear_cache(self) -> int:\n        \"\"\"\n        Supprime tous les fichiers du cache.\n        \n        Returns:\n            Nombre de fichiers supprimés\n        \"\"\"\n        count = 0\n        for file in self.cache_dir.glob(\"*.pkl\"):\n            file.unlink()\n            count += 1\n        self.logger.info(f\"Cache vidé: {count} fichiers supprimés\")\n        return count","position":{"start":{"line":524,"column":1},"end":{"line":921,"column":1}},"key":"mNS38z6tWM"},{"type":"blockquote","position":{"start":{"line":923,"column":1},"end":{"line":929,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":923,"column":1},"end":{"line":923,"column":1}},"children":[{"type":"strong","position":{"start":{"line":923,"column":1},"end":{"line":923,"column":1}},"children":[{"type":"text","value":"⚠️ Corrections apportées au système de cache :","position":{"start":{"line":923,"column":1},"end":{"line":923,"column":1}},"key":"wrx6yAUHDK"}],"key":"gTr0tzEJVk"}],"key":"OmDlHqFr9C"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":925,"column":1},"end":{"line":929,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":925,"column":1},"end":{"line":926,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":925,"column":1},"end":{"line":925,"column":1}},"children":[{"type":"strong","position":{"start":{"line":925,"column":1},"end":{"line":925,"column":1}},"children":[{"type":"text","value":"Stockage des dates réelles","position":{"start":{"line":925,"column":1},"end":{"line":925,"column":1}},"key":"rdOMDeZ49a"}],"key":"IDGJS6oiOy"},{"type":"text","value":" : La version originale reconstruisait les dates avec ","position":{"start":{"line":925,"column":1},"end":{"line":925,"column":1}},"key":"Vf9poAqi77"},{"type":"inlineCode","value":"freq='B'","position":{"start":{"line":925,"column":1},"end":{"line":925,"column":1}},"key":"cvEYjr0NGM"},{"type":"text","value":" (jours ouvrés), ce qui ne correspond pas aux jours de trading réels (ne tient pas compte des jours fériés). La version corrigée stocke les dates réelles du DataFrame yfinance.","position":{"start":{"line":925,"column":1},"end":{"line":925,"column":1}},"key":"bWu3q0LO3N"}],"key":"hfTmhu2eGM"}],"key":"eM6MuDsDPn"},{"type":"listItem","spread":true,"position":{"start":{"line":927,"column":1},"end":{"line":928,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":927,"column":1},"end":{"line":927,"column":1}},"children":[{"type":"strong","position":{"start":{"line":927,"column":1},"end":{"line":927,"column":1}},"children":[{"type":"text","value":"Gestion robuste du parsing","position":{"start":{"line":927,"column":1},"end":{"line":927,"column":1}},"key":"MWPy2BLv8Y"}],"key":"ORD0ehe9fl"},{"type":"text","value":" : Ajout d’une vérification du nombre de parties dans le nom de fichier.","position":{"start":{"line":927,"column":1},"end":{"line":927,"column":1}},"key":"ih3LF1hiCB"}],"key":"St2sfrGEIX"}],"key":"NVdHsxtj5e"},{"type":"listItem","spread":true,"position":{"start":{"line":929,"column":1},"end":{"line":929,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":929,"column":1},"end":{"line":929,"column":1}},"children":[{"type":"strong","position":{"start":{"line":929,"column":1},"end":{"line":929,"column":1}},"children":[{"type":"text","value":"Cas manquant identifié","position":{"start":{"line":929,"column":1},"end":{"line":929,"column":1}},"key":"HB9XLldQ9S"}],"key":"eMXsStxFaZ"},{"type":"text","value":" : Le cas où le cache est un sous-ensemble strict de la requête (cache inclus dans requête) est traité comme MISS pour éviter une logique complexe de double fetch.","position":{"start":{"line":929,"column":1},"end":{"line":929,"column":1}},"key":"AHM4eo6Va4"}],"key":"wc1kwyp4Gh"}],"key":"EfoL2EtF7L"}],"key":"T1GrIC5gPc"}],"key":"m0gStGvbHF"},{"type":"thematicBreak","position":{"start":{"line":931,"column":1},"end":{"line":931,"column":1}},"key":"sDSk9BwOhv"},{"type":"heading","depth":4,"position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"children":[{"type":"text","value":"Test du système de cache","position":{"start":{"line":933,"column":1},"end":{"line":933,"column":1}},"key":"WjdH5bNHVN"}],"identifier":"test-du-syst-me-de-cache","label":"Test du système de cache","html_id":"test-du-syst-me-de-cache","implicit":true,"key":"PsxZOPyGmH"},{"type":"code","lang":"python","value":"from pyvest.data.loader import DataLoader\nimport time\n\nloader = DataLoader(cache_dir=\".cache\")\n\n# Premier appel : fetch depuis l'API\nstart = time.perf_counter()\nts1 = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-06-01\"))\npremier_temps = time.perf_counter() - start\nprint(f\"Premier fetch: {premier_temps:.2f} secondes\")\n\n# Second appel : chargement depuis le cache\nstart = time.perf_counter()\nts2 = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-06-01\"))\nsecond_temps = time.perf_counter() - start\nprint(f\"Second fetch: {second_temps:.4f} secondes\")\n\nprint(f\"Accélération: {premier_temps/second_temps:.0f}x plus rapide avec le cache\")\n\n# Test d'extension du cache\nstart = time.perf_counter()\nts3 = loader.fetch_single_ticker(\"AAPL\", \"Close\", (\"2024-01-01\", \"2024-09-01\"))\nextension_temps = time.perf_counter() - start\nprint(f\"Extension du cache: {extension_temps:.2f} secondes\")","position":{"start":{"line":935,"column":1},"end":{"line":960,"column":1}},"key":"Yu8w0HH1yZ"},{"type":"thematicBreak","position":{"start":{"line":962,"column":1},"end":{"line":962,"column":1}},"key":"LWyWe3xVwv"},{"type":"heading","depth":3,"position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"children":[{"type":"text","value":"Étape 4 : Collections Python","position":{"start":{"line":964,"column":1},"end":{"line":964,"column":1}},"key":"gqUJkjuWsM"}],"identifier":"id-tape-4-collections-python","label":"Étape 4 : Collections Python","html_id":"id-tape-4-collections-python","implicit":true,"key":"O3zcNtrIx2"},{"type":"heading","depth":4,"position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"children":[{"type":"text","value":"Les listes : collections ordonnées","position":{"start":{"line":966,"column":1},"end":{"line":966,"column":1}},"key":"biT9ujMD1I"}],"identifier":"les-listes-collections-ordonn-es","label":"Les listes : collections ordonnées","html_id":"les-listes-collections-ordonn-es","implicit":true,"key":"xqFySB5mix"},{"type":"paragraph","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"children":[{"type":"text","value":"D’après ","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"key":"hunCeuRFaG"},{"type":"emphasis","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"children":[{"type":"text","value":"Fluent Python","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"key":"kHrJBQdXD9"}],"key":"Rooe1QAjBn"},{"type":"text","value":" (Ramalho) :","position":{"start":{"line":968,"column":1},"end":{"line":968,"column":1}},"key":"rQV8W0DO2o"}],"key":"SiLMg5PLu8"},{"type":"blockquote","position":{"start":{"line":970,"column":1},"end":{"line":970,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":970,"column":1},"end":{"line":970,"column":1}},"children":[{"type":"text","value":"“Une liste en Python est une séquence mutable d’objets arbitraires.”","position":{"start":{"line":970,"column":1},"end":{"line":970,"column":1}},"key":"vLypOXI3NR"}],"key":"y79U4PbnM6"}],"key":"suWBkCLhBf"},{"type":"paragraph","position":{"start":{"line":972,"column":1},"end":{"line":972,"column":1}},"children":[{"type":"text","value":"Les listes sont la collection de base en Python. Elles maintiennent l’ordre d’insertion, supportent l’indexation et le slicing, et peuvent contenir n’importe quel type d’objet.","position":{"start":{"line":972,"column":1},"end":{"line":972,"column":1}},"key":"W9bTxGsx1I"}],"key":"SvPTO7qWBe"},{"type":"paragraph","position":{"start":{"line":974,"column":1},"end":{"line":974,"column":1}},"children":[{"type":"strong","position":{"start":{"line":974,"column":1},"end":{"line":974,"column":1}},"children":[{"type":"text","value":"Caractéristiques principales :","position":{"start":{"line":974,"column":1},"end":{"line":974,"column":1}},"key":"xOS6fp57Y2"}],"key":"BrLKHtxQF4"}],"key":"J8uMQzEqHk"},{"type":"table","position":{"start":{"line":976,"column":1},"end":{"line":981,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"children":[{"type":"text","value":"Propriété","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"l0UCxQB0Bx"}],"key":"hqHhPrCUbQ"},{"type":"tableCell","header":true,"position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":976,"column":1},"end":{"line":976,"column":1}},"key":"FzuilXagQy"}],"key":"pq3qhTm8Hv"}],"key":"sL3d9Qnrwc"},{"type":"tableRow","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"children":[{"type":"strong","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"children":[{"type":"text","value":"Mutable","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"key":"JmW6NsQtie"}],"key":"Gt1OBF2CvO"}],"key":"bs53RsnbbP"},{"type":"tableCell","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"children":[{"type":"text","value":"On peut ajouter, supprimer ou modifier des éléments","position":{"start":{"line":978,"column":1},"end":{"line":978,"column":1}},"key":"sA3N8hrzpc"}],"key":"LRLrNsTOH5"}],"key":"w4c6F8NPc8"},{"type":"tableRow","position":{"start":{"line":979,"column":1},"end":{"line":979,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":979,"column":1},"end":{"line":979,"column":1}},"children":[{"type":"strong","position":{"start":{"line":979,"column":1},"end":{"line":979,"column":1}},"children":[{"type":"text","value":"Ordonnée","position":{"start":{"line":979,"column":1},"end":{"line":979,"column":1}},"key":"NBKjEovkKt"}],"key":"dc4lZpq2Vp"}],"key":"TXdjSpI5mo"},{"type":"tableCell","position":{"start":{"line":979,"column":1},"end":{"line":979,"column":1}},"children":[{"type":"text","value":"L’ordre d’insertion est préservé","position":{"start":{"line":979,"column":1},"end":{"line":979,"column":1}},"key":"CfTPQghDdB"}],"key":"khYxW7m9Lm"}],"key":"ApjtEw2O8z"},{"type":"tableRow","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"children":[{"type":"strong","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"children":[{"type":"text","value":"Indexable","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"key":"YL5MpkzFMR"}],"key":"SvCS8E253z"}],"key":"Q94oK2dglD"},{"type":"tableCell","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"children":[{"type":"text","value":"Accès par position ","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"key":"Ws55TtNH2h"},{"type":"inlineCode","value":"[i]","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"key":"NSK2Bqa62n"},{"type":"text","value":" et slicing ","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"key":"mMgkWOKijV"},{"type":"inlineCode","value":"[a:b]","position":{"start":{"line":980,"column":1},"end":{"line":980,"column":1}},"key":"G2Pk9pfCHl"}],"key":"ifOFnB3ZvW"}],"key":"QgLsrjN64A"},{"type":"tableRow","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"children":[{"type":"strong","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"children":[{"type":"text","value":"Hétérogène","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"key":"c7kkY2nWSf"}],"key":"dXPAxl5R9n"}],"key":"n2InxdwJVL"},{"type":"tableCell","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"children":[{"type":"text","value":"Peut contenir des types différents","position":{"start":{"line":981,"column":1},"end":{"line":981,"column":1}},"key":"N6h7RXPGKz"}],"key":"kixR3bSwEU"}],"key":"Q0aZeFw2kd"}],"key":"d0UbNlcUKl"},{"type":"code","lang":"python","value":"# Opérations courantes sur les listes\nassets = [apple, msft, google, amazon]\n\n# Accès par index\npremier = assets[0]           # Premier élément\ndernier = assets[-1]          # Dernier élément\nsous_liste = assets[1:3]      # Éléments aux indices 1 et 2\n\n# Modification\nassets.append(nvidia)         # Ajout en fin\nassets.insert(0, tesla)       # Insertion à une position\nassets.remove(msft)           # Suppression par valeur\nelement = assets.pop()        # Suppression et retour du dernier\n\n# Itération\nfor asset in assets:\n    print(f\"{asset.ticker}: {asset.volatility:.2%}\")\n\n# Recherche\nif apple in assets:\n    print(\"Apple est dans la liste\")","position":{"start":{"line":983,"column":1},"end":{"line":1005,"column":1}},"key":"eInIj2A5w6"},{"type":"thematicBreak","position":{"start":{"line":1007,"column":1},"end":{"line":1007,"column":1}},"key":"S1dZTaIugj"},{"type":"heading","depth":4,"position":{"start":{"line":1009,"column":1},"end":{"line":1009,"column":1}},"children":[{"type":"text","value":"Syntaxe des compréhensions","position":{"start":{"line":1009,"column":1},"end":{"line":1009,"column":1}},"key":"SCDmWgfu1M"}],"identifier":"syntaxe-des-compr-hensions","label":"Syntaxe des compréhensions","html_id":"syntaxe-des-compr-hensions","implicit":true,"key":"XrfBwZevni"},{"type":"paragraph","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"children":[{"type":"text","value":"D’après ","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"key":"A8CP57mYi7"},{"type":"emphasis","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"children":[{"type":"text","value":"Fluent Python","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"key":"VVY7Degl1E"}],"key":"nstb46kcEo"},{"type":"text","value":" :","position":{"start":{"line":1011,"column":1},"end":{"line":1011,"column":1}},"key":"B6aTQqyPaK"}],"key":"tCoRQjzqQ8"},{"type":"blockquote","position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"children":[{"type":"text","value":"“Une compréhension de liste est plus explicite. Son but est toujours de construire une nouvelle liste.”","position":{"start":{"line":1013,"column":1},"end":{"line":1013,"column":1}},"key":"aGVMTcUkWC"}],"key":"kqQnxFCTwi"}],"key":"FyybB7Jxpp"},{"type":"paragraph","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"children":[{"type":"text","value":"Les compréhensions offrent une syntaxe concise pour créer des collections à partir d’itérables existants.","position":{"start":{"line":1015,"column":1},"end":{"line":1015,"column":1}},"key":"N2j2qqhDTh"}],"key":"Ap0BQXlXgD"},{"type":"paragraph","position":{"start":{"line":1017,"column":1},"end":{"line":1017,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1017,"column":1},"end":{"line":1017,"column":1}},"children":[{"type":"text","value":"Anatomie d’une compréhension :","position":{"start":{"line":1017,"column":1},"end":{"line":1017,"column":1}},"key":"mjvgvaAPti"}],"key":"qzzDfvrMwf"}],"key":"sugEBdudf7"},{"type":"code","lang":"python","value":"[expression for element in iterable if condition]\n ↑           ↑                       ↑\n sortie      boucle                  filtre optionnel","position":{"start":{"line":1019,"column":1},"end":{"line":1023,"column":1}},"key":"nXhi4eNnEF"},{"type":"paragraph","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"children":[{"type":"text","value":"Exemples pratiques :","position":{"start":{"line":1025,"column":1},"end":{"line":1025,"column":1}},"key":"rRslQWAmWf"}],"key":"DW2WsaZ2BF"}],"key":"S1crmVkXNW"},{"type":"code","lang":"python","value":"# Extraction des tickers\ntickers = [asset.ticker for asset in assets]\n\n# Tuples (ticker, rendement)\nperformance = [(a.ticker, a.total_return) for a in assets]\n\n# Filtrage : actifs avec rendement positif\ngagnants = [a for a in assets if a.total_return > 0]\n\n# Filtrage : haute volatilité (> 25%)\nhaute_vol = [a.ticker for a in assets if a.volatility > 0.25]\n\n# Tri par rendement (décroissant)\ntries = sorted(assets, key=lambda a: a.total_return, reverse=True)","position":{"start":{"line":1027,"column":1},"end":{"line":1042,"column":1}},"key":"zUyRGdc7P4"},{"type":"paragraph","position":{"start":{"line":1044,"column":1},"end":{"line":1044,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1044,"column":1},"end":{"line":1044,"column":1}},"children":[{"type":"text","value":"Expressions génératrices","position":{"start":{"line":1044,"column":1},"end":{"line":1044,"column":1}},"key":"EtJLpfeQSU"}],"key":"ozw8Oe7N5k"},{"type":"text","value":" : Utilisent des parenthèses au lieu de crochets et produisent les éléments paresseusement (un à la fois), économisant la mémoire :","position":{"start":{"line":1044,"column":1},"end":{"line":1044,"column":1}},"key":"swBaTx6Akg"}],"key":"NDHqzjE08O"},{"type":"code","lang":"python","value":"# Générateur : ne crée pas de liste en mémoire\ntotal_vol = sum(a.volatility for a in assets)\n\n# Comparaison de l'utilisation mémoire :\nsum([a.volatility for a in assets])  # Crée une liste intermédiaire\nsum(a.volatility for a in assets)    # Pas de liste intermédiaire (lazy)","position":{"start":{"line":1046,"column":1},"end":{"line":1053,"column":1}},"key":"BzfMifayh9"},{"type":"thematicBreak","position":{"start":{"line":1055,"column":1},"end":{"line":1055,"column":1}},"key":"VKzJIk4YTb"},{"type":"heading","depth":4,"position":{"start":{"line":1057,"column":1},"end":{"line":1057,"column":1}},"children":[{"type":"text","value":"Les dictionnaires : mapping clé-valeur","position":{"start":{"line":1057,"column":1},"end":{"line":1057,"column":1}},"key":"vA4jfOvq51"}],"identifier":"les-dictionnaires-mapping-cl-valeur","label":"Les dictionnaires : mapping clé-valeur","html_id":"les-dictionnaires-mapping-cl-valeur","implicit":true,"key":"LkaxufPs4L"},{"type":"paragraph","position":{"start":{"line":1059,"column":1},"end":{"line":1059,"column":1}},"children":[{"type":"text","value":"D’après ","position":{"start":{"line":1059,"column":1},"end":{"line":1059,"column":1}},"key":"PInjiVF1M8"},{"type":"emphasis","position":{"start":{"line":1059,"column":1},"end":{"line":1059,"column":1}},"children":[{"type":"text","value":"Fluent Python","position":{"start":{"line":1059,"column":1},"end":{"line":1059,"column":1}},"key":"o2XssCE0lw"}],"key":"kRvoFw7JTb"},{"type":"text","value":" :","position":{"start":{"line":1059,"column":1},"end":{"line":1059,"column":1}},"key":"ghSFX0CCnP"}],"key":"HyvyHNqjUa"},{"type":"blockquote","position":{"start":{"line":1061,"column":1},"end":{"line":1061,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1061,"column":1},"end":{"line":1061,"column":1}},"children":[{"type":"text","value":"“Le type dict est une brique fondamentale de Python.”","position":{"start":{"line":1061,"column":1},"end":{"line":1061,"column":1}},"key":"wii1FwU8pZ"}],"key":"cNNCJZkFsC"}],"key":"ozM9E9yq0Q"},{"type":"paragraph","position":{"start":{"line":1063,"column":1},"end":{"line":1063,"column":1}},"children":[{"type":"text","value":"Les dictionnaires offrent une recherche en O(1) par clé, ce qui les rend essentiels pour un accès rapide aux données.","position":{"start":{"line":1063,"column":1},"end":{"line":1063,"column":1}},"key":"g52e9U52dA"}],"key":"fkAsXHbxRA"},{"type":"paragraph","position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"children":[{"type":"text","value":"Caractéristiques principales :","position":{"start":{"line":1065,"column":1},"end":{"line":1065,"column":1}},"key":"nUA4fkcxWI"}],"key":"ihP4KwuwKH"}],"key":"sypdUsThyg"},{"type":"table","position":{"start":{"line":1067,"column":1},"end":{"line":1072,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"children":[{"type":"text","value":"Propriété","position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"key":"AokxxtaWoB"}],"key":"TCMQXc612B"},{"type":"tableCell","header":true,"position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":1067,"column":1},"end":{"line":1067,"column":1}},"key":"j1SO6aNRYa"}],"key":"VtphCVe5K0"}],"key":"zPLRog0GnO"},{"type":"tableRow","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"children":[{"type":"text","value":"Clés uniques","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"key":"G3JIUQFuxB"}],"key":"eLqjODtLOF"}],"key":"n3f2wXYI8y"},{"type":"tableCell","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"children":[{"type":"text","value":"Chaque clé apparaît une seule fois","position":{"start":{"line":1069,"column":1},"end":{"line":1069,"column":1}},"key":"du0hXYSjVd"}],"key":"mdzoDfoi46"}],"key":"AammXunB5K"},{"type":"tableRow","position":{"start":{"line":1070,"column":1},"end":{"line":1070,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1070,"column":1},"end":{"line":1070,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1070,"column":1},"end":{"line":1070,"column":1}},"children":[{"type":"text","value":"Clés hashables","position":{"start":{"line":1070,"column":1},"end":{"line":1070,"column":1}},"key":"tROi9hBbU9"}],"key":"yAhYOkGlvu"}],"key":"PuoLFeIzoB"},{"type":"tableCell","position":{"start":{"line":1070,"column":1},"end":{"line":1070,"column":1}},"children":[{"type":"text","value":"Les clés doivent être immutables (str, int, tuple)","position":{"start":{"line":1070,"column":1},"end":{"line":1070,"column":1}},"key":"Wok8qLn1Hl"}],"key":"zIlOJcYVdm"}],"key":"Iloery5jnP"},{"type":"tableRow","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"children":[{"type":"text","value":"Recherche O(1)","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"key":"E0y2uHzFoN"}],"key":"eEPCGXN2uu"}],"key":"xd7UPbGVdm"},{"type":"tableCell","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"children":[{"type":"text","value":"Accès quasi-instantané par clé","position":{"start":{"line":1071,"column":1},"end":{"line":1071,"column":1}},"key":"iisGe8R7xz"}],"key":"ck1DVmM0S3"}],"key":"abMCPB7mRu"},{"type":"tableRow","position":{"start":{"line":1072,"column":1},"end":{"line":1072,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1072,"column":1},"end":{"line":1072,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1072,"column":1},"end":{"line":1072,"column":1}},"children":[{"type":"text","value":"Ordre préservé","position":{"start":{"line":1072,"column":1},"end":{"line":1072,"column":1}},"key":"m6yl1GuD9r"}],"key":"Xhb21XOHWK"}],"key":"ZkJO9eFTX6"},{"type":"tableCell","position":{"start":{"line":1072,"column":1},"end":{"line":1072,"column":1}},"children":[{"type":"text","value":"Depuis Python 3.7, l’ordre d’insertion est garanti","position":{"start":{"line":1072,"column":1},"end":{"line":1072,"column":1}},"key":"esP6VY4Arq"}],"key":"yxOCxnF9d9"}],"key":"xIbJxeKC9l"}],"key":"EfLznWpZ9V"},{"type":"code","lang":"python","value":"# Création par compréhension : table de correspondance ticker → asset\nassets_par_ticker = {asset.ticker: asset for asset in assets}\n\n# Recherche rapide O(1)\napple = assets_par_ticker[\"AAPL\"]\nnvidia = assets_par_ticker.get(\"NVDA\")  # Sûr : retourne None si absent\n\n# Vérification d'existence\nif \"TSLA\" in assets_par_ticker:\n    tesla = assets_par_ticker[\"TSLA\"]\n\n# Itération sur les paires clé-valeur\nfor ticker, asset in assets_par_ticker.items():\n    print(f\"{ticker}: ${asset.current_price:.2f}\")","position":{"start":{"line":1074,"column":1},"end":{"line":1089,"column":1}},"key":"D30zyN5AKO"},{"type":"thematicBreak","position":{"start":{"line":1091,"column":1},"end":{"line":1091,"column":1}},"key":"Hqq3sDo8md"},{"type":"heading","depth":4,"position":{"start":{"line":1093,"column":1},"end":{"line":1093,"column":1}},"children":[{"type":"text","value":"Les ensembles : collections uniques","position":{"start":{"line":1093,"column":1},"end":{"line":1093,"column":1}},"key":"Edcb8bazh0"}],"identifier":"les-ensembles-collections-uniques","label":"Les ensembles : collections uniques","html_id":"les-ensembles-collections-uniques","implicit":true,"key":"IqEqCDWtX7"},{"type":"paragraph","position":{"start":{"line":1095,"column":1},"end":{"line":1095,"column":1}},"children":[{"type":"text","value":"D’après ","position":{"start":{"line":1095,"column":1},"end":{"line":1095,"column":1}},"key":"QxAiC5s7YP"},{"type":"emphasis","position":{"start":{"line":1095,"column":1},"end":{"line":1095,"column":1}},"children":[{"type":"text","value":"Fluent Python","position":{"start":{"line":1095,"column":1},"end":{"line":1095,"column":1}},"key":"o4H71CkFwV"}],"key":"ECTsvxtJGZ"},{"type":"text","value":" :","position":{"start":{"line":1095,"column":1},"end":{"line":1095,"column":1}},"key":"cs8x3i2YxG"}],"key":"yJYO04AzUI"},{"type":"blockquote","position":{"start":{"line":1097,"column":1},"end":{"line":1097,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1097,"column":1},"end":{"line":1097,"column":1}},"children":[{"type":"text","value":"“Un ensemble est une collection d’objets uniques.”","position":{"start":{"line":1097,"column":1},"end":{"line":1097,"column":1}},"key":"ot3qFdUGgg"}],"key":"FrAVfzYCCV"}],"key":"umVwy1Mcve"},{"type":"paragraph","position":{"start":{"line":1099,"column":1},"end":{"line":1099,"column":1}},"children":[{"type":"text","value":"Les ensembles excellent pour le test d’appartenance (O(1) vs O(n) pour les listes) et les opérations ensemblistes.","position":{"start":{"line":1099,"column":1},"end":{"line":1099,"column":1}},"key":"puQJ1YYocB"}],"key":"dtWJUfjplN"},{"type":"code","lang":"python","value":"# Comparaison de portefeuilles avec opérations ensemblistes\nmon_portefeuille = {\"AAPL\", \"MSFT\", \"GOOGL\"}\nbenchmark = {\"AAPL\", \"MSFT\", \"AMZN\", \"NVDA\", \"META\"}\n\n# Intersection : présent dans les deux\ncommun = mon_portefeuille & benchmark  # {'AAPL', 'MSFT'}\n\n# Différence : dans le benchmark mais pas dans mon portefeuille\nmanquant = benchmark - mon_portefeuille  # {'AMZN', 'NVDA', 'META'}\n\n# Test d'appartenance rapide O(1)\n\"AAPL\" in mon_portefeuille  # True (instantané)","position":{"start":{"line":1101,"column":1},"end":{"line":1114,"column":1}},"key":"Y2odVC0l6V"},{"type":"thematicBreak","position":{"start":{"line":1116,"column":1},"end":{"line":1116,"column":1}},"key":"D0RZbJ1MMh"},{"type":"heading","depth":2,"position":{"start":{"line":1118,"column":1},"end":{"line":1118,"column":1}},"children":[{"type":"text","value":"Partie 2 : Exercices Pratiques","position":{"start":{"line":1118,"column":1},"end":{"line":1118,"column":1}},"key":"cyqnEo8qVQ"}],"identifier":"partie-2-exercices-pratiques","label":"Partie 2 : Exercices Pratiques","html_id":"partie-2-exercices-pratiques","implicit":true,"key":"VSAWc5P3dN"},{"type":"thematicBreak","position":{"start":{"line":1120,"column":1},"end":{"line":1120,"column":1}},"key":"FVFbzeumdz"},{"type":"heading","depth":3,"position":{"start":{"line":1122,"column":1},"end":{"line":1122,"column":1}},"children":[{"type":"text","value":"Exercice 1 : La classe Universe (25 min)","position":{"start":{"line":1122,"column":1},"end":{"line":1122,"column":1}},"key":"sN2lHoIShZ"}],"identifier":"exercice-1-la-classe-universe-25-min","label":"Exercice 1 : La classe Universe (25 min)","html_id":"exercice-1-la-classe-universe-25-min","implicit":true,"key":"MckBacRcdJ"},{"type":"paragraph","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"children":[{"type":"text","value":"Objectif :","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"ELWw2282T2"}],"key":"uwoJ2gEZ5d"},{"type":"text","value":" Créer une classe ","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"R7QFeGphLX"},{"type":"inlineCode","value":"Universe","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"n2jcbPhxUW"},{"type":"text","value":" pour gérer une collection d’actifs avec le pattern d’","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"O98zDga0QM"},{"type":"strong","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"children":[{"type":"text","value":"agrégation","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"KcN8KDMxiL"}],"key":"TPKxyje0CT"},{"type":"text","value":".","position":{"start":{"line":1124,"column":1},"end":{"line":1124,"column":1}},"key":"zCOlHWUw3I"}],"key":"hN8tZRYlNw"},{"type":"code","lang":"python","value":"# Fichier: pyvest/core/universe.py\n\nfrom pyvest.core.asset import Asset\nfrom typing import Iterator\n\n\nclass Universe:\n    \"\"\"\n    Collection d'actifs représentant un univers d'investissement.\n    \n    Pattern de conception : AGRÉGATION\n    ──────────────────────────────────\n    Universe CONTIENT des Asset, mais les Asset peuvent exister \n    indépendamment de l'Universe.\n    \n    La classe implémente le protocole d'itération (__iter__) et\n    de conteneur (__contains__, __len__) pour une utilisation\n    pythonique.\n    \"\"\"\n    \n    def __init__(self, assets: list[Asset] | None = None) -> None:\n        self._assets: dict[str, Asset] = {}\n        if assets:\n            for asset in assets:\n                self.add(asset)\n    \n    def add(self, asset: Asset) -> None:\n        \"\"\"Ajoute un actif à l'univers.\"\"\"\n        # Votre code ici\n        pass\n    \n    def get(self, ticker: str) -> Asset | None:\n        \"\"\"Récupère un actif par son ticker.\"\"\"\n        # Votre code ici\n        pass\n    \n    def remove(self, ticker: str) -> Asset | None:\n        \"\"\"Retire un actif de l'univers.\"\"\"\n        # Votre code ici\n        pass\n    \n    def __len__(self) -> int:\n        # Votre code ici\n        pass\n    \n    def __iter__(self) -> Iterator[Asset]:\n        # Votre code ici\n        pass\n    \n    def __contains__(self, ticker: str) -> bool:\n        # Votre code ici\n        pass\n    \n    @property\n    def tickers(self) -> list[str]:\n        # Votre code ici\n        pass\n    \n    def filter_by_sector(self, sector: str) -> list[Asset]:\n        \"\"\"Filtre les actifs par secteur. Utilisez une compréhension !\"\"\"\n        # Votre code ici\n        pass","position":{"start":{"line":1126,"column":1},"end":{"line":1189,"column":1}},"key":"kZ10Dzo6K5"},{"type":"thematicBreak","position":{"start":{"line":1191,"column":1},"end":{"line":1191,"column":1}},"key":"o5UxiZlFfa"},{"type":"heading","depth":3,"position":{"start":{"line":1193,"column":1},"end":{"line":1193,"column":1}},"children":[{"type":"text","value":"Exercice 2 : Top K Corrélations (30 min)","position":{"start":{"line":1193,"column":1},"end":{"line":1193,"column":1}},"key":"selxHnBl7q"}],"identifier":"exercice-2-top-k-corr-lations-30-min","label":"Exercice 2 : Top K Corrélations (30 min)","html_id":"exercice-2-top-k-corr-lations-30-min","implicit":true,"key":"h2LL6lN7w4"},{"type":"paragraph","position":{"start":{"line":1195,"column":1},"end":{"line":1195,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1195,"column":1},"end":{"line":1195,"column":1}},"children":[{"type":"text","value":"Objectif :","position":{"start":{"line":1195,"column":1},"end":{"line":1195,"column":1}},"key":"LkNin1JH2D"}],"key":"mwXwQU5aK4"},{"type":"text","value":" Implémenter une fonction qui extrait les K paires d’actifs les plus corrélées d’un univers.","position":{"start":{"line":1195,"column":1},"end":{"line":1195,"column":1}},"key":"djQtyRAzco"}],"key":"tujCIU0x15"},{"type":"heading","depth":4,"position":{"start":{"line":1197,"column":1},"end":{"line":1197,"column":1}},"children":[{"type":"text","value":"Contexte en finance quantitative","position":{"start":{"line":1197,"column":1},"end":{"line":1197,"column":1}},"key":"xvn19JLxuO"}],"identifier":"contexte-en-finance-quantitative","label":"Contexte en finance quantitative","html_id":"contexte-en-finance-quantitative-1","implicit":true,"key":"F4qbNwGI47"},{"type":"paragraph","position":{"start":{"line":1199,"column":1},"end":{"line":1199,"column":1}},"children":[{"type":"text","value":"L’extraction des paires les plus corrélées est une analyse fondamentale en finance quantitative. D’après ","position":{"start":{"line":1199,"column":1},"end":{"line":1199,"column":1}},"key":"tTAtEN4Zls"},{"type":"emphasis","position":{"start":{"line":1199,"column":1},"end":{"line":1199,"column":1}},"children":[{"type":"text","value":"Portfolio Optimization","position":{"start":{"line":1199,"column":1},"end":{"line":1199,"column":1}},"key":"b4gRX9J5f6"}],"key":"KfZqcW7QEG"},{"type":"text","value":" (Palomar, 2025) :","position":{"start":{"line":1199,"column":1},"end":{"line":1199,"column":1}},"key":"k4QCjUFXgX"}],"key":"rUenir2l2z"},{"type":"blockquote","position":{"start":{"line":1201,"column":1},"end":{"line":1201,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1201,"column":1},"end":{"line":1201,"column":1}},"children":[{"type":"text","value":"“La diversification d’un investissement en allouant du capital à plusieurs actifs peut ne pas aider à réduire le risque si ces actifs sont fortement corrélés.”","position":{"start":{"line":1201,"column":1},"end":{"line":1201,"column":1}},"key":"HRVFtZ36en"}],"key":"Us4jymyWdj"}],"key":"FuoMjkIqUq"},{"type":"paragraph","position":{"start":{"line":1203,"column":1},"end":{"line":1203,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1203,"column":1},"end":{"line":1203,"column":1}},"children":[{"type":"text","value":"Applications pratiques de l’analyse des top-K corrélations :","position":{"start":{"line":1203,"column":1},"end":{"line":1203,"column":1}},"key":"O4pLXkwY3K"}],"key":"QjoN6M2Oig"}],"key":"ijypTSzp69"},{"type":"table","position":{"start":{"line":1205,"column":1},"end":{"line":1211,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1205,"column":1},"end":{"line":1205,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1205,"column":1},"end":{"line":1205,"column":1}},"children":[{"type":"text","value":"Application","position":{"start":{"line":1205,"column":1},"end":{"line":1205,"column":1}},"key":"nZRKiuFQwQ"}],"key":"EyGEE7PWKP"},{"type":"tableCell","header":true,"position":{"start":{"line":1205,"column":1},"end":{"line":1205,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":1205,"column":1},"end":{"line":1205,"column":1}},"key":"jikB8jU0xQ"}],"key":"B4aGsyIHFo"}],"key":"FykVj6c1iX"},{"type":"tableRow","position":{"start":{"line":1207,"column":1},"end":{"line":1207,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1207,"column":1},"end":{"line":1207,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1207,"column":1},"end":{"line":1207,"column":1}},"children":[{"type":"text","value":"Détection de risque de concentration","position":{"start":{"line":1207,"column":1},"end":{"line":1207,"column":1}},"key":"i5FBgJk1l5"}],"key":"ejSSZTVIM3"}],"key":"UdEp25teYv"},{"type":"tableCell","position":{"start":{"line":1207,"column":1},"end":{"line":1207,"column":1}},"children":[{"type":"text","value":"Identifier les paires très corrélées qui augmentent le risque systémique","position":{"start":{"line":1207,"column":1},"end":{"line":1207,"column":1}},"key":"TSpkphndFK"}],"key":"HMvpU9MeAP"}],"key":"D9GowVdu5v"},{"type":"tableRow","position":{"start":{"line":1208,"column":1},"end":{"line":1208,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1208,"column":1},"end":{"line":1208,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1208,"column":1},"end":{"line":1208,"column":1}},"children":[{"type":"text","value":"Pairs trading","position":{"start":{"line":1208,"column":1},"end":{"line":1208,"column":1}},"key":"Vk2coKmG7f"}],"key":"Ep32Nz2XHX"}],"key":"vz3X9Z7kXE"},{"type":"tableCell","position":{"start":{"line":1208,"column":1},"end":{"line":1208,"column":1}},"children":[{"type":"text","value":"Trouver des paires d’actifs co-intégrés pour des stratégies de mean-reversion","position":{"start":{"line":1208,"column":1},"end":{"line":1208,"column":1}},"key":"ZOAOvEimvS"}],"key":"YUUnoHVCt8"}],"key":"S7nV6Pc7TD"},{"type":"tableRow","position":{"start":{"line":1209,"column":1},"end":{"line":1209,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1209,"column":1},"end":{"line":1209,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1209,"column":1},"end":{"line":1209,"column":1}},"children":[{"type":"text","value":"Construction de portefeuille","position":{"start":{"line":1209,"column":1},"end":{"line":1209,"column":1}},"key":"hBfQBAKkH3"}],"key":"i8EmCMm2RO"}],"key":"HxmSvaCRuv"},{"type":"tableCell","position":{"start":{"line":1209,"column":1},"end":{"line":1209,"column":1}},"children":[{"type":"text","value":"Éviter la sur-représentation de facteurs cachés","position":{"start":{"line":1209,"column":1},"end":{"line":1209,"column":1}},"key":"gmF3JFw28v"}],"key":"s7s66WyBo9"}],"key":"mF1Xi0cp5T"},{"type":"tableRow","position":{"start":{"line":1210,"column":1},"end":{"line":1210,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1210,"column":1},"end":{"line":1210,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1210,"column":1},"end":{"line":1210,"column":1}},"children":[{"type":"text","value":"Monitoring de régime","position":{"start":{"line":1210,"column":1},"end":{"line":1210,"column":1}},"key":"gb4UNwczVP"}],"key":"seyOtBvg7p"}],"key":"OIeIuCRMr4"},{"type":"tableCell","position":{"start":{"line":1210,"column":1},"end":{"line":1210,"column":1}},"children":[{"type":"text","value":"Suivre l’évolution des corrélations dans le temps","position":{"start":{"line":1210,"column":1},"end":{"line":1210,"column":1}},"key":"Wx1YVGf7Zn"}],"key":"lKNtVrZyB5"}],"key":"JrsEy2AXRW"},{"type":"tableRow","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"children":[{"type":"text","value":"Stress testing","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"key":"serwsrydDl"}],"key":"sDXewm8J8i"}],"key":"Agt64a6eVx"},{"type":"tableCell","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"children":[{"type":"text","value":"Identifier les liens qui pourraient amplifier les pertes en période de crise","position":{"start":{"line":1211,"column":1},"end":{"line":1211,"column":1}},"key":"I71L7wx6Jn"}],"key":"xfFdNyvcCA"}],"key":"Y5hMbCOLyn"}],"key":"Zpuqp8Mltn"},{"type":"blockquote","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"children":[{"type":"text","value":"Note pédagogique","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"key":"Qogdn47YxE"}],"key":"HP5BMsHpqL"},{"type":"text","value":" : Cette fonction sera remplacée par une version vectorisée plus performante dans la Session 3 (","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"key":"oUdy8Bpg4k"},{"type":"inlineCode","value":"Universe.top_correlations()","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"key":"Rv5xU6hR3u"},{"type":"text","value":"), mais l’implémentation avec boucles permet de bien comprendre l’algorithme sous-jacent.","position":{"start":{"line":1213,"column":1},"end":{"line":1213,"column":1}},"key":"Xr2RxpEQRK"}],"key":"TMOMPOsXIM"}],"key":"qdrNLTmLIZ"},{"type":"paragraph","position":{"start":{"line":1215,"column":1},"end":{"line":1215,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1215,"column":1},"end":{"line":1215,"column":1}},"children":[{"type":"text","value":"Référence méthodologique :","position":{"start":{"line":1215,"column":1},"end":{"line":1215,"column":1}},"key":"lnBq2ZCyBX"}],"key":"tSZjdKh1b5"},{"type":"text","value":" Cette analyse est inspirée du projet “Global Multi-Asset Correlation Lab” qui utilise une approche similaire pour analyser les corrélations entre actifs de différentes classes.","position":{"start":{"line":1215,"column":1},"end":{"line":1215,"column":1}},"key":"BPHPWz8Cbv"}],"key":"VTLCFI9qDp"},{"type":"code","lang":"python","value":"from itertools import combinations\n\n\ndef top_k_correlations(\n    assets: list[Asset],\n    k: int = 20,\n    use_absolute: bool = False\n) -> list[tuple[str, str, float]]:\n    \"\"\"\n    Extrait les K paires les plus corrélées d'une liste d'actifs.\n    \n    Cette fonction calcule la corrélation de Pearson entre toutes les\n    paires possibles d'actifs et retourne les K paires avec les plus\n    fortes corrélations.\n    \n    Args:\n        assets: Liste d'objets Asset\n        k: Nombre de paires à retourner (défaut: 20)\n        use_absolute: Si True, trie par |corrélation| pour capturer\n                      aussi les fortes corrélations négatives\n    \n    Returns:\n        Liste de tuples (ticker_1, ticker_2, corrélation) triée\n        par corrélation décroissante\n    \n    Complexity:\n        O(n²) où n = nombre d'actifs (toutes les paires sont calculées)\n    \n    Example:\n        >>> pairs = top_k_correlations(assets, k=5)\n        >>> pairs[0]\n        ('AAPL', 'MSFT', 0.85)\n    \n    Note:\n        Cette implémentation sera optimisée en Session 3 avec\n        des opérations matricielles vectorisées.\n    \"\"\"\n    correlations = []\n    \n    # itertools.combinations génère toutes les paires uniques\n    # évitant les doublons (A,B) et (B,A) et les auto-corrélations (A,A)\n    for asset_1, asset_2 in combinations(assets, 2):\n        # Calculer la corrélation\n        # Votre code ici...\n        pass\n    \n    # Trier par corrélation (ou valeur absolue) et retourner les k premières\n    # Votre code ici...\n    pass","position":{"start":{"line":1217,"column":1},"end":{"line":1267,"column":1}},"key":"jlN51HaXJy"},{"type":"thematicBreak","position":{"start":{"line":1269,"column":1},"end":{"line":1269,"column":1}},"key":"yLppkw3KkU"},{"type":"heading","depth":3,"position":{"start":{"line":1271,"column":1},"end":{"line":1271,"column":1}},"children":[{"type":"text","value":"Exercice 3 : Construction d’une matrice de corrélation (30 min)","position":{"start":{"line":1271,"column":1},"end":{"line":1271,"column":1}},"key":"qU985LWW0W"}],"identifier":"exercice-3-construction-dune-matrice-de-corr-lation-30-min","label":"Exercice 3 : Construction d’une matrice de corrélation (30 min)","html_id":"exercice-3-construction-dune-matrice-de-corr-lation-30-min","implicit":true,"key":"Hc0JIUs5sZ"},{"type":"paragraph","position":{"start":{"line":1273,"column":1},"end":{"line":1273,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1273,"column":1},"end":{"line":1273,"column":1}},"children":[{"type":"text","value":"Objectif :","position":{"start":{"line":1273,"column":1},"end":{"line":1273,"column":1}},"key":"gI1SXXQxZH"}],"key":"dKva3xIg2e"},{"type":"text","value":" Créer une fonction qui construit une matrice de corrélation complète.","position":{"start":{"line":1273,"column":1},"end":{"line":1273,"column":1}},"key":"dVv0TUETsx"}],"key":"zZLtqCtg40"},{"type":"heading","depth":4,"position":{"start":{"line":1275,"column":1},"end":{"line":1275,"column":1}},"children":[{"type":"text","value":"Contexte théorique","position":{"start":{"line":1275,"column":1},"end":{"line":1275,"column":1}},"key":"sZqmkh2SsH"}],"identifier":"contexte-th-orique","label":"Contexte théorique","html_id":"contexte-th-orique","implicit":true,"key":"XwM673cLej"},{"type":"paragraph","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"children":[{"type":"text","value":"La ","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"key":"mzmvNVm3ft"},{"type":"strong","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"children":[{"type":"text","value":"matrice de corrélation","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"key":"yBIQU2XEKs"}],"key":"ttQDL7MNCv"},{"type":"text","value":" est une composante essentielle de l’analyse de portefeuille. D’après ","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"key":"ZvtgWROFGg"},{"type":"emphasis","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"children":[{"type":"text","value":"The Elements of Quantitative Investing","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"key":"dloc1oYXh7"}],"key":"scK7OcXaYl"},{"type":"text","value":" (Paleologo) :","position":{"start":{"line":1277,"column":1},"end":{"line":1277,"column":1}},"key":"ulG24rfiHT"}],"key":"RdlSB5Ed06"},{"type":"blockquote","position":{"start":{"line":1279,"column":1},"end":{"line":1279,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1279,"column":1},"end":{"line":1279,"column":1}},"children":[{"type":"text","value":"“La variance du portefeuille (risque) dépend à la fois des volatilités individuelles ET des corrélations. La matrice de covariance capture la façon dont les actifs évoluent ensemble.”","position":{"start":{"line":1279,"column":1},"end":{"line":1279,"column":1}},"key":"CBKkDNZAYX"}],"key":"bje71iq9Zs"}],"key":"bMfLLvKIPo"},{"type":"paragraph","position":{"start":{"line":1281,"column":1},"end":{"line":1281,"column":1}},"children":[{"type":"text","value":"Et d’après ","position":{"start":{"line":1281,"column":1},"end":{"line":1281,"column":1}},"key":"pQOHtBTkFS"},{"type":"emphasis","position":{"start":{"line":1281,"column":1},"end":{"line":1281,"column":1}},"children":[{"type":"text","value":"Portfolio Optimization","position":{"start":{"line":1281,"column":1},"end":{"line":1281,"column":1}},"key":"OOLVHO1ozo"}],"key":"QIG5Gj4ErA"},{"type":"text","value":" (Palomar, 2025) :","position":{"start":{"line":1281,"column":1},"end":{"line":1281,"column":1}},"key":"O0reuKIstg"}],"key":"XVkuj1F4MS"},{"type":"blockquote","position":{"start":{"line":1283,"column":1},"end":{"line":1283,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1283,"column":1},"end":{"line":1283,"column":1}},"children":[{"type":"text","value":"“Les deux composantes principales de la conception de portefeuille sont la modélisation des données et l’optimisation du portefeuille. [...] Le but principal du bloc de modélisation est de caractériser la distribution statistique des rendements futurs, principalement en termes de moments de premier et second ordre (μ et Σ).”","position":{"start":{"line":1283,"column":1},"end":{"line":1283,"column":1}},"key":"H5fq1z1CgP"}],"key":"vEIXIKHD19"}],"key":"O7ZbkdI4AV"},{"type":"paragraph","position":{"start":{"line":1285,"column":1},"end":{"line":1285,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1285,"column":1},"end":{"line":1285,"column":1}},"children":[{"type":"text","value":"Propriétés de la matrice de corrélation :","position":{"start":{"line":1285,"column":1},"end":{"line":1285,"column":1}},"key":"jVdrU1OpDC"}],"key":"OSYczhobOJ"}],"key":"AIW6520tqV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1286,"column":1},"end":{"line":1290,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1286,"column":1},"end":{"line":1286,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1286,"column":1},"end":{"line":1286,"column":1}},"children":[{"type":"text","value":"Symétrique","position":{"start":{"line":1286,"column":1},"end":{"line":1286,"column":1}},"key":"F0C074p8MN"}],"key":"Y3CdIyRBl6"},{"type":"text","value":" : corr(A,B) = corr(B,A)","position":{"start":{"line":1286,"column":1},"end":{"line":1286,"column":1}},"key":"ZxRAOiWb5T"}],"key":"ulm96uVbc4"}],"key":"yyGFNM9myx"},{"type":"listItem","spread":true,"position":{"start":{"line":1287,"column":1},"end":{"line":1287,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1287,"column":1},"end":{"line":1287,"column":1}},"children":[{"type":"text","value":"Diagonale = 1","position":{"start":{"line":1287,"column":1},"end":{"line":1287,"column":1}},"key":"X1ufCASb8G"}],"key":"mxRcX7OCnM"},{"type":"text","value":" : corr(A,A) = 1 pour tout actif A","position":{"start":{"line":1287,"column":1},"end":{"line":1287,"column":1}},"key":"uQgGumGeJe"}],"key":"v1cxZ18Vgl"}],"key":"k2KH8fzEnC"},{"type":"listItem","spread":true,"position":{"start":{"line":1288,"column":1},"end":{"line":1288,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1288,"column":1},"end":{"line":1288,"column":1}},"children":[{"type":"text","value":"Valeurs dans [-1, 1]","position":{"start":{"line":1288,"column":1},"end":{"line":1288,"column":1}},"key":"Thb3PC93YI"}],"key":"bdB0Mf6xnF"},{"type":"text","value":" : par définition de la corrélation de Pearson","position":{"start":{"line":1288,"column":1},"end":{"line":1288,"column":1}},"key":"XqzAqMCbU9"}],"key":"dVy4Sh03On"}],"key":"d1efXIJau9"},{"type":"listItem","spread":true,"position":{"start":{"line":1289,"column":1},"end":{"line":1290,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1289,"column":1},"end":{"line":1289,"column":1}},"children":[{"type":"text","value":"Semi-définie positive","position":{"start":{"line":1289,"column":1},"end":{"line":1289,"column":1}},"key":"JEMDUNj0eJ"}],"key":"pPyrDIpQ9A"},{"type":"text","value":" : toute combinaison linéaire a une variance ≥ 0","position":{"start":{"line":1289,"column":1},"end":{"line":1289,"column":1}},"key":"BExdvNKwsO"}],"key":"pS7WbJ1xcY"}],"key":"MBNdZFwK0S"}],"key":"w0VpeZQNyi"},{"type":"code","lang":"python","value":"import pandas as pd\nimport numpy as np\nfrom itertools import combinations\n\n\ndef build_correlation_matrix(assets: list[Asset]) -> pd.DataFrame:\n    \"\"\"\n    Construit une matrice de corrélation pour tous les actifs.\n    \n    La matrice est symétrique : corr(A,B) = corr(B,A)\n    La diagonale vaut 1 : corr(A,A) = 1\n    \n    Args:\n        assets: Liste d'objets Asset\n    \n    Returns:\n        DataFrame symétrique avec tickers en index et colonnes\n    \n    Example:\n        >>> matrix = build_correlation_matrix([apple, msft, google])\n        >>> matrix.loc['AAPL', 'MSFT']\n        0.85\n    \"\"\"\n    tickers = [a.ticker for a in assets]\n    n = len(tickers)\n    \n    # Initialiser la matrice avec NaN\n    matrix = np.full((n, n), np.nan)\n    \n    # Remplir la diagonale avec 1.0 (auto-corrélation)\n    np.fill_diagonal(matrix, 1.0)\n    \n    # Créer un mapping ticker -> index pour un accès rapide O(1)\n    ticker_to_idx = {t: i for i, t in enumerate(tickers)}\n    \n    # Remplir le triangle supérieur et inférieur (symétrie)\n    # Votre code ici...\n    \n    return pd.DataFrame(matrix, index=tickers, columns=tickers)\n\n\ndef extract_upper_triangle(corr_matrix: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"\n    Extrait les paires uniques du triangle supérieur de la matrice.\n    \n    Utile pour éviter les doublons (AAPL-MSFT et MSFT-AAPL) et\n    exclure la diagonale (auto-corrélations).\n    \n    Cette méthode est similaire à celle utilisée dans le projet\n    \"Global Multi-Asset Correlation Lab\".\n    \n    Args:\n        corr_matrix: Matrice de corrélation (DataFrame carré)\n    \n    Returns:\n        DataFrame avec colonnes ['asset_1', 'asset_2', 'correlation']\n        trié par corrélation décroissante\n    \"\"\"\n    # Créer un masque pour le triangle supérieur (excluant la diagonale k=1)\n    mask = np.triu(np.ones(corr_matrix.shape, dtype=bool), k=1)\n    \n    # Votre code ici...\n    pass","position":{"start":{"line":1291,"column":1},"end":{"line":1355,"column":1}},"key":"HggSGItWQc"},{"type":"thematicBreak","position":{"start":{"line":1357,"column":1},"end":{"line":1357,"column":1}},"key":"NtTVTtNSGS"},{"type":"heading","depth":3,"position":{"start":{"line":1359,"column":1},"end":{"line":1359,"column":1}},"children":[{"type":"text","value":"Exercice 4 : Statistiques de l’univers (25 min)","position":{"start":{"line":1359,"column":1},"end":{"line":1359,"column":1}},"key":"gHvJeZ8I7s"}],"identifier":"exercice-4-statistiques-de-lunivers-25-min","label":"Exercice 4 : Statistiques de l’univers (25 min)","html_id":"exercice-4-statistiques-de-lunivers-25-min","implicit":true,"key":"eYAzBEAG9T"},{"type":"paragraph","position":{"start":{"line":1361,"column":1},"end":{"line":1361,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1361,"column":1},"end":{"line":1361,"column":1}},"children":[{"type":"text","value":"Objectif :","position":{"start":{"line":1361,"column":1},"end":{"line":1361,"column":1}},"key":"ZYYBm5ieQU"}],"key":"CrLonhSRpn"},{"type":"text","value":" Ajouter une méthode ","position":{"start":{"line":1361,"column":1},"end":{"line":1361,"column":1}},"key":"xUffltiJh9"},{"type":"inlineCode","value":"summary()","position":{"start":{"line":1361,"column":1},"end":{"line":1361,"column":1}},"key":"B0O4zuOPbz"},{"type":"text","value":" à la classe Universe.","position":{"start":{"line":1361,"column":1},"end":{"line":1361,"column":1}},"key":"WMm3S0qp4o"}],"key":"WVObvOQ19W"},{"type":"code","lang":"python","value":"def summary(self) -> pd.DataFrame:\n    \"\"\"\n    Génère un résumé statistique de tous les actifs de l'univers.\n    \n    Returns:\n        DataFrame avec une ligne par actif et les colonnes:\n        - ticker\n        - sector\n        - current_price\n        - total_return\n        - volatility\n        - sharpe_ratio\n        - max_drawdown\n    \"\"\"\n    # Votre code ici...\n    pass","position":{"start":{"line":1363,"column":1},"end":{"line":1380,"column":1}},"key":"OReqY7Jrf9"},{"type":"thematicBreak","position":{"start":{"line":1382,"column":1},"end":{"line":1382,"column":1}},"key":"JEfb7pr7tS"},{"type":"heading","depth":2,"position":{"start":{"line":1384,"column":1},"end":{"line":1384,"column":1}},"children":[{"type":"text","value":"Solutions","position":{"start":{"line":1384,"column":1},"end":{"line":1384,"column":1}},"key":"fa6VG1Mapr"}],"identifier":"solutions","label":"Solutions","html_id":"solutions","implicit":true,"key":"Z1tHyTXPRh"},{"type":"heading","depth":3,"position":{"start":{"line":1386,"column":1},"end":{"line":1386,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 1","position":{"start":{"line":1386,"column":1},"end":{"line":1386,"column":1}},"key":"nEw0PGYKIS"}],"identifier":"solution-exercice-1","label":"Solution - Exercice 1","html_id":"solution-exercice-1","implicit":true,"key":"ij9XO1xIlG"},{"type":"code","lang":"python","value":"class Universe:\n    def __init__(self, assets: list[Asset] | None = None) -> None:\n        self._assets: dict[str, Asset] = {}\n        if assets:\n            for asset in assets:\n                self.add(asset)\n    \n    def add(self, asset: Asset) -> None:\n        self._assets[asset.ticker] = asset\n    \n    def get(self, ticker: str) -> Asset | None:\n        return self._assets.get(ticker)\n    \n    def remove(self, ticker: str) -> Asset | None:\n        return self._assets.pop(ticker, None)\n    \n    def __len__(self) -> int:\n        return len(self._assets)\n    \n    def __iter__(self) -> Iterator[Asset]:\n        return iter(self._assets.values())\n    \n    def __contains__(self, ticker: str) -> bool:\n        return ticker in self._assets\n    \n    def __repr__(self) -> str:\n        return f\"Universe({len(self)} assets: {self.tickers})\"\n    \n    @property\n    def tickers(self) -> list[str]:\n        return list(self._assets.keys())\n    \n    def filter_by_sector(self, sector: str) -> list[Asset]:\n        return [a for a in self._assets.values() if a.sector == sector]","position":{"start":{"line":1388,"column":1},"end":{"line":1423,"column":1}},"key":"xmJvlTWDAa"},{"type":"thematicBreak","position":{"start":{"line":1425,"column":1},"end":{"line":1425,"column":1}},"key":"ChkhGK8ev0"},{"type":"heading","depth":3,"position":{"start":{"line":1427,"column":1},"end":{"line":1427,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 2","position":{"start":{"line":1427,"column":1},"end":{"line":1427,"column":1}},"key":"RTM5zWzcQp"}],"identifier":"solution-exercice-2","label":"Solution - Exercice 2","html_id":"solution-exercice-2","implicit":true,"key":"KCc6Dahk2F"},{"type":"code","lang":"python","value":"from itertools import combinations\n\ndef top_k_correlations(\n    assets: list[Asset],\n    k: int = 20,\n    use_absolute: bool = False\n) -> list[tuple[str, str, float]]:\n    \"\"\"\n    Extrait les K paires les plus corrélées.\n    \n    Algorithme similaire au projet \"Global Multi-Asset Correlation Lab\"\n    mais adapté pour travailler avec des objets Asset plutôt qu'un DataFrame.\n    \"\"\"\n    correlations = []\n    \n    # Générer toutes les paires uniques avec combinations\n    for asset_1, asset_2 in combinations(assets, 2):\n        try:\n            corr = asset_1.correlation_with(asset_2)\n            correlations.append((asset_1.ticker, asset_2.ticker, corr))\n        except ValueError:\n            # Ignorer les paires avec données insuffisantes\n            continue\n    \n    # Fonction de tri : valeur absolue ou valeur brute\n    if use_absolute:\n        key_func = lambda x: abs(x[2])\n    else:\n        key_func = lambda x: x[2]\n    \n    # Trier par corrélation décroissante et retourner les k premières\n    return sorted(correlations, key=key_func, reverse=True)[:k]","position":{"start":{"line":1429,"column":1},"end":{"line":1462,"column":1}},"key":"hd6Gsrde52"},{"type":"blockquote","position":{"start":{"line":1464,"column":1},"end":{"line":1479,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1464,"column":1},"end":{"line":1464,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1464,"column":1},"end":{"line":1464,"column":1}},"children":[{"type":"text","value":"Comparaison avec le Global Multi-Asset Correlation Lab :","position":{"start":{"line":1464,"column":1},"end":{"line":1464,"column":1}},"key":"mxoBuYQY95"}],"key":"PqKPGHNROK"}],"key":"jtNBPJ9zDw"},{"type":"paragraph","position":{"start":{"line":1466,"column":1},"end":{"line":1466,"column":1}},"children":[{"type":"text","value":"Le projet de référence utilise une approche matricielle :","position":{"start":{"line":1466,"column":1},"end":{"line":1466,"column":1}},"key":"zINsVk6Qw2"}],"key":"rZY9A5CDag"},{"type":"code","lang":"python","value":"# Version matricielle (Correlation Lab)\ndef top_k_correlations(corr: pd.DataFrame, k: int=20, use_abs: bool=False):\n    m = corr.copy()\n    np.fill_diagonal(m.values, np.nan)\n    upper = m.where(np.triu(np.ones(m.shape), 1).astype(bool))\n    df = upper.stack().reset_index()\n    df.columns = [\"col_1\", \"col_2\", \"correlation\"]\n    key = df[\"correlation\"].abs() if use_abs else df[\"correlation\"]\n    return df.assign(_rk=key).sort_values(\"_rk\", ascending=False).head(k)","position":{"start":{"line":1467,"column":1},"end":{"line":1477,"column":1}},"key":"QtzAHkmLvU"},{"type":"paragraph","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"children":[{"type":"text","value":"Notre version avec boucles est pédagogiquement plus claire, mais sera optimisée en Session 3 avec une approche similaire à la version matricielle.","position":{"start":{"line":1479,"column":1},"end":{"line":1479,"column":1}},"key":"I2hJPeBLkc"}],"key":"ue3geDAPBt"}],"key":"FlwfM24uie"},{"type":"thematicBreak","position":{"start":{"line":1481,"column":1},"end":{"line":1481,"column":1}},"key":"Paajp91SWp"},{"type":"heading","depth":3,"position":{"start":{"line":1483,"column":1},"end":{"line":1483,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 3","position":{"start":{"line":1483,"column":1},"end":{"line":1483,"column":1}},"key":"n4EEhbW7aZ"}],"identifier":"solution-exercice-3","label":"Solution - Exercice 3","html_id":"solution-exercice-3","implicit":true,"key":"MqItzL1etP"},{"type":"code","lang":"python","value":"def build_correlation_matrix(assets: list[Asset]) -> pd.DataFrame:\n    \"\"\"Construit une matrice de corrélation pour tous les actifs.\"\"\"\n    tickers = [a.ticker for a in assets]\n    n = len(tickers)\n    \n    matrix = np.full((n, n), np.nan)\n    np.fill_diagonal(matrix, 1.0)\n    \n    ticker_to_idx = {t: i for i, t in enumerate(tickers)}\n    \n    for a1, a2 in combinations(assets, 2):\n        try:\n            corr = a1.correlation_with(a2)\n            i, j = ticker_to_idx[a1.ticker], ticker_to_idx[a2.ticker]\n            matrix[i, j] = corr\n            matrix[j, i] = corr  # Symétrie\n        except ValueError:\n            continue\n    \n    return pd.DataFrame(matrix, index=tickers, columns=tickers)\n\n\ndef extract_upper_triangle(corr_matrix: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"\n    Extrait les paires uniques du triangle supérieur.\n    \n    Méthode identique à celle du Global Multi-Asset Correlation Lab.\n    \"\"\"\n    # Masque pour le triangle supérieur (k=1 exclut la diagonale)\n    mask = np.triu(np.ones(corr_matrix.shape, dtype=bool), k=1)\n    \n    # Appliquer le masque et convertir en format long\n    upper = corr_matrix.where(mask)\n    pairs = upper.stack().reset_index()\n    pairs.columns = ['asset_1', 'asset_2', 'correlation']\n    \n    # Trier par corrélation décroissante\n    return pairs.sort_values('correlation', ascending=False).reset_index(drop=True)","position":{"start":{"line":1485,"column":1},"end":{"line":1524,"column":1}},"key":"sL5Pdoj78T"},{"type":"thematicBreak","position":{"start":{"line":1526,"column":1},"end":{"line":1526,"column":1}},"key":"xrlxKJFBXX"},{"type":"heading","depth":3,"position":{"start":{"line":1528,"column":1},"end":{"line":1528,"column":1}},"children":[{"type":"text","value":"Solution - Exercice 4","position":{"start":{"line":1528,"column":1},"end":{"line":1528,"column":1}},"key":"iKU2iERQU3"}],"identifier":"solution-exercice-4","label":"Solution - Exercice 4","html_id":"solution-exercice-4","implicit":true,"key":"dWEZ88kKIE"},{"type":"code","lang":"python","value":"def summary(self) -> pd.DataFrame:\n    \"\"\"Génère un résumé statistique de l'univers.\"\"\"\n    data = []\n    \n    for asset in self._assets.values():\n        data.append({\n            'ticker': asset.ticker,\n            'sector': asset.sector,\n            'current_price': asset.current_price,\n            'total_return': asset.total_return,\n            'volatility': asset.volatility,\n            'sharpe_ratio': asset.sharpe_ratio,\n            'max_drawdown': asset.max_drawdown\n        })\n    \n    df = pd.DataFrame(data)\n    \n    # Trier par rendement total décroissant\n    return df.sort_values('total_return', ascending=False).reset_index(drop=True)","position":{"start":{"line":1530,"column":1},"end":{"line":1550,"column":1}},"key":"zUrbF4BDej"},{"type":"thematicBreak","position":{"start":{"line":1552,"column":1},"end":{"line":1552,"column":1}},"key":"ni8j6yYUlc"},{"type":"heading","depth":2,"position":{"start":{"line":1554,"column":1},"end":{"line":1554,"column":1}},"children":[{"type":"text","value":"Résumé de la Session 2","position":{"start":{"line":1554,"column":1},"end":{"line":1554,"column":1}},"key":"rj64dwkinD"}],"identifier":"r-sum-de-la-session-2","label":"Résumé de la Session 2","html_id":"r-sum-de-la-session-2","implicit":true,"key":"DERgKAlUTW"},{"type":"heading","depth":3,"position":{"start":{"line":1556,"column":1},"end":{"line":1556,"column":1}},"children":[{"type":"text","value":"Concepts Python appris","position":{"start":{"line":1556,"column":1},"end":{"line":1556,"column":1}},"key":"N0i6WLI1ej"}],"identifier":"concepts-python-appris","label":"Concepts Python appris","html_id":"concepts-python-appris","implicit":true,"key":"pwvkQ4G8Ck"},{"type":"table","position":{"start":{"line":1558,"column":1},"end":{"line":1569,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"children":[{"type":"text","value":"Concept","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"key":"Verxl1yNFX"}],"key":"BwZgtaixgH"},{"type":"tableCell","header":true,"position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"children":[{"type":"text","value":"Application","position":{"start":{"line":1558,"column":1},"end":{"line":1558,"column":1}},"key":"gxPBG5kD2q"}],"key":"EpRabLVrPP"}],"key":"h6pXg4MHMM"},{"type":"tableRow","position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"children":[{"type":"text","value":"Composition","position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"key":"qLXBNQZ2bE"}],"key":"Wc4lcgiZbx"},{"type":"tableCell","position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"children":[{"type":"text","value":"Asset POSSÈDE une PriceSeries","position":{"start":{"line":1560,"column":1},"end":{"line":1560,"column":1}},"key":"cIpyctqWVY"}],"key":"q6y03iOEoO"}],"key":"UFHjzrOyeV"},{"type":"tableRow","position":{"start":{"line":1561,"column":1},"end":{"line":1561,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1561,"column":1},"end":{"line":1561,"column":1}},"children":[{"type":"text","value":"Agrégation","position":{"start":{"line":1561,"column":1},"end":{"line":1561,"column":1}},"key":"d8aPNht5Pv"}],"key":"DI1cD9sBBP"},{"type":"tableCell","position":{"start":{"line":1561,"column":1},"end":{"line":1561,"column":1}},"children":[{"type":"text","value":"Universe CONTIENT des Asset","position":{"start":{"line":1561,"column":1},"end":{"line":1561,"column":1}},"key":"ol05cWBRmy"}],"key":"R1g9BPFjYP"}],"key":"zPV4wyDuNs"},{"type":"tableRow","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"children":[{"type":"text","value":"Décorateur ","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"key":"cuc7bYAycy"},{"type":"inlineCode","value":"@property","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"key":"IS0Ctyy7Wl"}],"key":"m1RluDXfwC"},{"type":"tableCell","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"children":[{"type":"text","value":"Attributs calculés en lecture seule","position":{"start":{"line":1562,"column":1},"end":{"line":1562,"column":1}},"key":"ts4jWO1S7O"}],"key":"XwabU96nnl"}],"key":"mnnAvMBYvP"},{"type":"tableRow","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"children":[{"type":"text","value":"Décorateurs personnalisés","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"key":"HuOdhoq33S"}],"key":"RGxCEJR9ay"},{"type":"tableCell","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"children":[{"type":"text","value":"Chronométrage, logging","position":{"start":{"line":1563,"column":1},"end":{"line":1563,"column":1}},"key":"AduI1KhHFa"}],"key":"NC7CRP3O9Q"}],"key":"vasxdfrzkb"},{"type":"tableRow","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"children":[{"type":"text","value":"Listes","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"key":"tUKApnW3fq"}],"key":"mdDxEb2kNl"},{"type":"tableCell","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"children":[{"type":"text","value":"Collections ordonnées et mutables","position":{"start":{"line":1564,"column":1},"end":{"line":1564,"column":1}},"key":"GX9mT2fl0L"}],"key":"Ji33XaL4it"}],"key":"hdy36DjmK2"},{"type":"tableRow","position":{"start":{"line":1565,"column":1},"end":{"line":1565,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1565,"column":1},"end":{"line":1565,"column":1}},"children":[{"type":"text","value":"Dictionnaires","position":{"start":{"line":1565,"column":1},"end":{"line":1565,"column":1}},"key":"Oy09PBlVGe"}],"key":"gesB0DRdj4"},{"type":"tableCell","position":{"start":{"line":1565,"column":1},"end":{"line":1565,"column":1}},"children":[{"type":"text","value":"Mapping clé-valeur O(1)","position":{"start":{"line":1565,"column":1},"end":{"line":1565,"column":1}},"key":"fdduhlhJXG"}],"key":"CI3vxYilJH"}],"key":"xFAtuBtRg1"},{"type":"tableRow","position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"children":[{"type":"text","value":"Ensembles","position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"key":"YhL70Cnt0l"}],"key":"Psq1RsVXkx"},{"type":"tableCell","position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"children":[{"type":"text","value":"Collections uniques, opérations ensemblistes","position":{"start":{"line":1566,"column":1},"end":{"line":1566,"column":1}},"key":"yb1gvuLM3Y"}],"key":"Iqhw8pDgS3"}],"key":"P0zevkDfuh"},{"type":"tableRow","position":{"start":{"line":1567,"column":1},"end":{"line":1567,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1567,"column":1},"end":{"line":1567,"column":1}},"children":[{"type":"text","value":"Compréhensions","position":{"start":{"line":1567,"column":1},"end":{"line":1567,"column":1}},"key":"DCQOkViFjI"}],"key":"DgF0U5PsgF"},{"type":"tableCell","position":{"start":{"line":1567,"column":1},"end":{"line":1567,"column":1}},"children":[{"type":"text","value":"Création concise de collections","position":{"start":{"line":1567,"column":1},"end":{"line":1567,"column":1}},"key":"yyp8ew8pXn"}],"key":"Kda1KP2Ez1"}],"key":"Peg9AlBmXk"},{"type":"tableRow","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"children":[{"type":"text","value":"Expressions génératrices","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"key":"AMQ79Oqvt2"}],"key":"BjKf1xUFoj"},{"type":"tableCell","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"children":[{"type":"text","value":"Évaluation paresseuse","position":{"start":{"line":1568,"column":1},"end":{"line":1568,"column":1}},"key":"IUkHb4fFie"}],"key":"zPKrivDvqc"}],"key":"V9XISB45Go"},{"type":"tableRow","position":{"start":{"line":1569,"column":1},"end":{"line":1569,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1569,"column":1},"end":{"line":1569,"column":1}},"children":[{"type":"text","value":"Système de cache","position":{"start":{"line":1569,"column":1},"end":{"line":1569,"column":1}},"key":"Z5tdRVuJzx"}],"key":"nyukvAPMpw"},{"type":"tableCell","position":{"start":{"line":1569,"column":1},"end":{"line":1569,"column":1}},"children":[{"type":"text","value":"Persistance et optimisation des appels API","position":{"start":{"line":1569,"column":1},"end":{"line":1569,"column":1}},"key":"Useji7KIR6"}],"key":"wYcmqkNdRM"}],"key":"zFvIn36esA"}],"key":"lm8nTaKdW8"},{"type":"heading","depth":3,"position":{"start":{"line":1571,"column":1},"end":{"line":1571,"column":1}},"children":[{"type":"text","value":"Concepts de finance quantitative","position":{"start":{"line":1571,"column":1},"end":{"line":1571,"column":1}},"key":"Vrx7joxKPQ"}],"identifier":"concepts-de-finance-quantitative","label":"Concepts de finance quantitative","html_id":"concepts-de-finance-quantitative","implicit":true,"key":"gay2Sz7GxO"},{"type":"table","position":{"start":{"line":1573,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"children":[{"type":"text","value":"Concept","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"key":"bavSpCalDO"}],"key":"gNKpCGZNf1"},{"type":"tableCell","header":true,"position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"key":"QiYPWt7EOC"}],"key":"YGg8lk8Geq"},{"type":"tableCell","header":true,"position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"children":[{"type":"text","value":"Référence","position":{"start":{"line":1573,"column":1},"end":{"line":1573,"column":1}},"key":"AJsOXh0HR0"}],"key":"er4lQXKGXj"}],"key":"q00Or42xwv"},{"type":"tableRow","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"children":[{"type":"text","value":"Corrélation de Pearson","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"key":"NhPEjMwYhI"}],"key":"wtXCD9tunB"},{"type":"tableCell","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"children":[{"type":"text","value":"Mesure de relation linéaire entre actifs","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"key":"hnILc0ssoA"}],"key":"tmpcFX9vnD"},{"type":"tableCell","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"children":[{"type":"text","value":"Portfolio Optimization","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"key":"KAJZUj8Uua"}],"key":"hP4UQcfMxt"},{"type":"text","value":" Ch. 2","position":{"start":{"line":1575,"column":1},"end":{"line":1575,"column":1}},"key":"qhIcbiTNLs"}],"key":"xOg88ScUou"}],"key":"nlonHvaB8B"},{"type":"tableRow","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"children":[{"type":"text","value":"Matrice de corrélation","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"key":"Vq0biqd3DP"}],"key":"nJaF0CrUU0"},{"type":"tableCell","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"children":[{"type":"text","value":"Vue d’ensemble des relations dans un univers","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"key":"Z2xAtNyXnI"}],"key":"wevNOmL0b9"},{"type":"tableCell","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"children":[{"type":"text","value":"Elements of QI","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"key":"KPnnJxBR0B"}],"key":"in10wF08zH"},{"type":"text","value":" Ch. 8","position":{"start":{"line":1576,"column":1},"end":{"line":1576,"column":1}},"key":"zTobli6WZG"}],"key":"l9viCmnXHK"}],"key":"JCCZtzbozH"},{"type":"tableRow","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"children":[{"type":"text","value":"Top-K corrélations","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"key":"CmQGEtxjlU"}],"key":"qWbiDr9p2N"},{"type":"tableCell","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"children":[{"type":"text","value":"Identification des paires les plus liées","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"key":"unDJU70uNd"}],"key":"UOBqJrOtbI"},{"type":"tableCell","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"children":[{"type":"text","value":"Correlation Lab","position":{"start":{"line":1577,"column":1},"end":{"line":1577,"column":1}},"key":"j4AarVJyi8"}],"key":"rISKU93BnE"}],"key":"Xwo2dYjaYU"},{"type":"tableRow","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"text","value":"Structure transversale","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"key":"xCOqPmjVMk"}],"key":"AyRpNICHAK"},{"type":"tableCell","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"text","value":"Modélisation conjointe des actifs","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"key":"FV6MqDpqhq"}],"key":"opiYDl3Iok"},{"type":"tableCell","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"children":[{"type":"text","value":"Portfolio Optimization","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"key":"HLgz6knywB"}],"key":"uJ4CuT081S"},{"type":"text","value":" §2.5","position":{"start":{"line":1578,"column":1},"end":{"line":1578,"column":1}},"key":"bYnW83JHVc"}],"key":"z04sjwWYju"}],"key":"XI8fg2UEeL"}],"key":"nV3sq5WO10"},{"type":"heading","depth":3,"position":{"start":{"line":1580,"column":1},"end":{"line":1580,"column":1}},"children":[{"type":"text","value":"Continuité pédagogique","position":{"start":{"line":1580,"column":1},"end":{"line":1580,"column":1}},"key":"O0FxjBlhAc"}],"identifier":"continuit-p-dagogique","label":"Continuité pédagogique","html_id":"continuit-p-dagogique","implicit":true,"key":"ooS25TQ0QY"},{"type":"paragraph","position":{"start":{"line":1582,"column":1},"end":{"line":1582,"column":1}},"children":[{"type":"text","value":"Cette session pose les bases qui seront étendues dans les sessions suivantes :","position":{"start":{"line":1582,"column":1},"end":{"line":1582,"column":1}},"key":"P74qIJjtQF"}],"key":"rtKcrvQkTR"},{"type":"table","position":{"start":{"line":1584,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"children":[{"type":"text","value":"Session 2 (Boucles)","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"key":"JIE5Hx5QoJ"}],"key":"CQ2YFbViJA"},{"type":"tableCell","header":true,"position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"children":[{"type":"text","value":"Session 3 (Vectorisé)","position":{"start":{"line":1584,"column":1},"end":{"line":1584,"column":1}},"key":"uyoD0cupbB"}],"key":"UBPUvDbLC4"}],"key":"XD8FvJ3jfz"},{"type":"tableRow","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"children":[{"type":"inlineCode","value":"top_k_correlations(assets)","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"key":"JTTw7XMYMp"}],"key":"qE3BcoBLp2"},{"type":"tableCell","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"children":[{"type":"inlineCode","value":"universe.top_correlations()","position":{"start":{"line":1586,"column":1},"end":{"line":1586,"column":1}},"key":"jnsivqBmYB"}],"key":"VablN6VtPk"}],"key":"YFb8FvI69o"},{"type":"tableRow","position":{"start":{"line":1587,"column":1},"end":{"line":1587,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1587,"column":1},"end":{"line":1587,"column":1}},"children":[{"type":"inlineCode","value":"build_correlation_matrix(assets)","position":{"start":{"line":1587,"column":1},"end":{"line":1587,"column":1}},"key":"khe5oBf1Z5"}],"key":"grcrub1I1I"},{"type":"tableCell","position":{"start":{"line":1587,"column":1},"end":{"line":1587,"column":1}},"children":[{"type":"inlineCode","value":"universe.correlation_matrix()","position":{"start":{"line":1587,"column":1},"end":{"line":1587,"column":1}},"key":"SvLM62aPQw"}],"key":"ytIUWDiNsA"}],"key":"EFoZlE02ma"},{"type":"tableRow","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"text","value":"Boucles O(n²)","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"key":"wWP8kecxQo"}],"key":"YVdVMTUo18"},{"type":"tableCell","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"children":[{"type":"text","value":"Opérations matricielles NumPy","position":{"start":{"line":1588,"column":1},"end":{"line":1588,"column":1}},"key":"rfhiSX18Th"}],"key":"fCZXLvHX6k"}],"key":"XujcNM1SFT"}],"key":"AZcUATJwvo"},{"type":"thematicBreak","position":{"start":{"line":1590,"column":1},"end":{"line":1590,"column":1}},"key":"Q65jguBOA1"},{"type":"heading","depth":2,"position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"children":[{"type":"text","value":"Travail à faire","position":{"start":{"line":1592,"column":1},"end":{"line":1592,"column":1}},"key":"aklwknifTs"}],"identifier":"travail-faire","label":"Travail à faire","html_id":"travail-faire","implicit":true,"key":"qbC4Gvaqcv"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1594,"column":1},"end":{"line":1597,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1594,"column":1},"end":{"line":1594,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1594,"column":1},"end":{"line":1594,"column":1}},"children":[{"type":"text","value":"Étendre Universe","position":{"start":{"line":1594,"column":1},"end":{"line":1594,"column":1}},"key":"KUyyLL5pcN"}],"key":"w48pubBPRm"},{"type":"text","value":" : Ajouter une méthode ","position":{"start":{"line":1594,"column":1},"end":{"line":1594,"column":1}},"key":"zltu9Al1Bm"},{"type":"inlineCode","value":"covariance_matrix()","position":{"start":{"line":1594,"column":1},"end":{"line":1594,"column":1}},"key":"ulyaNYFoZS"},{"type":"text","value":" qui retourne la matrice de covariance","position":{"start":{"line":1594,"column":1},"end":{"line":1594,"column":1}},"key":"fUEQwo1uRv"}],"key":"vfV7HZ37Hl"}],"key":"m6P2FItdba"},{"type":"listItem","spread":true,"position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"children":[{"type":"text","value":"Expiration du cache","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"key":"aYtwDjVVrs"}],"key":"ZYkeWiAlvG"},{"type":"text","value":" : Modifier DataLoader pour ignorer les fichiers cache de plus de N jours","position":{"start":{"line":1595,"column":1},"end":{"line":1595,"column":1}},"key":"h5eRqBimbf"}],"key":"zJBZIPNa7V"}],"key":"Phjo6CizBu"},{"type":"listItem","spread":true,"position":{"start":{"line":1596,"column":1},"end":{"line":1597,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":1596,"column":1},"end":{"line":1596,"column":1}},"children":[{"type":"text","value":"Lecture préparatoire","position":{"start":{"line":1596,"column":1},"end":{"line":1596,"column":1}},"key":"UqQN2TuTJG"}],"key":"poTvTXzDH5"},{"type":"text","value":" : Lire la documentation de NumPy et les chapitres sur les opérations matricielles","position":{"start":{"line":1596,"column":1},"end":{"line":1596,"column":1}},"key":"dqMSePwOyw"}],"key":"yoXLYWrs8S"}],"key":"OjsW4lgXme"}],"key":"laH0keY6oi"},{"type":"thematicBreak","position":{"start":{"line":1598,"column":1},"end":{"line":1598,"column":1}},"key":"r8lFPIfjyG"},{"type":"heading","depth":2,"position":{"start":{"line":1600,"column":1},"end":{"line":1600,"column":1}},"children":[{"type":"text","value":"Références","position":{"start":{"line":1600,"column":1},"end":{"line":1600,"column":1}},"key":"K8rBnZhpHs"}],"identifier":"r-f-rences","label":"Références","html_id":"r-f-rences","implicit":true,"key":"TAid6MBTp4"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":1602,"column":1},"end":{"line":1608,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Lott, S. & Phillips, D. (2021). ","position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"key":"Pe3fw4DabX"},{"type":"emphasis","position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"children":[{"type":"text","value":"Python Object-Oriented Programming","position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"key":"am4eRkAEYc"}],"key":"fa6uBUoB6a"},{"type":"text","value":", 4th Edition. Packt.","position":{"start":{"line":1602,"column":1},"end":{"line":1602,"column":1}},"key":"Zvyh1ehhr4"}],"key":"pGEFLNZ4VE"}],"key":"OCrE7oe2PP"},{"type":"listItem","spread":true,"position":{"start":{"line":1603,"column":1},"end":{"line":1603,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Ramalho, L. (2022). ","position":{"start":{"line":1603,"column":1},"end":{"line":1603,"column":1}},"key":"Qz87FuMEJj"},{"type":"emphasis","position":{"start":{"line":1603,"column":1},"end":{"line":1603,"column":1}},"children":[{"type":"text","value":"Fluent Python","position":{"start":{"line":1603,"column":1},"end":{"line":1603,"column":1}},"key":"z30R7BqCdr"}],"key":"TmDcRlvyTK"},{"type":"text","value":", 2nd Edition. O’Reilly.","position":{"start":{"line":1603,"column":1},"end":{"line":1603,"column":1}},"key":"ELm4OmG14p"}],"key":"UoYkh4Tp2P"}],"key":"Q6EPShwHzm"},{"type":"listItem","spread":true,"position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Palomar, D. P. (2025). ","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"key":"gUQGKkIvXt"},{"type":"emphasis","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"children":[{"type":"text","value":"Portfolio Optimization: Theory and Application","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"key":"VFBUQ6TLYm"}],"key":"S36wuWXkUm"},{"type":"text","value":". Cambridge University Press.","position":{"start":{"line":1604,"column":1},"end":{"line":1604,"column":1}},"key":"SfKM8O5pQX"}],"key":"nbdmqhmSmf"}],"key":"BgYiamv9yR"},{"type":"listItem","spread":true,"position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Paleologo, G. (2024). ","position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"key":"AqG5z7sLGV"},{"type":"emphasis","position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"children":[{"type":"text","value":"The Elements of Quantitative Investing","position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"key":"GxAhtJGbUI"}],"key":"ryhFTLURyo"},{"type":"text","value":". Chapman & Hall/CRC.","position":{"start":{"line":1605,"column":1},"end":{"line":1605,"column":1}},"key":"II9yYkSEVG"}],"key":"HH7j2bWr8n"}],"key":"yXMKHteDUO"},{"type":"listItem","spread":true,"position":{"start":{"line":1606,"column":1},"end":{"line":1606,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Documentation yfinance : ","position":{"start":{"line":1606,"column":1},"end":{"line":1606,"column":1}},"key":"IEJBD8MvKr"},{"type":"link","url":"https://ranaroussi.github.io/yfinance/","position":{"start":{"line":1606,"column":1},"end":{"line":1606,"column":1}},"children":[{"type":"text","value":"https://​ranaroussi​.github​.io​/yfinance/","position":{"start":{"line":1606,"column":1},"end":{"line":1606,"column":1}},"key":"xsb3i3iANs"}],"urlSource":"https://ranaroussi.github.io/yfinance/","key":"mH0tNr9JcH"}],"key":"pTlIi6TlkJ"}],"key":"ifqWIuF4ZX"},{"type":"listItem","spread":true,"position":{"start":{"line":1607,"column":1},"end":{"line":1607,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Diederich, J. (2012). “Stop Writing Classes” - PyCon 2012","position":{"start":{"line":1607,"column":1},"end":{"line":1607,"column":1}},"key":"mxLr6SzupX"}],"key":"ZnlEmMNQ0s"}],"key":"Nexw4sbJ2v"},{"type":"listItem","spread":true,"position":{"start":{"line":1608,"column":1},"end":{"line":1608,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Global Multi-Asset Correlation Lab - Complexity Explorer Project","position":{"start":{"line":1608,"column":1},"end":{"line":1608,"column":1}},"key":"GXyFmuT1es"}],"key":"lcc66s0Gz7"}],"key":"NmdtT8ckWN"}],"key":"EKGvejBOp4"}],"key":"kiZin2m80p"}],"key":"TBBRldsZfv"},"references":{"cite":{"order":[],"data":{}}}}